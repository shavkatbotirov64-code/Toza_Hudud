var wt=Object.defineProperty;var Nt=(i,t,s)=>t in i?wt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var xe=(i,t,s)=>Nt(i,typeof t!="symbol"?t+"":t,s);import{j as e,C as kt,A as St,p as At,a as Tt,D as Ct}from"./charts-OBCdhCVU.js";import{a as Rt,r as y,R as at}from"./vendor-KfUPlHYY.js";import{L as ue}from"./maps-CIeW26NI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();var De={},Qe=Rt;De.createRoot=Qe.createRoot,De.hydrateRoot=Qe.hydrateRoot;const It=()=>e.jsx("div",{id:"loadingScreen",className:"loading-screen",children:e.jsxs("div",{className:"loader",children:[e.jsx("div",{className:"loader-ring"}),e.jsxs("div",{className:"loader-text",children:["Smart Trash System",e.jsx("br",{}),e.jsx("small",{children:"Yuklanmoqda..."})]})]})}),I=window.location.hostname==="localhost"?"http://localhost:3002":"https://tozahudud-production-d73f.up.railway.app";class Bt{async testConnection(){try{const t=await fetch(`${I}/health`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:await t.json()}}catch(t){return{success:!1,error:t.message}}}async getBins(){try{const t=await fetch(`${I}/bins`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:await t.json()}}catch(t){return{success:!1,error:t.message}}}async createBin(t){try{const s=await fetch(`${I}/bins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async updateBin(t,s){try{const a=await fetch(`${I}/bins/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:await a.json()}}catch(a){return{success:!1,error:a.message}}}async deleteBin(t){try{const s=await fetch(`${I}/bins/${t}`,{method:"DELETE"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0}}catch(s){return{success:!1,error:s.message}}}async cleanBin(t){try{const s=await fetch(`${I}/bins/${t}/clean`,{method:"PATCH"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async getVehicles(){try{const t=await fetch(`${I}/vehicles`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:await t.json()}}catch(t){return{success:!1,error:t.message}}}async createVehicle(t){try{const s=await fetch(`${I}/vehicles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async updateVehicle(t,s){try{const a=await fetch(`${I}/vehicles/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:await a.json()}}catch(a){return{success:!1,error:a.message}}}async deleteVehicle(t){try{const s=await fetch(`${I}/vehicles/${t}`,{method:"DELETE"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0}}catch(s){return{success:!1,error:s.message}}}async getAlerts(){try{const t=await fetch(`${I}/alerts`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:await t.json()}}catch(t){return{success:!1,error:t.message}}}async updateAlert(t,s){try{const a=await fetch(`${I}/alerts/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:await a.json()}}catch(a){return{success:!1,error:a.message}}}async deleteAlert(t){try{const s=await fetch(`${I}/alerts/${t}`,{method:"DELETE"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0}}catch(s){return{success:!1,error:s.message}}}async getActivities(t=50){try{const s=await fetch(`${I}/activities?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async getSensorData(t=50){try{const s=window.location.hostname==="localhost"?`http://localhost:3002/sensors/latest?limit=${t}`:`https://tozahudud-production-d73f.up.railway.app/sensors/latest?limit=${t}`;console.log(`ðŸ” Fetching sensor data from: ${s}`);const a=await fetch(s);if(console.log("ðŸ“¡ Response status:",a.status),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const r=await a.json();return console.log("âœ… Sensor data received:",r),{success:!0,data:r.data||[]}}catch(s){return console.error("âŒ getSensorData error:",s),{success:!1,error:s.message,data:[]}}}async getSensorAlerts(t=20){try{const s=window.location.hostname==="localhost"?`http://localhost:3002/sensors/alerts?limit=${t}`:`https://tozahudud-production-d73f.up.railway.app/sensors/alerts?limit=${t}`;console.log(`ðŸ” Fetching sensor alerts from: ${s}`);const a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const r=await a.json();return console.log("âœ… Sensor alerts received:",r),{success:!0,data:r.data||[]}}catch(s){return console.error("âŒ getSensorAlerts error:",s),{success:!1,error:s.message,data:[]}}}async getSensorStats(){try{const t=window.location.hostname==="localhost"?"http://localhost:3002/sensors/stats":"https://tozahudud-production-d73f.up.railway.app/sensors/stats";console.log(`ðŸ” Fetching sensor stats from: ${t}`);const s=await fetch(t);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();return console.log("âœ… Sensor stats received:",a),{success:!0,data:a.data||{}}}catch(t){return console.error("âŒ getSensorStats error:",t),{success:!1,error:t.message,data:{}}}}async getTelegramBotInfo(){try{const t=await fetch(`${I}/telegram/bot-info`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return{success:!1,error:t.message}}}async getTelegramStats(){try{const t=await fetch(`${I}/telegram/stats`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return{success:!1,error:t.message}}}async getTelegramReports(t=10){try{const s=await fetch(`${I}/telegram/reports?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async getTelegramFeedbacks(t=10){try{const s=await fetch(`${I}/telegram/feedbacks?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async getTelegramUsers(t=50){try{const s=await fetch(`${I}/telegram/users?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async getAllTelegramUsers(t=100){try{const s=await fetch(`${I}/telegram/all-users?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async sendTelegramBroadcast(t){try{const s=await fetch(`${I}/telegram/broadcast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async setTelegramWebhook(t){try{const s=await fetch(`${I}/telegram/webhook`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}transformBinData(t){try{console.log("ðŸ—‘ Transforming bin data:",t);const s={id:t.code,_backendId:t.id,address:t.address,district:t.district,location:[parseFloat(t.latitude),parseFloat(t.longitude)],status:parseFloat(t.fillLevel),lastUpdate:new Date(t.lastUpdate).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),lastCleaned:t.lastCleaned?new Date(t.lastCleaned).toLocaleDateString("uz-UZ")+" "+new Date(t.lastCleaned).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}):"Hech qachon",capacity:t.capacity,type:t.type,sensorId:t.sensorId,online:t.isOnline,installDate:new Date(t.createdAt).toLocaleDateString("uz-UZ"),fillLevel:parseFloat(t.fillLevel),batteryLevel:t.batteryLevel||100};return console.log("âœ… Bin transformed successfully:",s),s}catch(s){return console.error("âŒ Error transforming bin data:",s),console.error("âŒ Original bin data:",t),{id:(t==null?void 0:t.code)||`bin-${Date.now()}`,_backendId:(t==null?void 0:t.id)||null,address:"Xatolik - Ma'lumot yo'q",district:"Noma'lum",location:[41.2995,69.2401],status:0,lastUpdate:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),lastCleaned:"Ma'lumot yo'q",capacity:0,type:"standard",sensorId:null,online:!1,installDate:new Date().toLocaleDateString("uz-UZ"),fillLevel:0,batteryLevel:0}}}transformVehicleData(t){try{console.log("ðŸ”§ Transforming vehicle data:",t);const s={id:t.vehicleId,_backendId:t.id,driver:t.driver||"Noma'lum",phone:t.phone||"+998 00 000 00 00",status:t.isMoving?"moving":"active",location:`${parseFloat(t.latitude||0).toFixed(4)}, ${parseFloat(t.longitude||0).toFixed(4)}`,cleaned:t.totalCleanings||0,position:[parseFloat(t.latitude||39.665),parseFloat(t.longitude||66.96)],isMoving:t.isMoving||!1,isPatrolling:!t.isMoving&&t.status==="idle",hasCleanedOnce:!1,routePath:null,currentPathIndex:0,patrolRoute:[],patrolIndex:0,patrolWaypoints:[[parseFloat(t.latitude||39.665),parseFloat(t.longitude||66.96)],[parseFloat(t.latitude||39.665)+.005,parseFloat(t.longitude||66.96)+.005],[parseFloat(t.latitude||39.665)+.01,parseFloat(t.longitude||66.96)+.01]],currentWaypointIndex:0,targetBinId:t.targetBinId||null,lastCleaned:t.lastCleaningTime?new Date(t.lastCleaningTime).toLocaleDateString("uz-UZ"):"Hech qachon",totalDistance:parseFloat(t.totalDistanceTraveled||0)};return console.log("âœ… Vehicle transformed successfully:",s),s}catch(s){return console.error("âŒ Error transforming vehicle data:",s),console.error("âŒ Original vehicle data:",t),{id:(t==null?void 0:t.id)||`vehicle-${Date.now()}`,_backendId:(t==null?void 0:t.id)||null,driver:"Xatolik - Ma'lumot yo'q",phone:"Noma'lum",licensePlate:"Noma'lum",location:"Noma'lum",status:"inactive",lastUpdate:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),route:"Xatolik",capacity:0,fuelLevel:0,speed:0,cleaned:0,type:"medium_truck",coordinates:[41.2995,69.2401],lastService:"Ma'lumot yo'q",online:!1}}}mapVehicleStatus(t){try{switch(console.log("ðŸ”„ Mapping vehicle status:",t),t){case"moving":return"moving";case"active":return"active";case"inactive":return"inactive";case"maintenance":return"inactive";default:return console.warn("âš ï¸ Unknown vehicle status:",t),"inactive"}}catch(s){return console.error("âŒ Error mapping vehicle status:",s),"inactive"}}transformAlertData(t){var s;try{console.log("ðŸš¨ Transforming alert data:",t);const a=n=>{switch(n==null?void 0:n.toLowerCase()){case"critical":case"high":return"danger";case"medium":return"warning";case"low":return"info";default:return"info"}},r={id:t.id,title:t.title||"Ogohlantirish",message:t.message||"Ma'lumot yo'q",type:a(t.severity),location:t.location||"Noma'lum",time:new Date(t.createdAt).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),read:t.isRead||!1,priority:((s=t.severity)==null?void 0:s.toLowerCase())||"medium"};return console.log("âœ… Alert transformed successfully:",r),r}catch(a){return console.error("âŒ Error transforming alert data:",a),console.error("âŒ Original alert data:",t),{id:(t==null?void 0:t.id)||`alert-${Date.now()}`,title:"Xatolik",message:"Ma'lumotni yuklashda xatolik yuz berdi",type:"info",location:"Noma'lum",time:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),read:!1,priority:"medium"}}}getFillLevelStatus(t){return t>=90?3:t>=70?2:t>=30?1:0}async upsertVehicleStatus(t){try{const s=await fetch(`${I}/vehicles/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async getVehicleStatus(t){try{const s=await fetch(`${I}/vehicles/${t}/status`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async updateVehicleLocation(t,s,a){try{const r=await fetch(`${I}/vehicles/${t}/location`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:s,longitude:a})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return{success:!0,data:await r.json()}}catch(r){return{success:!1,error:r.message}}}async startVehicleMoving(t,s){try{const a=await fetch(`${I}/vehicles/${t}/start-moving`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetBinId:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:await a.json()}}catch(a){return{success:!1,error:a.message}}}async stopVehicle(t){try{const s=await fetch(`${I}/vehicles/${t}/stop`,{method:"PUT"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async completeVehicleCleaning(t){try{const s=await fetch(`${I}/vehicles/${t}/complete-cleaning`,{method:"PUT"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async addVehicleDistance(t,s){try{const a=await fetch(`${I}/vehicles/${t}/add-distance`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({distanceKm:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:await a.json()}}catch(a){return{success:!1,error:a.message}}}async createCleaning(t){try{const s=await fetch(`${I}/cleanings/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return{success:!1,error:s.message}}}async getCleaningHistory(t=50){try{const s=await fetch(`${I}/cleanings/history?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:(await s.json()).data||[]}}catch(s){return{success:!1,error:s.message,data:[]}}}async getCleaningsByBin(t,s=20){try{const a=await fetch(`${I}/cleanings/by-bin/${t}?limit=${s}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:(await a.json()).data||[]}}catch(a){return{success:!1,error:a.message,data:[]}}}async getCleaningsByVehicle(t,s=20){try{const a=await fetch(`${I}/cleanings/by-vehicle/${t}?limit=${s}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:(await a.json()).data||[]}}catch(a){return{success:!1,error:a.message,data:[]}}}async getCleaningStats(){try{const t=await fetch(`${I}/cleanings/stats`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:(await t.json()).data||{}}}catch(t){return{success:!1,error:t.message,data:{}}}}async getDailyCleanings(){try{const t=await fetch(`${I}/cleanings/daily`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:(await t.json()).data||[]}}catch(t){return{success:!1,error:t.message,data:[]}}}async optimizeRoute(t){try{const s=await fetch(`${I}/routes/optimize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async calculateRoute(t,s,a,r){try{const n=await fetch(`${I}/routes/calculate?startLat=${t}&startLon=${s}&endLat=${a}&endLon=${r}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return{success:!1,error:n.message}}}async getRouteHistory(t,s=20){try{const a=await fetch(`${I}/routes/history/${t}?limit=${s}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:(await a.json()).data||[]}}catch(a){return{success:!1,error:a.message,data:[]}}}async getRoute(t){try{const s=await fetch(`${I}/routes/${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async updateRouteStatus(t,s){try{const a=await fetch(`${I}/routes/${t}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){return{success:!1,error:a.message}}}async saveGpsLocation(t,s){try{const a=await fetch(`${I}/vehicles/${t}/gps`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){return{success:!1,error:a.message}}}async getCurrentGpsLocation(t){try{const s=await fetch(`${I}/vehicles/${t}/gps/current`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async getGpsHistory(t,s=1){try{const a=await fetch(`${I}/vehicles/${t}/gps-history?hours=${s}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return{success:!0,data:(await a.json()).data||[]}}catch(a){return{success:!1,error:a.message,data:[]}}}async trackVehicle(t,s=50){try{const a=await fetch(`${I}/vehicles/${t}/track?limit=${s}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){return{success:!1,error:a.message}}}async sendNotification(t){try{const s=await fetch(`${I}/notifications/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async getAllNotifications(t=null,s=50){try{let a=`${I}/notifications/list?limit=${s}`;t&&(a+=`&userId=${t}`);const r=await fetch(a);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return{success:!0,data:(await r.json()).data||[]}}catch(a){return{success:!1,error:a.message,data:[]}}}async getUnreadNotifications(t=null){try{let s=`${I}/notifications/unread`;t&&(s+=`?userId=${t}`);const a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const r=await a.json();return{success:!0,data:r.data||[],count:r.count||0}}catch(s){return{success:!1,error:s.message,data:[],count:0}}}async markNotificationAsRead(t){try{const s=await fetch(`${I}/notifications/${t}/read`,{method:"PUT"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async markAllNotificationsAsRead(t=null){try{let s=`${I}/notifications/read-all`;t&&(s+=`?userId=${t}`);const a=await fetch(s,{method:"PUT"});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(s){return{success:!1,error:s.message}}}async deleteNotification(t){try{const s=await fetch(`${I}/notifications/${t}`,{method:"DELETE"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return{success:!1,error:s.message}}}async getDashboardStats(){try{const t=await fetch(`${I}/analytics/dashboard`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return{success:!1,error:t.message}}}async getDailyStats(t=null){try{let s=`${I}/analytics/daily`;t&&(s+=`?date=${t}`);const a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(s){return{success:!1,error:s.message}}}async getWeeklyStats(){try{const t=await fetch(`${I}/analytics/weekly`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return{success:!1,error:t.message}}}async getMonthlyStats(t=null,s=null){try{let a=`${I}/analytics/monthly`;const r=[];t&&r.push(`year=${t}`),s&&r.push(`month=${s}`),r.length>0&&(a+=`?${r.join("&")}`);const n=await fetch(a);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(a){return{success:!1,error:a.message}}}async getEfficiencyStats(){try{const t=await fetch(`${I}/analytics/efficiency`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return{success:!1,error:t.message}}}async getBinsStats(){try{const t=await fetch(`${I}/analytics/bins`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return{success:!1,error:t.message}}}async getVehiclesStats(){try{const t=await fetch(`${I}/analytics/vehicles`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return{success:!1,error:t.message}}}}const V=new Bt,de=Object.create(null);de.open="0";de.close="1";de.ping="2";de.pong="3";de.message="4";de.upgrade="5";de.noop="6";const be=Object.create(null);Object.keys(de).forEach(i=>{be[de[i]]=i});const Ee={type:"error",data:"parser error"},it=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",rt=typeof ArrayBuffer=="function",nt=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,ze=({type:i,data:t},s,a)=>it&&t instanceof Blob?s?a(t):Xe(t,a):rt&&(t instanceof ArrayBuffer||nt(t))?s?a(t):Xe(new Blob([t]),a):a(de[i]+(t||"")),Xe=(i,t)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];t("b"+(a||""))},s.readAsDataURL(i)};function Ke(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let Re;function Pt(i,t){if(it&&i.data instanceof Blob)return i.data.arrayBuffer().then(Ke).then(t);if(rt&&(i.data instanceof ArrayBuffer||nt(i.data)))return t(Ke(i.data));ze(i,!1,s=>{Re||(Re=new TextEncoder),t(Re.encode(s))})}const Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Je.length;i++)ge[Je.charCodeAt(i)]=i;const Dt=i=>{let t=i.length*.75,s=i.length,a,r=0,n,o,l,x;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);const f=new ArrayBuffer(t),c=new Uint8Array(f);for(a=0;a<s;a+=4)n=ge[i.charCodeAt(a)],o=ge[i.charCodeAt(a+1)],l=ge[i.charCodeAt(a+2)],x=ge[i.charCodeAt(a+3)],c[r++]=n<<2|o>>4,c[r++]=(o&15)<<4|l>>2,c[r++]=(l&3)<<6|x&63;return f},Et=typeof ArrayBuffer=="function",Oe=(i,t)=>{if(typeof i!="string")return{type:"message",data:ot(i,t)};const s=i.charAt(0);return s==="b"?{type:"message",data:$t(i.substring(1),t)}:be[s]?i.length>1?{type:be[s],data:i.substring(1)}:{type:be[s]}:Ee},$t=(i,t)=>{if(Et){const s=Dt(i);return ot(s,t)}else return{base64:!0,data:i}},ot=(i,t)=>{switch(t){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},lt="",Mt=(i,t)=>{const s=i.length,a=new Array(s);let r=0;i.forEach((n,o)=>{ze(n,!1,l=>{a[o]=l,++r===s&&t(a.join(lt))})})},qt=(i,t)=>{const s=i.split(lt),a=[];for(let r=0;r<s.length;r++){const n=Oe(s[r],t);if(a.push(n),n.type==="error")break}return a};function _t(){return new TransformStream({transform(i,t){Pt(i,s=>{const a=s.length;let r;if(a<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,a);else if(a<65536){r=new Uint8Array(3);const n=new DataView(r.buffer);n.setUint8(0,126),n.setUint16(1,a)}else{r=new Uint8Array(9);const n=new DataView(r.buffer);n.setUint8(0,127),n.setBigUint64(1,BigInt(a))}i.data&&typeof i.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(s)})}})}let Ie;function ye(i){return i.reduce((t,s)=>t+s.length,0)}function ve(i,t){if(i[0].length===t)return i.shift();const s=new Uint8Array(t);let a=0;for(let r=0;r<t;r++)s[r]=i[0][a++],a===i[0].length&&(i.shift(),a=0);return i.length&&a<i[0].length&&(i[0]=i[0].slice(a)),s}function Lt(i,t){Ie||(Ie=new TextDecoder);const s=[];let a=0,r=-1,n=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(a===0){if(ye(s)<1)break;const x=ve(s,1);n=(x[0]&128)===128,r=x[0]&127,r<126?a=3:r===126?a=1:a=2}else if(a===1){if(ye(s)<2)break;const x=ve(s,2);r=new DataView(x.buffer,x.byteOffset,x.length).getUint16(0),a=3}else if(a===2){if(ye(s)<8)break;const x=ve(s,8),f=new DataView(x.buffer,x.byteOffset,x.length),c=f.getUint32(0);if(c>Math.pow(2,21)-1){l.enqueue(Ee);break}r=c*Math.pow(2,32)+f.getUint32(4),a=3}else{if(ye(s)<r)break;const x=ve(s,r);l.enqueue(Oe(n?x:Ie.decode(x),t)),a=0}if(r===0||r>i){l.enqueue(Ee);break}}}})}const ct=4;function G(i){if(i)return zt(i)}function zt(i){for(var t in G.prototype)i[t]=G.prototype[t];return i}G.prototype.on=G.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};G.prototype.once=function(i,t){function s(){this.off(i,s),t.apply(this,arguments)}return s.fn=t,this.on(i,s),this};G.prototype.off=G.prototype.removeListener=G.prototype.removeAllListeners=G.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+i];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,r=0;r<s.length;r++)if(a=s[r],a===t||a.fn===t){s.splice(r,1);break}return s.length===0&&delete this._callbacks["$"+i],this};G.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+i],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,r=s.length;a<r;++a)s[a].apply(this,t)}return this};G.prototype.emitReserved=G.prototype.emit;G.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};G.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Se=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),ie=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ot="arraybuffer";function dt(i,...t){return t.reduce((s,a)=>(i.hasOwnProperty(a)&&(s[a]=i[a]),s),{})}const Ft=ie.setTimeout,Ut=ie.clearTimeout;function Ae(i,t){t.useNativeTimers?(i.setTimeoutFn=Ft.bind(ie),i.clearTimeoutFn=Ut.bind(ie)):(i.setTimeoutFn=ie.setTimeout.bind(ie),i.clearTimeoutFn=ie.clearTimeout.bind(ie))}const Ht=1.33;function Vt(i){return typeof i=="string"?Yt(i):Math.ceil((i.byteLength||i.size)*Ht)}function Yt(i){let t=0,s=0;for(let a=0,r=i.length;a<r;a++)t=i.charCodeAt(a),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(a++,s+=4);return s}function ht(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Wt(i){let t="";for(let s in i)i.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(i[s]));return t}function Qt(i){let t={},s=i.split("&");for(let a=0,r=s.length;a<r;a++){let n=s[a].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}class Xt extends Error{constructor(t,s,a){super(t),this.description=s,this.context=a,this.type="TransportError"}}class Fe extends G{constructor(t){super(),this.writable=!1,Ae(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,a){return super.emitReserved("error",new Xt(t,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Oe(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=Wt(t);return s.length?"?"+s:""}}class Kt extends Fe{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};qt(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Mt(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=ht()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let ut=!1;try{ut=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Jt=ut;function Zt(){}class Gt extends Kt{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,s){const a=this.request({method:"POST",data:t});a.on("success",s),a.on("error",(r,n)=>{this.onError("xhr post error",r,n)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=t}}class ce extends G{constructor(t,s,a){super(),this.createRequest=t,Ae(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const s=dt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&a.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var r;a.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=ce.requestsCount++,ce.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Zt,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ce.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ce.requestsCount=0;ce.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ze);else if(typeof addEventListener=="function"){const i="onpagehide"in ie?"pagehide":"unload";addEventListener(i,Ze,!1)}}function Ze(){for(let i in ce.requests)ce.requests.hasOwnProperty(i)&&ce.requests[i].abort()}const es=function(){const i=mt({xdomain:!1});return i&&i.responseType!==null}();class ts extends Gt{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=es&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ce(mt,this.uri(),t)}}function mt(i){const t=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Jt))return new XMLHttpRequest}catch{}if(!t)try{return new ie[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const pt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ss extends Fe{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,a=pt?{}:dt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,a)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],r=s===t.length-1;ze(a,this.supportsBinary,n=>{try{this.doWrite(a,n)}catch{}r&&Se(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=ht()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Be=ie.WebSocket||ie.MozWebSocket;class as extends ss{createSocket(t,s,a){return pt?new Be(t,s,a):s?new Be(t,s):new Be(t)}doWrite(t,s){this.ws.send(s)}}class is extends Fe{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=Lt(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(s).getReader(),r=_t();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const n=()=>{a.read().then(({done:l,value:x})=>{l||(this.onPacket(x),n())}).catch(l=>{})};n();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],r=s===t.length-1;this._writer.write(a).then(()=>{r&&Se(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const rs={websocket:as,webtransport:is,polling:ts},ns=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,os=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $e(i){if(i.length>8e3)throw"URI too long";const t=i,s=i.indexOf("["),a=i.indexOf("]");s!=-1&&a!=-1&&(i=i.substring(0,s)+i.substring(s,a).replace(/:/g,";")+i.substring(a,i.length));let r=ns.exec(i||""),n={},o=14;for(;o--;)n[os[o]]=r[o]||"";return s!=-1&&a!=-1&&(n.source=t,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=!0),n.pathNames=ls(n,n.path),n.queryKey=cs(n,n.query),n}function ls(i,t){const s=/\/{2,9}/g,a=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function cs(i,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,r,n){r&&(s[r]=n)}),s}const Me=typeof addEventListener=="function"&&typeof removeEventListener=="function",je=[];Me&&addEventListener("offline",()=>{je.forEach(i=>i())},!1);class he extends G{constructor(t,s){if(super(),this.binaryType=Ot,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const a=$e(t);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=$e(s.host).host);Ae(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const r=a.prototype.name;this.transports.push(r),this._transportsByName[r]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qt(this.opts.query)),Me&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},je.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=ct,s.transport=t,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&he.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",he.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const r=this.writeBuffer[a].data;if(r&&(s+=Vt(r)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Se(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,a){return this._sendPacket("message",t,s,a),this}send(t,s,a){return this._sendPacket("message",t,s,a),this}_sendPacket(t,s,a,r){if(typeof s=="function"&&(r=s,s=void 0),typeof a=="function"&&(r=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const n={type:t,data:s,options:a};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(he.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Me&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=je.indexOf(this._offlineEventListener);a!==-1&&je.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}he.protocol=ct;class ds extends he{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),a=!1;he.priorWebsocketSuccess=!1;const r=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",v=>{if(!a)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;he.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(c(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=s.name,this.emitReserved("upgradeError",b)}}))};function n(){a||(a=!0,c(),s.close(),s=null)}const o=v=>{const b=new Error("probe error: "+v);b.transport=s.name,n(),this.emitReserved("upgradeError",b)};function l(){o("transport closed")}function x(){o("socket closed")}function f(v){s&&v.name!==s.name&&n()}const c=()=>{s.removeListener("open",r),s.removeListener("error",o),s.removeListener("close",l),this.off("close",x),this.off("upgrading",f)};s.once("open",r),s.once("error",o),s.once("close",l),this.once("close",x),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&s.push(t[a]);return s}}let hs=class extends ds{constructor(t,s={}){const a=typeof t=="object"?t:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(r=>rs[r]).filter(r=>!!r)),super(t,a)}};function us(i,t="",s){let a=i;s=s||typeof location<"u"&&location,i==null&&(i=s.protocol+"//"+s.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=s.protocol+i:i=s.host+i),/^(https?|wss?):\/\//.test(i)||(typeof s<"u"?i=s.protocol+"//"+i:i="https://"+i),a=$e(i)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const n=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+n+":"+a.port+t,a.href=a.protocol+"://"+n+(s&&s.port===a.port?"":":"+a.port),a}const ms=typeof ArrayBuffer=="function",ps=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,ft=Object.prototype.toString,fs=typeof Blob=="function"||typeof Blob<"u"&&ft.call(Blob)==="[object BlobConstructor]",gs=typeof File=="function"||typeof File<"u"&&ft.call(File)==="[object FileConstructor]";function Ue(i){return ms&&(i instanceof ArrayBuffer||ps(i))||fs&&i instanceof Blob||gs&&i instanceof File}function we(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let s=0,a=i.length;s<a;s++)if(we(i[s]))return!0;return!1}if(Ue(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return we(i.toJSON(),!0);for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&we(i[s]))return!0;return!1}function xs(i){const t=[],s=i.data,a=i;return a.data=qe(s,t),a.attachments=t.length,{packet:a,buffers:t}}function qe(i,t){if(!i)return i;if(Ue(i)){const s={_placeholder:!0,num:t.length};return t.push(i),s}else if(Array.isArray(i)){const s=new Array(i.length);for(let a=0;a<i.length;a++)s[a]=qe(i[a],t);return s}else if(typeof i=="object"&&!(i instanceof Date)){const s={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=qe(i[a],t));return s}return i}function ys(i,t){return i.data=_e(i.data,t),delete i.attachments,i}function _e(i,t){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let s=0;s<i.length;s++)i[s]=_e(i[s],t);else if(typeof i=="object")for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(i[s]=_e(i[s],t));return i}const gt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vs=5;var _;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(_||(_={}));class bs{constructor(t){this.replacer=t}encode(t){return(t.type===_.EVENT||t.type===_.ACK)&&we(t)?this.encodeAsBinary({type:t.type===_.EVENT?_.BINARY_EVENT:_.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===_.BINARY_EVENT||t.type===_.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=xs(t),a=this.encodeAsString(s.packet),r=s.buffers;return r.unshift(a),r}}class He extends G{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const a=s.type===_.BINARY_EVENT;a||s.type===_.BINARY_ACK?(s.type=a?_.EVENT:_.ACK,this.reconstructor=new js(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Ue(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const a={type:Number(t.charAt(0))};if(_[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===_.BINARY_EVENT||a.type===_.BINARY_ACK){const n=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(n,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(o)}if(t.charAt(s+1)==="/"){const n=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););a.nsp=t.substring(n,s)}else a.nsp="/";const r=t.charAt(s+1);if(r!==""&&Number(r)==r){const n=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}a.id=Number(t.substring(n,s+1))}if(t.charAt(++s)){const n=this.tryParse(t.substr(s));if(He.isPayloadValid(a.type,n))a.data=n;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case _.CONNECT:return ke(s);case _.DISCONNECT:return s===void 0;case _.CONNECT_ERROR:return typeof s=="string"||ke(s);case _.EVENT:case _.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&gt.indexOf(s[0])===-1);case _.ACK:case _.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class js{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=ys(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ws(i){return typeof i=="string"}const Ns=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i};function ks(i){return i===void 0||Ns(i)}function ke(i){return Object.prototype.toString.call(i)==="[object Object]"}function Ss(i,t){switch(i){case _.CONNECT:return t===void 0||ke(t);case _.DISCONNECT:return t===void 0;case _.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&gt.indexOf(t[0])===-1);case _.ACK:return Array.isArray(t);case _.CONNECT_ERROR:return typeof t=="string"||ke(t);default:return!1}}function As(i){return ws(i.nsp)&&ks(i.id)&&Ss(i.type,i.data)}const Ts=Object.freeze(Object.defineProperty({__proto__:null,Decoder:He,Encoder:bs,get PacketType(){return _},isPacketValid:As,protocol:vs},Symbol.toStringTag,{value:"Module"}));function oe(i,t,s){return i.on(t,s),function(){i.off(t,s)}}const Cs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xt extends G{constructor(t,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[oe(t,"open",this.onopen.bind(this)),oe(t,"packet",this.onpacket.bind(this)),oe(t,"error",this.onerror.bind(this)),oe(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var a,r,n;if(Cs.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:_.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const c=this.ids++,v=s.pop();this._registerAckCallback(c,v),o.id=c}const l=(r=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||r===void 0?void 0:r.writable,x=this.connected&&!(!((n=this.io.engine)===null||n===void 0)&&n._hasPingExpired());return this.flags.volatile&&!l||(x?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var a;const r=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(r===void 0){this.acks[t]=s;return}const n=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);s.call(this,new Error("operation has timed out"))},r),o=(...l)=>{this.io.clearTimeoutFn(n),s.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((a,r)=>{const n=(o,l)=>o?r(o):a(l);n.withError=!0,s.push(n),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...n)=>(this._queue[0],r!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(r)):(this._queue.shift(),s&&s(null,...n)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:_.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case _.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _.EVENT:case _.BINARY_EVENT:this.onevent(t);break;case _.ACK:case _.BINARY_ACK:this.onack(t);break;case _.DISCONNECT:this.ondisconnect();break;case _.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let a=!1;return function(...r){a||(a=!0,s.packet({type:_.ACK,id:t,data:r}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,t.data)}}}function me(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}me.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*i);i=Math.floor(t*10)&1?i+s:i-s}return Math.min(i,this.max)|0};me.prototype.reset=function(){this.attempts=0};me.prototype.setMin=function(i){this.ms=i};me.prototype.setMax=function(i){this.max=i};me.prototype.setJitter=function(i){this.jitter=i};class Le extends G{constructor(t,s){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Ae(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new me({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const r=s.parser||Ts;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new hs(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const r=oe(s,"open",function(){a.onopen(),t&&t()}),n=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=oe(s,"error",n);if(this._timeout!==!1){const l=this._timeout,x=this.setTimeoutFn(()=>{r(),n(new Error("timeout")),s.close()},l);this.opts.autoUnref&&x.unref(),this.subs.push(()=>{this.clearTimeoutFn(x)})}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(oe(t,"ping",this.onping.bind(this)),oe(t,"data",this.ondata.bind(this)),oe(t,"error",this.onerror.bind(this)),oe(t,"close",this.onclose.bind(this)),oe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Se(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new xt(this,t,s),this.nsps[t]=a),a}_destroy(t){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let a=0;a<s.length;a++)this.engine.write(s[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fe={};function Ne(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};const s=us(i,t.path||"/socket.io"),a=s.source,r=s.id,n=s.path,o=fe[r]&&n in fe[r].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let x;return l?x=new Le(a,t):(fe[r]||(fe[r]=new Le(a,t)),x=fe[r]),s.query&&!t.query&&(t.query=s.queryKey),x.socket(s.path,t)}Object.assign(Ne,{Manager:Le,Socket:xt,io:Ne,connect:Ne});const yt=y.createContext(),ee=()=>{const i=y.useContext(yt);if(!i)throw new Error("useAppContext must be used within AppProvider");return i},Rs=({children:i})=>{const s=y.useRef(new Map),a=(g,d)=>{const k=g[0],M=g[1],A=d[0],j=d[1],T=6371,q=(A-k)*Math.PI/180,se=(j-M)*Math.PI/180,F=Math.sin(q/2)*Math.sin(q/2)+Math.cos(k*Math.PI/180)*Math.cos(A*Math.PI/180)*Math.sin(se/2)*Math.sin(se/2),O=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return T*O},r=g=>{const d=s.current.get(g);return d?d.expiresAt<=Date.now()?(s.current.delete(g),null):d:null},n=(g,d)=>{s.current.set(g,{vehicleId:d,expiresAt:Date.now()+6e5})},o=g=>{s.current.delete(g)},l=g=>{for(const[d,k]of s.current.entries())k.vehicleId===g&&s.current.delete(d)},x=g=>Array.isArray(g)&&g.length===0?null:g,[f,c]=y.useState(()=>localStorage.getItem("theme")||"light"),[v,b]=y.useState(()=>{const g=localStorage.getItem("language");return g&&["uz","ru","en"].includes(g)?g:"uz"}),[S,L]=y.useState([{id:"ESP32-IBN-SINO",_backendId:null,address:"Ibn Sino ko'chasi 17A, Samarqand",district:"Samarqand",location:[39.6742637,66.9737814],status:15,lastUpdate:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),lastCleaned:"Hech qachon",capacity:120,type:"standard",sensorId:"ESP32-IBN-SINO",online:!0,installDate:new Date().toLocaleDateString("uz-UZ"),fillLevel:15,batteryLevel:100}]),[w,E]=y.useState(()=>{try{const g=localStorage.getItem("vehiclesData");if(g){const d=JSON.parse(g);return console.log("Ã°Å¸Å¡â€º localStorage dan mashinalar yuklandi:",d.length),d}}catch(g){console.error("Ã¢ÂÅ’ localStorage dan yuklashda xatolik:",g)}return[]}),[Z,$]=y.useState([]),[D,B]=y.useState("EMPTY"),U=(g,d)=>{$(k=>k.map(M=>M.id===g?{...M,...d}:M))},Y=(g,d)=>{E(k=>k.map(M=>M.id===g?{...M,...d}:M)),(d.isPatrolling!==void 0||d.hasCleanedOnce!==void 0||d.patrolIndex!==void 0||d.status!==void 0)&&fetch(`https://tozahudud-production-d73f.up.railway.app/vehicles/${g}/state`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPatrolling:d.isPatrolling,hasCleanedOnce:d.hasCleanedOnce,patrolIndex:d.patrolIndex,status:d.status,patrolRoute:d.patrolRoute,currentRoute:d.routePath})}).catch(M=>console.error("Failed to sync state:",M))},Q=async(g,d)=>{var k,M;if(!(g!=null&&g.position)||!(d!=null&&d.location))return console.error("createRoute: coordinates missing",{vehicleId:g==null?void 0:g.id,binId:d==null?void 0:d.id}),!1;console.log(`Creating route for ${g.id} to ${d.id}`),console.log(`Vehicle current position: [${g.position[0]}, ${g.position[1]}]`),console.log(`Bin location: [${d.location[0]}, ${d.location[1]}]`);try{const A="https://tozahudud-production-d73f.up.railway.app";let j=[g.position,d.location],T="Noma'lum",q="Noma'lum";try{const F=`${A}/routing/route?startLat=${g.position[0]}&startLon=${g.position[1]}&endLat=${d.location[0]}&endLon=${d.location[1]}`,O=await fetch(F),P=await O.json();if(O.ok&&(P!=null&&P.success)&&((M=(k=P==null?void 0:P.data)==null?void 0:k.path)==null?void 0:M.length)>1)j=P.data.path,T=P.data.distance||T,q=P.data.duration||q;else throw new Error("Backend route not available")}catch(F){console.warn("Backend routing failed, fallback to OSRM public API:",F);const O=`https://router.project-osrm.org/route/v1/driving/${g.position[1]},${g.position[0]};${d.location[1]},${d.location[0]}?overview=full&geometries=geojson&continue_straight=true`,ae=await(await fetch(O)).json();if(ae.code==="Ok"&&ae.routes&&ae.routes.length>0){const pe=ae.routes[0];j=pe.geometry.coordinates.map(ne=>[ne[1],ne[0]]),T=`${(pe.distance/1e3).toFixed(2)} km`,q=`${(pe.duration/60).toFixed(0)} daqiqa`}}const se={id:`ROUTE-${Date.now()}`,name:`${g.driver} -> ${d.id}`,vehicle:g.id,bins:[d.id],progress:0,distance:T,estimatedTime:q,isActive:!0,path:j};return Y(g.id,{isPatrolling:!1,routePath:j,currentPathIndex:0,targetBinId:d.id}),$(F=>[...F.filter(O=>O.vehicle!==g.id),se]),!0}catch(A){return console.error("Error creating route:",A),!1}},[W,h]=y.useState([]),[m,K]=y.useState([]),[le,J]=y.useState([]),[z,X]=y.useState(!1),[re,C]=y.useState(!0);y.useEffect(()=>{document.documentElement.setAttribute("data-theme",f),localStorage.setItem("theme",f)},[f]),y.useEffect(()=>{document.documentElement.setAttribute("lang",v),localStorage.setItem("language",v)},[v]),y.useEffect(()=>{if(w.length>0)try{localStorage.setItem("vehiclesData",JSON.stringify(w)),console.log("Ã°Å¸â€™Â¾ Mashinalar holati saqlandi:",w.length)}catch(g){console.error("Ã¢ÂÅ’ localStorage ga saqlashda xatolik:",g)}},[w]);const u=async()=>{console.log("Ã°Å¸â€â€ž Loading data from API...");try{const g=await V.testConnection();if(console.log("Ã°Å¸â€â€” API Connection Test:",g),g.success){X(!0),console.log("Ã¢Å“â€¦ API connected successfully");const d=await V.getBins();console.log("Ã°Å¸â€œÂ¦ Bins Result:",d),console.log("Ã°Å¸â€œÂ¦ Bins Result Data:",d.data),console.log("Ã°Å¸â€œÂ¦ Bins Result Data Type:",typeof d.data);try{if(d.success&&d.data){let j=d.data;if(typeof d.data=="object"&&!Array.isArray(d.data)&&d.data.data&&(j=d.data.data,console.log("Ã°Å¸â€œÂ¦ Using nested data array:",j)),console.log("Ã°Å¸â€œÂ¦ BinsArray:",j),console.log("Ã°Å¸â€œÂ¦ BinsArray length:",j==null?void 0:j.length),console.log("Ã°Å¸â€œÂ¦ BinsArray is Array:",Array.isArray(j)),Array.isArray(j)&&j.length>0){console.log("Ã°Å¸â€œÂ¦ Processing bins array:",j.length,"items"),console.log("Ã°Å¸â€œÂ¦ First bin raw data:",j[0]);const T=j.map((q,se)=>{try{console.log(`Ã°Å¸â€œÂ¦ Transforming bin ${se+1}:`,q);const F=V.transformBinData(q);return console.log(`Ã¢Å“â€¦ Bin ${se+1} transformed:`,F),F}catch(F){return console.error(`Ã¢ÂÅ’ Error transforming bin ${se+1}:`,F),console.error("Ã¢ÂÅ’ Bin data:",q),null}}).filter(q=>q!==null);console.log("Ã°Å¸â€œÂ¦ Transformed Bins:",T),console.log("Ã°Å¸â€œÂ¦ Setting binsData with",T.length,"bins"),T.length>0?(L(T),console.log("Ã¢Å“â€¦ BinsData set successfully")):console.warn("Ã¢Å¡Â Ã¯Â¸Â No bins could be transformed")}else console.log("Ã°Å¸â€œÂ¦ No bins data or empty array"),console.log("Ã°Å¸â€œÂ¦ BinsArray:",j)}else console.log("Ã°Å¸â€œÂ¦ API call failed or no data"),console.log("Ã°Å¸â€œÂ¦ binsResult.success:",d.success),console.log("Ã°Å¸â€œÂ¦ binsResult.data:",d.data)}catch(j){console.error("Ã¢ÂÅ’ Error processing bins data:",j),console.error("Ã¢ÂÅ’ Error stack:",j.stack),p("Qutilar ma'lumotini yuklashda xatolik","error")}const k=await V.getVehicles();console.log("Ã°Å¸Å¡â€º Vehicles Result:",k);try{if(k.success&&k.data){let j=k.data;if(typeof k.data=="object"&&!Array.isArray(k.data)&&k.data.data&&(j=k.data.data,console.log("Ã°Å¸Å¡â€º Using nested data array:",j)),Array.isArray(j)&&j.length>0){console.log("Ã°Å¸Å¡â€º Processing vehicles array:",j.length,"items");const T=[[[39.665,66.96],[39.67,66.965],[39.675,66.97],[39.672,66.975],[39.668,66.972],[39.665,66.968],[39.665,66.96]],[[39.678,66.985],[39.673,66.98],[39.668,66.975],[39.672,66.97],[39.676,66.965],[39.68,66.97],[39.678,66.985]],[[39.66,66.99],[39.665,66.995],[39.67,67],[39.665,66.995],[39.66,66.99]],[[39.68,66.95],[39.675,66.955],[39.67,66.96],[39.675,66.955],[39.68,66.95]]],se=(await Promise.all(j.map(async(F,O)=>{try{console.log(`Ã°Å¸Å¡â€º Transforming vehicle ${O+1}:`,F);const P=V.transformVehicleData(F);try{const H=await(await fetch(`https://tozahudud-production-d73f.up.railway.app/vehicles/${P.id}/status`)).json();if(H.success&&H.data){if(console.log(`Ã°Å¸â€œÂ¥ Backend state loaded for ${P.id}:`,H.data),P.position=[H.data.latitude,H.data.longitude],P.isPatrolling=H.data.isPatrolling!==void 0?H.data.isPatrolling:!0,P.hasCleanedOnce=H.data.hasCleanedOnce||!1,P.patrolIndex=H.data.patrolIndex||0,P.status=H.data.status||"moving",H.data.patrolRoute&&Array.isArray(H.data.patrolRoute)&&H.data.patrolRoute.length>0)P.patrolRoute=H.data.patrolRoute;else{console.log(`Ã¢Å¡Â Ã¯Â¸Â ${P.id}: patrolRoute bo'sh, waypoints yaratilmoqda...`);const ne=S.length>0?S[0].location:[39.6742637,66.9737814],Ye=.005,Ce=[];for(let We=0;We<4;We++){const bt=ne[0]+(Math.random()-.5)*Ye*2,jt=ne[1]+(Math.random()-.5)*Ye*2;Ce.push([bt,jt])}P.patrolWaypoints=Ce,P.patrolRoute=[],console.log(`Ã¢Å“â€¦ ${P.id}: ${Ce.length} waypoints yaratildi`)}H.data.currentRoute!==void 0&&(P.routePath=x(H.data.currentRoute)),console.log(`Ã¢Å“â€¦ Vehicle ${P.id} state loaded from backend`)}else{console.log(`Ã¢Å¡Â Ã¯Â¸Â No backend state for ${P.id}, using defaults`);const ne=O%T.length;P.patrolWaypoints=T[ne],P.isPatrolling=!0,P.currentWaypointIndex=0}}catch(ae){console.error(`Ã¢ÂÅ’ Failed to load state from backend for ${P.id}:`,ae);const H=JSON.parse(localStorage.getItem("vehiclesData")||"[]").find(ne=>ne.id===P.id);if(H)console.log(`Ã¢â„¢Â»Ã¯Â¸Â Fallback: Loading ${P.id} from localStorage`),P.position=H.position||P.position,P.patrolRoute=H.patrolRoute||[],P.patrolIndex=H.patrolIndex||0,P.isPatrolling=H.isPatrolling!==void 0?H.isPatrolling:!0,P.routePath=H.routePath||null,P.currentPathIndex=H.currentPathIndex||0,P.cleaned=H.cleaned||0;else{const ne=O%T.length;P.patrolWaypoints=T[ne],P.isPatrolling=!0,P.currentWaypointIndex=0}}return P}catch(P){return console.error(`Ã¢ÂÅ’ Error transforming vehicle ${O+1}:`,P),console.error("Ã¢ÂÅ’ Vehicle data:",F),null}}))).filter(F=>F!==null);console.log("Ã°Å¸Å¡â€º Transformed Vehicles:",se),se.length>0?E(se):console.warn("Ã¢Å¡Â Ã¯Â¸Â No vehicles could be transformed")}else console.log("Ã°Å¸Å¡â€º No vehicles data or empty array"),console.log("Ã°Å¸Å¡â€º VehiclesArray:",j)}else console.log("Ã°Å¸Å¡â€º API call failed or no data")}catch(j){console.error("Ã¢ÂÅ’ Error processing vehicles data:",j),p("Transport vositalarini yuklashda xatolik","error")}const M=await V.getAlerts();console.log("Ã°Å¸Å¡Â¨ Alerts Result:",M);try{if(M.success&&M.data){let j=M.data;if(typeof M.data=="object"&&!Array.isArray(M.data)&&M.data.data&&(j=M.data.data,console.log("Ã°Å¸Å¡Â¨ Using nested data array:",j)),Array.isArray(j)&&j.length>0){console.log("Ã°Å¸Å¡Â¨ Processing alerts array:",j.length,"items");const T=j.map((q,se)=>{try{return console.log(`Ã°Å¸Å¡Â¨ Transforming alert ${se+1}:`,q),V.transformAlertData(q)}catch(F){return console.error(`Ã¢ÂÅ’ Error transforming alert ${se+1}:`,F),console.error("Ã¢ÂÅ’ Alert data:",q),null}}).filter(q=>q!==null);console.log("Ã°Å¸Å¡Â¨ Transformed Alerts:",T),T.length>0?K(T):console.warn("Ã¢Å¡Â Ã¯Â¸Â No alerts could be transformed")}else console.log("Ã°Å¸Å¡Â¨ No alerts data or empty array"),console.log("Ã°Å¸Å¡Â¨ AlertsArray:",j)}else console.log("Ã°Å¸Å¡Â¨ API call failed or no data")}catch(j){console.error("Ã¢ÂÅ’ Error processing alerts data:",j),p("Ogohlantirishlarni yuklashda xatolik","error")}const A=await V.getActivities(50);console.log("Ã°Å¸â€œâ€¹ Activities Result:",A);try{if(A.success&&A.data){let j=A.data;typeof A.data=="object"&&!Array.isArray(A.data)&&A.data.data&&(j=A.data.data,console.log("Ã°Å¸â€œâ€¹ Using nested data array:",j)),Array.isArray(j)&&j.length>0?(console.log("Ã°Å¸â€œâ€¹ Processing activities array:",j.length,"items"),h(j),console.log("Ã¢Å“â€¦ Activities loaded successfully")):console.log("Ã°Å¸â€œâ€¹ No activities data or empty array")}else console.log("Ã°Å¸â€œâ€¹ API call failed or no data")}catch(j){console.error("Ã¢ÂÅ’ Error processing activities data:",j),p("Faoliyatlarni yuklashda xatolik","error")}p("Ma'lumotlar muvaffaqiyatli yuklandi","success")}else X(!1),console.warn("Ã¢Å¡Â Ã¯Â¸Â API ga ulanib bo'lmadi"),p("API ga ulanib bo'lmadi. Iltimos, backend ishga tushganini tekshiring.","warning")}catch(g){console.error("Ã¢ÂÅ’ API yuklash xatosi:",g),X(!1),p("Ma'lumotlarni yuklashda xatolik. Backend ishlamayapti.","error")}finally{C(!1),console.log("Ã°Å¸ÂÂ Data loading completed")}};y.useEffect(()=>{u()},[]),y.useEffect(()=>{if(!z)return;const g=setInterval(()=>{if(S.some(k=>k.status>=90)){console.log("Ã¢ÂÂ¸Ã¯Â¸Â Auto-refresh paused: Quti FULL holatida");return}console.log("Ã°Å¸â€â€ž Auto-refreshing data..."),u()},3e4);return()=>clearInterval(g)},[z,S]),y.useEffect(()=>{console.log("Ã°Å¸â€Â§ AppContext: WebSocket initializing...");const g=Ne("https://tozahudud-production-d73f.up.railway.app",{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return g.on("connect",()=>{console.log("Ã¢Å“â€¦ AppContext WebSocket connected:",g.id)}),g.on("disconnect",()=>{console.log("Ã¢ÂÅ’ AppContext WebSocket disconnected")}),g.on("sensorData",d=>{const k=Number(d.distance);if(!Number.isFinite(k)){console.log("sensorData ignored: invalid distance format");return}if(k>20){console.log(`sensorData ignored: distance=${k} (>20 cm)`);return}console.log("Ã°Å¸â€œÂ¡ AppContext: REAL-TIME ESP32 SIGNAL:",d),console.log(`Ã°Å¸â€œÂ¡ Distance: ${d.distance} sm`),console.log(`Ã°Å¸â€œÂ¡ BinId: ${d.binId}`),B("FULL"),L(M=>{const A=M.map(T=>T.id===d.binId||T.sensorId===d.binId?{...T,status:95,fillLevel:95,distance:k,lastUpdate:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),timestamp:d.timestamp}:T),j=A.find(T=>T.id===d.binId||T.sensorId===d.binId);if(j){const T=r(j.id);if(T)return console.log(`sensorData skipped: ${j.id} already assigned to ${T.vehicleId}`),A;console.log("Ã°Å¸Å¡â€º ESP32 signal: Eng yaqin mashinani topish..."),E(q=>{if(q.length===0)return console.log("Ã¢Å¡Â Ã¯Â¸Â No vehicles available"),q;console.log("Ã°Å¸â€Â Checking vehicles:",q.length);const F=q.map(O=>{const P=Array.isArray(O.routePath)&&O.routePath.length>0;if(!O.isPatrolling||P)return console.log(`Ã¢ÂÂ­Ã¯Â¸Â Skipping ${O.id}: isPatrolling=${O.isPatrolling}, hasActiveRoute=${P}`),{vehicle:O,distance:1/0};console.log(`Ã°Å¸â€œÂ ${O.id} position: [${O.position[0]}, ${O.position[1]}]`);const ae=a(O.position,j.location);return console.log(`Ã°Å¸â€œÂ ${O.id} distance: ${ae.toFixed(2)} km`),{vehicle:O,distance:ae}}).reduce((O,P)=>P.distance<O.distance?P:O);return F.distance!==1/0?(console.log(`Ã¢Å“â€¦ ESP32: Eng yaqin mashina: ${F.vehicle.id} (${F.distance.toFixed(2)} km)`),console.log(`Ã°Å¸â€œÂ Starting route from: [${F.vehicle.position[0]}, ${F.vehicle.position[1]}]`),n(j.id,F.vehicle.id),Q(F.vehicle,j).then(O=>{if(!O){o(j.id);return}L(P=>P.map(ae=>ae.id===j.id||ae.sensorId===j.sensorId?{...ae,assignedVehicleId:F.vehicle.id,assignmentStatus:"ASSIGNED",assignmentUpdatedAt:new Date().toISOString()}:ae))}).catch(()=>{o(j.id)})):console.log("Ã¢ÂÅ’ No available vehicles (all busy)"),q})}return A}),console.log("Ã°Å¸â€Â´ AppContext: BIN STATUS: FULL (Qizil) - Real-time!"),p(`Quti ${d.binId} to'ldi! Eng yaqin mashina yuborilmoqda...`,"warning")}),g.on("vehicleStateUpdate",d=>{console.log(`Ã°Å¸â€œÂ¥ Real-time state update: ${d.vehicleId}`,d),E(M=>M.map(A=>A.id===d.vehicleId?{...A,isPatrolling:d.isPatrolling!==void 0?d.isPatrolling:A.isPatrolling,hasCleanedOnce:d.hasCleanedOnce!==void 0?d.hasCleanedOnce:A.hasCleanedOnce,patrolIndex:d.patrolIndex!==void 0?d.patrolIndex:A.patrolIndex,status:d.status||A.status,patrolRoute:d.patrolRoute!==void 0?d.patrolRoute:A.patrolRoute,routePath:d.currentRoute!==void 0?x(d.currentRoute):A.routePath}:A));const k=d.currentRoute===null||Array.isArray(d.currentRoute)&&d.currentRoute.length===0;d.isPatrolling===!0&&k&&(l(d.vehicleId),L(M=>M.map(A=>A.assignedVehicleId===d.vehicleId?{...A,assignedVehicleId:null,assignmentStatus:"UNASSIGNED",assignmentUpdatedAt:new Date().toISOString()}:A)))}),()=>{console.log("Ã°Å¸â€Å’ AppContext: WebSocket disconnecting..."),g.disconnect()}},[]);const p=(g,d="info",k=5e3)=>{const M=Date.now()+Math.random(),A={id:M,message:g,type:d,duration:k};J(j=>j.find(q=>q.message===g&&q.type===d)?j:[...j,A]),setTimeout(()=>{J(j=>j.filter(T=>T.id!==M))},k)},N=g=>{J(d=>d.filter(k=>k.id!==g))},R=()=>{C(!0),u()};return e.jsx(yt.Provider,{value:{theme:f,setTheme:c,language:v,setLanguage:b,binsData:S,setBinsData:L,binStatus:D,setBinStatus:B,vehiclesData:w,setVehiclesData:E,updateVehicleState:Y,routesData:Z,setRoutesData:$,updateRoute:U,activityData:W,setActivityData:h,alertsData:m,setAlertsData:K,apiConnected:z,loading:re,refreshData:R,showToast:p,toasts:le,removeToast:N},children:i})},Is={nav:{dashboard:"Boshqaruv Paneli",bins:"Qutilar",vehicles:"Mashinalar",routes:"Marshrutlar",reports:"Hisobotlar",alerts:"Ogohlantirishlar",settings:"Sozlamalar",telegram:"Telegram Bot"},header:{title:"Toza Hudud AI",subtitle:"Aqlli chiqindi boshqaruv tizimi",profile:"Profil",logout:"Chiqish",notifications:"Bildirishnomalar",overview:"Umumiy ko'rinish"},dashboard:{title:"Boshqaruv Paneli",totalBins:"Jami Qutilar",fullBins:"To'la Qutilar",todayCleaned:"Bugun Tozalandi",activeVehicles:"Faol Mashinalar",systemLoad:"Tizim yuklanishi",onlineBins:"Onlayn qutilar",avgResponseTime:"O'rtacha javob vaqti",successRate:"Muvaffaqiyat darajasi",binStatus:"Qutilar Holati",systemMetrics:"Tizim Ko'rsatkichlari",apiConnected:"Backend API bilan bog'langan",demoMode:"Demo rejimida (mock ma'lumotlar)",refresh:"Yangilash",loading:"Ma'lumotlar yuklanmoqda...",emptyBins:"Bo'sh (0-30%)",halfBins:"Yarim (30-70%)",warningBins:"Ogohlantirish (70-90%)",fullBins:"To'la (90-100%)",onlineShort:"onlayn",activeShort:"faol",statisticsShowing:"statistikasi ko'rsatilmoqda",minuteShort:"daq",recentActivity:"So'nggi Faoliyat",activityRefreshed:"Faolliklar yangilandi",comparedToPrevious:"+94 o'tgan haftaga nisbatan"},bins:{title:"Chiqindi Qutilarini Boshqarish",monitoring:"ta quti monitoring qilinmoqda",addNew:"Yangi Quti Qo'shish",export:"Export",search:"Quti ID, manzil yoki hudud bo'yicha qidirish...",allStatuses:"Barcha holatlar",empty:"Bo'sh (0-30%)",half:"Yarim (30-70%)",warning:"Ogohlantirish (70-90%)",full:"To'la (90-100%)",allAreas:"Barcha hududlar",binId:"Quti ID",address:"Manzil",status:"Holati",fillLevel:"To'lish darajasi",lastUpdate:"Oxirgi yangilanish",actions:"Harakatlar",online:"Online",offline:"Offline",view:"Ko'rish",edit:"Tahrirlash",clean:"Tozalash",delete:"O'chirish",page:"Sahifa",emptyCount:"ta bo'sh",warningCount:"ta ogohlantirish",fullCount:"ta to'la",deleteConfirm:"Haqiqatan ham bu qutini o'chirmoqchimisiz?",deleteSuccess:"Quti muvaffaqiyatli o'chirildi",deleteError:"Qutini o'chirishda xatolik yuz berdi",deleteSuccessDemo:"Quti o'chirildi (demo rejim)",cleanSuccess:"Quti tozalandi deb belgilandi",cleanError:"Qutini tozalashda xatolik yuz berdi",cleanSuccessDemo:"Quti tozalandi (demo rejim)"},addBin:{title:"Yangi Quti Qo'shish",editTitle:"Qutini Tahrirlash",binId:"Quti ID",binIdPlaceholder:"BIN-XXX",binIdFormat:"Format: BIN-XXX (masalan: BIN-121)",address:"Manzil",addressPlaceholder:"Manzil (kamida 10 ta belgi)",addressMinLength:"Kamida 10 ta belgi bo'lishi kerak",district:"Tuman",selectDistrict:"Tanlang",capacity:"Sig'im (L)",wasteType:"Chiqindi turi",general:"Umumiy",plastic:"Plastik",organic:"Organik",paper:"Qog'oz",latitude:"Kenglik",longitude:"Uzunlik",cancel:"Bekor qilish",add:"Quti Qo'shish",save:"Saqlash",saving:"Saqlanmoqda...",apiConnectedNote:"Backend API bilan bog'langan - ma'lumotlar PostgreSQL ga saqlanadi",fillAllFields:"Barcha majburiy maydonlarni to'ldiring",addressTooShort:"Manzil kamida 10 ta belgi bo'lishi kerak",binAdded:"Yangi quti muvaffaqiyatli qo'shildi",binUpdated:"Quti muvaffaqiyatli yangilandi",binAddedDemo:"Yangi quti muvaffaqiyatli qo'shildi (demo rejim)",binUpdatedDemo:"Quti muvaffaqiyatli yangilandi (demo rejim)",idExists:"Bu ID allaqachon mavjud",createError:"Quti qo'shishda xatolik",updateError:"Qutini yangilashda xatolik",newBinAdded:"Yangi quti qo'shildi",binTitle:"Quti",addedToSystem:"tizimga qo'shildi"},vehicles:{title:"Mashinalarni Boshqarish",monitoring:"ta mashina monitoring qilinmoqda",addVehicle:"Mashina Qo'shish",all:"Barchasi",moving:"Harakatlanmoqda",active:"Faol",inactive:"Band emas",cleaned:"Tozalandi",details:"Batafsil",call:"Qo'ng'iroq"},vehicleDetail:{vehicleTitle:"Mashina",basicInfo:"Asosiy ma'lumotlar",driver:"Haydovchi",phone:"Telefon",licensePlate:"Davlat raqami",route:"Marshrut",statusInfo:"Holat ma'lumotlari",status:"Holat",todayCleaned:"Bugun tozalandi",pieces:"ta",technicalInfo:"Texnik ma'lumotlar",capacity:"Sig'im",lastService:"Oxirgi texnik xizmat",location:"Manzil",currentBins:"Joriy qutilar",showOnMap:"Xaritada ko'rsatish",makeCall:"Qo'ng'iroq qilish"},addVehicle:{title:"Yangi Mashina Qo'shish",vehicleId:"Mashina ID",vehicleIdPlaceholder:"VH-XXX",driverName:"Haydovchi ismi",driverPlaceholder:"Ism Familiya",phone:"Telefon",phonePlaceholder:"+998901234567",licensePlate:"Davlat raqami",licensePlaceholder:"01A123AA",status:"Holati",capacity:"Sig'im (L)",fuel:"Yoqilg'i (%)",route:"Marshrut",routeA:"Marshrut A",routeB:"Marshrut B",routeC:"Marshrut C",routeD:"Marshrut D",addButton:"Mashina Qo'shish",fillAllFields:"Barcha majburiy maydonlarni to'ldiring",idExists:"Bu ID allaqachon mavjud",vehicleAdded:"Yangi mashina muvaffaqiyatli qo'shildi",newLocation:"Yangi manzil"},routes:{title:"Optimal Marshrutlar",optimize:"Optimallashtirish",optimizing:"Marshrutlar optimallashtirilmoqda...",optimized:"Marshrutlar muvaffaqiyatli optimallashtirildi!",progress:"Jarayon",routeA:"Marshrut A",routeB:"Marshrut B",routeC:"Marshrut C",routeD:"Marshrut D"},reports:{title:"Hisobotlar va Analitika",daily:"Kunlik",weekly:"Haftalik",monthly:"Oylik",yearly:"Yillik",generate:"Hisobot yaratish",generating:"Hisobot yaratilmoqda...",generated:"Hisobot muvaffaqiyatli yaratildi!",download:"Yuklab olish",export:"Export",print:"Chop etish",reportLoading:"hisobot yuklanmoqda",cleanedBins:"Tozalangan qutilar",avgFillLevel:"O'rtacha to'lish darajasi",alerts:"Ogohlantirishlar",vehicleUsage:"Mashina foydalanish",comparedToPrevious:"oldingi davr bilan solishtirganda"},alerts:{title:"Tizim Ogohlantirishlari",all:"Barchasi",critical:"Muhim",warning:"Ogohlantirish",info:"Ma'lumot",resolved:"Hal qilingan",unread:"O'qilmagan",markResolved:"Hal qilingan deb belgilash",markAllResolved:"Barchasini hal qilingan deb belgilash",clearAll:"Barchasini tozalash",clearAllConfirm:"Barcha ogohlantirishlarni o'chirishni xohlaysizmi?",alertResolved:"Ogohlantirish hal qilingan deb belgilandi",allAlertsResolved:"Barcha ogohlantirishlar hal qilingan deb belgilandi",allCleared:"Barcha ogohlantirishlar tozalandi",allClearedDemo:"Barcha ogohlantirishlar tozalandi (demo rejim)",markAsRead:"O'qilgan deb belgilandi",markAsReadDemo:"O'qilgan deb belgilandi (demo rejim)",markError:"Belgilashda xatolik yuz berdi",noAlerts:"Hech qanday ogohlantirish yo'q"},settings:{title:"Tizim Sozlamalari",general:"Umumiy",notifications:"Bildirishnomalar",appearance:"Ko'rinish",security:"Xavfsizlik",api:"API",systemSettings:"Tizim sozlamalari",autoRefresh:"Avtomatik yangilanish",autoRefreshDesc:"Ma'lumotlarni har {interval} soniyada yangilash",autoRefreshToggled:"Avtomatik yangilanish {status}",refreshIntervalChanged:"Yangilanish oralig'i {interval} soniyaga o'zgartirildi",realtimeMonitoring:"Real vaqt monitoring",realtimeMonitoringDesc:"Qutilar holatini real vaqtda kuzatish",realtimeMonitoringToggled:"Real vaqt monitoring {status}",autoRouting:"Avtomatik marshrutlash",autoRoutingDesc:"Optimal marshrutlarni avtomatik hisoblash",autoRoutingToggled:"Avtomatik marshrutlash {status}",voiceAlerts:"Ovozli ogohlantirishlar",voiceAlertsDesc:"Muhim hodisalar uchun ovozli signal",voiceAlertsToggled:"Ovozli ogohlantirishlar {status}",notificationSettings:"Bildirishnoma sozlamalari",pushNotifications:"Push bildirishnomalar",pushNotificationsDesc:"Brauzer orqali bildirishnomalar olish",notificationsToggled:"Bildirishnomalar {status}",emailAlerts:"Email ogohlantirishlar",emailAlertsDesc:"Muhim hodisalar haqida email yuborish",emailAlertsToggled:"Email ogohlantirishlar {status}",smsAlerts:"SMS ogohlantirishlar",smsAlertsDesc:"Juda muhim hodisalar uchun SMS yuborish",smsAlertsToggled:"SMS ogohlantirishlar {status}",appearanceSettings:"Ko'rinish sozlamalari",appearanceDesc:"Interfeys mavzusi va ranglarini sozlash",themeLight:"Yorug'",themeDark:"Qorong'u",themeBlue:"Ko'k",themeGreen:"Yashil",themeChanged:"Mavzu {theme} ga o'zgartirildi",resetAppearance:"Ko'rinishni tiklash",appearanceReset:"Ko'rinish sozlamalari tiklanadi",accessControl:"Kirish nazorati",autoLogout:"Avtomatik chiqish",autoLogoutDesc:"30 daqiqa faolsizlikdan keyin avtomatik chiqish",autoLogoutToggled:"Avtomatik chiqish {status}",twoFactorAuth:"Ikki bosqichli autentifikatsiya",twoFactorAuthDesc:"Kirish uchun qo'shimcha xavfsizlik himoyasi",twoFactorAuthToggled:"Ikki bosqichli autentifikatsiya {status}",changePassword:"Parolni o'zgartirish",changePasswordDesc:"Hisob xavfsizligi uchun parolni yangilash",change:"O'zgartirish",activeSessions:"Faol sessiyalar",activeSessionsDesc:"Barcha faol kirish sessiyalarini ko'rish va boshqarish",view:"Ko'rish",apiSettings:"API sozlamalari",apiDesc:"Tashqi ilovalar uchun API kalitlarini boshqarish",generateApiKey:"API kalit yaratish",apiKeyGenerated:"Yangi API kalit yaratildi: {key}",apiKeyCopied:"API kalit clipboardga nusxalandi",documentation:"Hujjatlar",apiDocsOpening:"API hujjatlari ochilmoqda...",enabled:"yoqildi",disabled:"o'chirildi",fillAllFields:"Barcha maydonlarni to'ldiring",passwordMismatch:"Parollar mos kelmaydi",passwordTooShort:"Parol kamida 6 ta belgidan iborat bo'lishi kerak",passwordChanged:"Parol muvaffaqiyatli o'zgartirildi",changePasswordTitle:"Parolni o'zgartirish",currentPassword:"Joriy parol",currentPasswordPlaceholder:"Joriy parolingizni kiriting",newPassword:"Yangi parol",newPasswordPlaceholder:"Yangi parolingizni kiriting",confirmPassword:"Parolni tasdiqlash",confirmPasswordPlaceholder:"Yangi parolni qayta kiriting",changePasswordButton:"Parolni o'zgartirish",activeSessionsTitle:"Faol sessiyalar",activeSessionsInfo:"Quyida barcha faol kirish sessiyalari ko'rsatilgan. Xavfsizlik uchun noma'lum yoki shubhali sessiyalarni tugating.",current:"Hozirgi",lastActivity:"Oxirgi faollik",tashkentUzbekistan:"Toshkent, O'zbekiston",samarkandUzbekistan:"Samarqand, O'zbekiston",hoursAgo:"{hours} soat oldin",daysAgo:"{days} kun oldin",terminate:"Tugatish",terminateAllOther:"Barcha boshqa sessiyalarni tugatish",terminateSessionConfirm:"Haqiqatan ham bu sessiyani tugatmoqchimisiz?",terminateAllConfirm:"Haqiqatan ham {count} ta boshqa sessiyani tugatmoqchimisiz?",sessionTerminated:"Sessiya tugatilib",allSessionsTerminated:"Barcha boshqa sessiyalar tugatildi"},activity:{binFull:"Quti #{binId} to'ldi",binFullDesc:"95% to'ldi. Mashina yuborildi",vehicleArrived:"Mashina #{vehicleId} yetib keldi",binCleaned:"Quti #{binId} tozalandi",binCleanedDesc:"Quti #{binId} tozalandi",newBinAdded:"Yangi quti qo'shildi",binActivated:"Quti #{binId} aktivlashtirildi",binActivatedDesc:"Quti #{binId} aktivlashtirildi",binWarning:"Quti #{binId} ogohlantirish",binWarningDesc:"85% to'ldi",sensorMalfunction:"Sensor nosozligi",sensorNotWorking:"Quti #{binId} sensori ishlamayapti",sensorNotWorkingDesc:"Quti #{binId} sensori ishlamayapti"},binDetail:{binTitle:"Quti",basicInfo:"Asosiy ma'lumotlar",district:"Tuman",capacity:"Sig'im",wasteType:"Chiqindi turi",statusInfo:"Holat ma'lumotlari",online:"Onlayn",timeInfo:"Vaqt ma'lumotlari",lastCleaned:"Oxirgi tozalash",installDate:"O'rnatilgan sana",technicalInfo:"Texnik ma'lumotlar",sensorId:"Sensor ID",coordinates:"Koordinatalar",noData:"Ma'lumot yo'q",showOnMap:"Xaritada ko'rsatish",almostFull:"Deyarli to'la"},common:{loading:"Yuklanmoqda...",error:"Xatolik",success:"Muvaffaqiyat",warning:"Ogohlantirish",info:"Ma'lumot",confirm:"Tasdiqlash",cancel:"Bekor qilish",save:"Saqlash",delete:"O'chirish",edit:"Tahrirlash",add:"Qo'shish",close:"Yopish",yes:"Ha",no:"Yo'q",ok:"OK",search:"Qidirish",filter:"Filtr",sort:"Saralash",refresh:"Yangilash",export:"Export",import:"Import",print:"Chop etish",download:"Yuklab olish",upload:"Yuklash",next:"Keyingi",previous:"Oldingi",first:"Birinchi",last:"Oxirgi",settings:"Sozlamalar",activeTab:"Faol Tab",count:"Soni",reports:"Murojaatlar"},status:{empty:"Bo'sh",half:"Yarim",warning:"Ogohlantirish",full:"To'la",online:"Onlayn",offline:"Oflayn",active:"Faol",inactive:"Nofaol",moving:"Harakatlanmoqda",pending:"Kutilmoqda",completed:"Bajarildi",cancelled:"Bekor qilindi"},messages:{searchCleared:"Qidiruv tozalandi",dataExporting:"Ma'lumotlar eksport qilinmoqda...",dataExported:"Ma'lumotlar muvaffaqiyatli eksport qilindi",noResults:"Natijalar topilmadi",loading:"Ma'lumotlar yuklanmoqda...",error:"Ma'lumotlarni yuklashda xatolik",success:"Muvaffaqiyatli bajarildi"},time:{now:"Hozir",today:"Bugun",yesterday:"Kecha",tomorrow:"Ertaga",week:"Hafta",month:"Oy",year:"Yil",minute:"daqiqa",hour:"soat",day:"kun",ago:"oldin",later:"keyin"},districts:{samarqand:"Samarqand shahri (markaz)"},liveMap:{title:"Jonli Xarita",all:"Barchasi",fullBins:"To'la qutilar",warning:"Ogohlantirish",empty:"Bo'sh qutilar",vehicles:"Mashinalar",emptyLegend:"Bo'sh (0-30%)",halfLegend:"Yarim (30-70%)",warningLegend:"Ogohlantirish (70-90%)",fullLegend:"To'la (90-100%)",vehiclesLegend:"Faol mashinalar",binTitle:"Quti",address:"Manzil",status:"Holat",capacity:"Sig'im",driver:"Haydovchi",speed:"Tezlik",fuel:"Yoqilg'i",full:"To'la",almostFull:"Deyarli to'la",half:"Yarim",empty:"Bo'sh",moving:"Harakatlanmoqda",active:"Faol",inactive:"Band emas",zoomedIn:"Xarita kattalashtirildi",zoomedOut:"Xarita kichiklashtirildi",centered:"Xarita markazlashtirildi",allVehiclesShown:"Barcha mashinalar ko'rsatildi",showingFullBins:"To'la qutilar ko'rsatilmoqda",showingWarningBins:"Ogohlantirish qutilari ko'rsatilmoqda",showingEmptyBins:"Bo'sh qutilar ko'rsatilmoqda",showingVehicles:"Mashinalar ko'rsatilmoqda",showingAll:"Barcha belgilar ko'rsatilmoqda"},telegram:{title:"Telegram Bot Boshqaruvi",subtitle:"Foydalanuvchilar bilan muloqot va xabarlar",botConfiguration:"Bot sozlamalari",botToken:"Bot Token",testConnection:"Ulanishni tekshirish",setWebhook:"Webhook o'rnatish",botConnected:"Bot muvaffaqiyatli ulandi",botConnectionError:"Bot ulanishida xatolik",webhookSet:"Webhook muvaffaqiyatli o'rnatildi",webhookError:"Webhook o'rnatishda xatolik",statistics:"Statistika",messages:"Xabarlar",feedback:"Fikrlar",commands:"Buyruqlar",totalUsers:"Jami foydalanuvchilar",activeToday:"Bugun faol",messagesReceived:"Qabul qilingan xabarlar",feedbackReceived:"Qabul qilingan fikrlar",activityChart:"Bot faollik grafigi",chartComingSoon:"Grafik ma'lumotlari tez orada qo'shiladi",recentActivity:"So'nggi faoliyat",botStarted:"Bot ishga tushirildi",newUserJoined:"Yangi foydalanuvchi qo'shildi",messageReceived:"Xabar qabul qilindi",recentMessages:"So'nggi xabarlar",active:"Faol",inactive:"Faol emas",noMessages:"Xabarlar yo'q",message:"Xabar",alert:"Ogohlantirish",admin:"Admin",sendMessage:"Xabar yuborish",broadcastMessage:"Umumiy xabar",messagePlaceholder:"Barcha foydalanuvchilarga xabar yozing...",send:"Yuborish",messageSent:"Xabar yuborildi",messageSendError:"Xabar yuborishda xatolik",userFeedback:"Foydalanuvchi fikrlari",feedbackCount:"ta fikr",noFeedback:"Fikrlar yo'q",feedbackStats:"Fikr statistikasi",averageRating:"O'rtacha baho",totalFeedback:"Jami fikrlar",positiveRating:"Ijobiy baholash",botCommands:"Bot buyruqlari",startCommand:"Botni ishga tushirish va asosiy menyu",helpCommand:"Yordam va qo'llanma",statusCommand:"Yaqin qutilar holati",nearbyCommand:"Yaqin atrofdagi qutilarni topish",reportCommand:"Muammo haqida xabar berish",feedbackCommand:"Fikr va taklif yuborish",stopBot:"Botni o'chirish",startBot:"Botni yoqish",botToggled:"Bot {status}",activated:"faollashtirildi",deactivated:"o'chirildi",sampleMessage1:"Quti holatini ko'rish",sampleMessage2:"Yaqin qutilarni topish",sampleMessage3:"Quti to'ldi xabari",sampleFeedback1:"Tizim juda qulay, rahmat!",sampleFeedback2:"Qutilar tez to'ldi, ko'proq quti kerak",sampleFeedback3:"Yaxshi ishlayapti"}},Bs={nav:{dashboard:"ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",bins:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",vehicles:"ÐœÐ°ÑˆÐ¸Ð½Ñ‹",routes:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹",reports:"ÐžÑ‚Ñ‡ÐµÑ‚Ñ‹",alerts:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",settings:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",telegram:"Telegram Ð‘Ð¾Ñ‚"},header:{title:"Toza Hudud AI",subtitle:"Ð£Ð¼Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚Ñ…Ð¾Ð´Ð°Ð¼Ð¸",profile:"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ",logout:"Ð’Ñ‹Ñ…Ð¾Ð´",notifications:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",overview:"ÐžÐ±Ð·Ð¾Ñ€"},dashboard:{title:"ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ",totalBins:"Ð’ÑÐµÐ³Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²",fullBins:"ÐŸÐ¾Ð»Ð½Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",todayCleaned:"ÐžÑ‡Ð¸Ñ‰ÐµÐ½Ð¾ ÑÐµÐ³Ð¾Ð´Ð½Ñ",activeVehicles:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹",systemLoad:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹",onlineBins:"ÐžÐ½Ð»Ð°Ð¹Ð½ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",avgResponseTime:"Ð¡Ñ€ÐµÐ´Ð½ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð°",successRate:"Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ÑƒÑÐ¿ÐµÑ…Ð°",binStatus:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²",systemMetrics:"Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ð¸",apiConnected:"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ Ðº Backend API",demoMode:"Ð”ÐµÐ¼Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼ (Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ)",refresh:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…...",emptyBins:"ÐŸÑƒÑÑ‚Ñ‹Ðµ (0-30%)",halfBins:"ÐÐ°Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñƒ (30-70%)",warningBins:"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ (70-90%)",fullBins:"ÐŸÐ¾Ð»Ð½Ñ‹Ðµ (90-100%)",onlineShort:"Ð¾Ð½Ð»Ð°Ð¹Ð½",activeShort:"Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ…",statisticsShowing:"ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ",minuteShort:"Ð¼Ð¸Ð½",recentActivity:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ",activityRefreshed:"ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð°",comparedToPrevious:"+94 Ð¿Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸ÑŽ Ñ Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¹ Ð½ÐµÐ´ÐµÐ»ÐµÐ¹"},bins:{title:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¼ÑƒÑÐ¾Ñ€Ð½Ñ‹Ð¼Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°Ð¼Ð¸",monitoring:"ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð² Ð½Ð° Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ðµ",addNew:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",export:"Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚",search:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ ID, Ð°Ð´Ñ€ÐµÑÑƒ Ð¸Ð»Ð¸ Ñ€Ð°Ð¹Ð¾Ð½Ñƒ...",allStatuses:"Ð’ÑÐµ ÑÑ‚Ð°Ñ‚ÑƒÑÑ‹",empty:"ÐŸÑƒÑÑ‚Ñ‹Ðµ (0-30%)",half:"ÐÐ°Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñƒ (30-70%)",warning:"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ (70-90%)",full:"ÐŸÐ¾Ð»Ð½Ñ‹Ðµ (90-100%)",allAreas:"Ð’ÑÐµ Ñ€Ð°Ð¹Ð¾Ð½Ñ‹",binId:"ID ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°",address:"ÐÐ´Ñ€ÐµÑ",status:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ",fillLevel:"Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ",lastUpdate:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ",actions:"Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ",online:"ÐžÐ½Ð»Ð°Ð¹Ð½",offline:"ÐžÑ„Ñ„Ð»Ð°Ð¹Ð½",view:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€",edit:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",clean:"ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ",delete:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",page:"Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°",emptyCount:"Ð¿ÑƒÑÑ‚Ñ‹Ñ…",warningCount:"Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹",fullCount:"Ð¿Ð¾Ð»Ð½Ñ‹Ñ…",deleteConfirm:"Ð’Ñ‹ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€?",deleteSuccess:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÐ´Ð°Ð»ÐµÐ½",deleteError:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°",deleteSuccessDemo:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑƒÐ´Ð°Ð»ÐµÐ½ (Ð´ÐµÐ¼Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼)",cleanSuccess:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð¾Ñ‚Ð¼ÐµÑ‡ÐµÐ½ ÐºÐ°Ðº Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ð½Ñ‹Ð¹",cleanError:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°",cleanSuccessDemo:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½ (Ð´ÐµÐ¼Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼)"},addBin:{title:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",editTitle:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",binId:"ID ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°",binIdPlaceholder:"BIN-XXX",binIdFormat:"Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚: BIN-XXX (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: BIN-121)",address:"ÐÐ´Ñ€ÐµÑ",addressPlaceholder:"ÐÐ´Ñ€ÐµÑ (Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 10 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)",addressMinLength:"Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 10 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²",district:"Ð Ð°Ð¹Ð¾Ð½",selectDistrict:"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ",capacity:"ÐžÐ±ÑŠÐµÐ¼ (Ð›)",wasteType:"Ð¢Ð¸Ð¿ Ð¾Ñ‚Ñ…Ð¾Ð´Ð¾Ð²",general:"ÐžÐ±Ñ‰Ð¸Ðµ",plastic:"ÐŸÐ»Ð°ÑÑ‚Ð¸Ðº",organic:"ÐžÑ€Ð³Ð°Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ",paper:"Ð‘ÑƒÐ¼Ð°Ð³Ð°",latitude:"Ð¨Ð¸Ñ€Ð¾Ñ‚Ð°",longitude:"Ð”Ð¾Ð»Ð³Ð¾Ñ‚Ð°",cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð°",add:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",save:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ",saving:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ...",apiConnectedNote:"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ Ðº Backend API - Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð² PostgreSQL",fillAllFields:"Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ",addressTooShort:"ÐÐ´Ñ€ÐµÑ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 10 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²",binAdded:"ÐÐ¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½",binUpdated:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½",binAddedDemo:"ÐÐ¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ (Ð´ÐµÐ¼Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼)",binUpdatedDemo:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½ (Ð´ÐµÐ¼Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼)",idExists:"Ð­Ñ‚Ð¾Ñ‚ ID ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚",createError:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°",updateError:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°",newBinAdded:"Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",binTitle:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",addedToSystem:"Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ"},vehicles:{title:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð¼",monitoring:"Ð¼Ð°ÑˆÐ¸Ð½ Ð½Ð° Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ðµ",addVehicle:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼Ð°ÑˆÐ¸Ð½Ñƒ",all:"Ð’ÑÐµ",moving:"Ð’ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¸",active:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ",inactive:"ÐÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ",cleaned:"ÐžÑ‡Ð¸Ñ‰ÐµÐ½Ð¾",details:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾",call:"Ð—Ð²Ð¾Ð½Ð¾Ðº"},vehicleDetail:{vehicleTitle:"ÐœÐ°ÑˆÐ¸Ð½Ð°",basicInfo:"ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",driver:"Ð’Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ",phone:"Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",licensePlate:"Ð“Ð¾Ñ. Ð½Ð¾Ð¼ÐµÑ€",route:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚",statusInfo:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÐµ",status:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ",todayCleaned:"ÐžÑ‡Ð¸Ñ‰ÐµÐ½Ð¾ ÑÐµÐ³Ð¾Ð´Ð½Ñ",pieces:"ÑˆÑ‚",technicalInfo:"Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",capacity:"ÐžÐ±ÑŠÐµÐ¼",lastService:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¢Ðž",location:"ÐœÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ",currentBins:"Ð¢ÐµÐºÑƒÑ‰Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",showOnMap:"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ",makeCall:"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ"},addVehicle:{title:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ Ð¼Ð°ÑˆÐ¸Ð½Ñƒ",vehicleId:"ID Ð¼Ð°ÑˆÐ¸Ð½Ñ‹",vehicleIdPlaceholder:"VH-XXX",driverName:"Ð˜Ð¼Ñ Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»Ñ",driverPlaceholder:"Ð˜Ð¼Ñ Ð¤Ð°Ð¼Ð¸Ð»Ð¸Ñ",phone:"Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",phonePlaceholder:"+998901234567",licensePlate:"Ð“Ð¾Ñ. Ð½Ð¾Ð¼ÐµÑ€",licensePlaceholder:"01A123AA",status:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ",capacity:"ÐžÐ±ÑŠÐµÐ¼ (Ð›)",fuel:"Ð¢Ð¾Ð¿Ð»Ð¸Ð²Ð¾ (%)",route:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚",routeA:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ A",routeB:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ B",routeC:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ C",routeD:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ D",addButton:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼Ð°ÑˆÐ¸Ð½Ñƒ",fillAllFields:"Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ",idExists:"Ð­Ñ‚Ð¾Ñ‚ ID ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚",vehicleAdded:"ÐÐ¾Ð²Ð°Ñ Ð¼Ð°ÑˆÐ¸Ð½Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð°",newLocation:"ÐÐ¾Ð²Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ"},routes:{title:"ÐžÐ¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹",optimize:"ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",optimizing:"ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¾Ð²...",optimized:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹!",progress:"ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ",routeA:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ A",routeB:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ B",routeC:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ C",routeD:"ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ D"},reports:{title:"ÐžÑ‚Ñ‡ÐµÑ‚Ñ‹ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°",daily:"Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ðµ",weekly:"Ð•Ð¶ÐµÐ½ÐµÐ´ÐµÐ»ÑŒÐ½Ñ‹Ðµ",monthly:"Ð•Ð¶ÐµÐ¼ÐµÑÑÑ‡Ð½Ñ‹Ðµ",yearly:"Ð•Ð¶ÐµÐ³Ð¾Ð´Ð½Ñ‹Ðµ",generate:"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚Ñ‡ÐµÑ‚",generating:"Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°...",generated:"ÐžÑ‚Ñ‡ÐµÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½!",download:"Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ",export:"Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚",print:"ÐŸÐµÑ‡Ð°Ñ‚ÑŒ",reportLoading:"Ð¾Ñ‚Ñ‡ÐµÑ‚ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ",cleanedBins:"ÐžÑ‡Ð¸Ñ‰ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",avgFillLevel:"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ",alerts:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",vehicleUsage:"Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð°ÑˆÐ¸Ð½",comparedToPrevious:"Ð¿Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸ÑŽ Ñ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¼ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¾Ð¼"},alerts:{title:"Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",all:"Ð’ÑÐµ",critical:"ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ",warning:"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ",info:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",resolved:"Ð ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ",unread:"ÐÐµÐ¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ðµ",markResolved:"ÐžÑ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ ÐºÐ°Ðº Ñ€ÐµÑˆÐµÐ½Ð½Ð¾Ðµ",markAllResolved:"ÐžÑ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÐºÐ°Ðº Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ",clearAll:"ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ",clearAllConfirm:"Ð’Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ?",alertResolved:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð¼ÐµÑ‡ÐµÐ½Ð¾ ÐºÐ°Ðº Ñ€ÐµÑˆÐµÐ½Ð½Ð¾Ðµ",allAlertsResolved:"Ð’ÑÐµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚Ð¼ÐµÑ‡ÐµÐ½Ñ‹ ÐºÐ°Ðº Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ",allCleared:"Ð’ÑÐµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ñ‹",allClearedDemo:"Ð’ÑÐµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ñ‹ (Ð´ÐµÐ¼Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼)",markAsRead:"ÐžÑ‚Ð¼ÐµÑ‡ÐµÐ½Ð¾ ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ðµ",markAsReadDemo:"ÐžÑ‚Ð¼ÐµÑ‡ÐµÐ½Ð¾ ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ðµ (Ð´ÐµÐ¼Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼)",markError:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¼ÐµÑ‚ÐºÐµ",noAlerts:"ÐÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹"},settings:{title:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹",general:"ÐžÐ±Ñ‰Ð¸Ðµ",notifications:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",appearance:"Ð’Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð²Ð¸Ð´",security:"Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ",api:"API",systemSettings:"Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",autoRefresh:"ÐÐ²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ",autoRefreshDesc:"ÐžÐ±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ°Ð¶Ð´Ñ‹Ðµ {interval} ÑÐµÐºÑƒÐ½Ð´",autoRefreshToggled:"ÐÐ²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ {status}",refreshIntervalChanged:"Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½ Ð½Ð° {interval} ÑÐµÐºÑƒÐ½Ð´",realtimeMonitoring:"ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",realtimeMonitoringDesc:"ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð² Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",realtimeMonitoringToggled:"ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ {status}",autoRouting:"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ",autoRoutingDesc:"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ€Ð°ÑÑ‡ÐµÑ‚ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¾Ð²",autoRoutingToggled:"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ {status}",voiceAlerts:"Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",voiceAlertsDesc:"Ð—Ð²ÑƒÐºÐ¾Ð²Ñ‹Ðµ ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹ Ð´Ð»Ñ Ð²Ð°Ð¶Ð½Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹",voiceAlertsToggled:"Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ {status}",notificationSettings:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹",pushNotifications:"Push ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",pushNotificationsDesc:"ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€",notificationsToggled:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ {status}",emailAlerts:"Email ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",emailAlertsDesc:"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° email Ð¾ Ð²Ð°Ð¶Ð½Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ…",emailAlertsToggled:"Email ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ {status}",smsAlerts:"SMS ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",smsAlertsDesc:"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° SMS Ð´Ð»Ñ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹",smsAlertsToggled:"SMS ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ {status}",appearanceSettings:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð²Ð½ÐµÑˆÐ½ÐµÐ³Ð¾ Ð²Ð¸Ð´Ð°",appearanceDesc:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ‚ÐµÐ¼Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° Ð¸ Ñ†Ð²ÐµÑ‚Ð¾Ð²",themeLight:"Ð¡Ð²ÐµÑ‚Ð»Ð°Ñ",themeDark:"Ð¢ÐµÐ¼Ð½Ð°Ñ",themeBlue:"Ð¡Ð¸Ð½ÑÑ",themeGreen:"Ð—ÐµÐ»ÐµÐ½Ð°Ñ",themeChanged:"Ð¢ÐµÐ¼Ð° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð° Ð½Ð° {theme}",resetAppearance:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð²Ð¸Ð´",appearanceReset:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð²Ð½ÐµÑˆÐ½ÐµÐ³Ð¾ Ð²Ð¸Ð´Ð° ÑÐ±Ñ€Ð¾ÑˆÐµÐ½Ñ‹",accessControl:"ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°",autoLogout:"ÐÐ²Ñ‚Ð¾Ð²Ñ‹Ñ…Ð¾Ð´",autoLogoutDesc:"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð²Ñ‹Ñ…Ð¾Ð´ Ð¿Ð¾ÑÐ»Ðµ 30 Ð¼Ð¸Ð½ÑƒÑ‚ Ð±ÐµÐ·Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ",autoLogoutToggled:"ÐÐ²Ñ‚Ð¾Ð²Ñ‹Ñ…Ð¾Ð´ {status}",twoFactorAuth:"Ð”Ð²ÑƒÑ…Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð½Ð°Ñ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ",twoFactorAuthDesc:"Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð° Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ",twoFactorAuthToggled:"Ð”Ð²ÑƒÑ…Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð½Ð°Ñ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ {status}",changePassword:"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",changePasswordDesc:"ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð´Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°",change:"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",activeSessions:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÐµÑÑÐ¸Ð¸",activeSessionsDesc:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð²ÑÐµÐ¼Ð¸ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¼Ð¸ ÑÐµÑÑÐ¸ÑÐ¼Ð¸ Ð²Ñ…Ð¾Ð´Ð°",view:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€",apiSettings:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ API",apiDesc:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ API ÐºÐ»ÑŽÑ‡Ð°Ð¼Ð¸ Ð´Ð»Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹",generateApiKey:"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ API ÐºÐ»ÑŽÑ‡",apiKeyGenerated:"ÐÐ¾Ð²Ñ‹Ð¹ API ÐºÐ»ÑŽÑ‡ ÑÐ¾Ð·Ð´Ð°Ð½: {key}",apiKeyCopied:"API ÐºÐ»ÑŽÑ‡ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°",documentation:"Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ",apiDocsOpening:"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ API...",enabled:"Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾",disabled:"Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾",fillAllFields:"Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¿Ð¾Ð»Ñ",passwordMismatch:"ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚",passwordTooShort:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²",passwordChanged:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½",changePasswordTitle:"Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ",currentPassword:"Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",currentPasswordPlaceholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",newPassword:"ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",newPasswordPlaceholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",confirmPassword:"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",confirmPasswordPlaceholder:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",changePasswordButton:"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",activeSessionsTitle:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÐµÑÑÐ¸Ð¸",activeSessionsInfo:"ÐÐ¸Ð¶Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ñ‹ Ð²ÑÐµ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÐµÑÑÐ¸Ð¸ Ð²Ñ…Ð¾Ð´Ð°. Ð”Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚Ðµ Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÑÐµÑÑÐ¸Ð¸.",current:"Ð¢ÐµÐºÑƒÑ‰Ð°Ñ",lastActivity:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ",tashkentUzbekistan:"Ð¢Ð°ÑˆÐºÐµÐ½Ñ‚, Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½",samarkandUzbekistan:"Ð¡Ð°Ð¼Ð°Ñ€ÐºÐ°Ð½Ð´, Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½",hoursAgo:"{hours} Ñ‡Ð°ÑÐ¾Ð² Ð½Ð°Ð·Ð°Ð´",daysAgo:"{days} Ð´Ð½ÐµÐ¹ Ð½Ð°Ð·Ð°Ð´",terminate:"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ",terminateAllOther:"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð²ÑÐµ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑÑÐ¸Ð¸",terminateSessionConfirm:"Ð’Ñ‹ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ ÑÑ‚Ñƒ ÑÐµÑÑÐ¸ÑŽ?",terminateAllConfirm:"Ð’Ñ‹ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ {count} Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑÐµÑÑÐ¸Ð¹?",sessionTerminated:"Ð¡ÐµÑÑÐ¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°",allSessionsTerminated:"Ð’ÑÐµ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑÑÐ¸Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ñ‹"},activity:{binFull:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ #{binId} Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½",binFullDesc:"95% Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½. ÐœÐ°ÑˆÐ¸Ð½Ð° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð°",vehicleArrived:"ÐœÐ°ÑˆÐ¸Ð½Ð° #{vehicleId} Ð¿Ñ€Ð¸Ð±Ñ‹Ð»Ð°",binCleaned:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ #{binId} Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½",binCleanedDesc:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ #{binId} Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½",newBinAdded:"Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",binActivated:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ #{binId} Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½",binActivatedDesc:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ #{binId} Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½",binWarning:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ #{binId} Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ",binWarningDesc:"85% Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½",sensorMalfunction:"ÐÐµÐ¸ÑÐ¿Ñ€Ð°Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ°",sensorNotWorking:"Ð”Ð°Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð° #{binId} Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚",sensorNotWorkingDesc:"Ð”Ð°Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð° #{binId} Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚"},binDetail:{binTitle:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",basicInfo:"ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",district:"Ð Ð°Ð¹Ð¾Ð½",capacity:"ÐžÐ±ÑŠÐµÐ¼",wasteType:"Ð¢Ð¸Ð¿ Ð¾Ñ‚Ñ…Ð¾Ð´Ð¾Ð²",statusInfo:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÐµ",online:"ÐžÐ½Ð»Ð°Ð¹Ð½",timeInfo:"Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",lastCleaned:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ°",installDate:"Ð”Ð°Ñ‚Ð° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸",technicalInfo:"Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",sensorId:"ID Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ°",coordinates:"ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ñ‹",noData:"ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…",showOnMap:"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ",almostFull:"ÐŸÐ¾Ñ‡Ñ‚Ð¸ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹"},common:{loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...",error:"ÐžÑˆÐ¸Ð±ÐºÐ°",success:"Ð£ÑÐ¿ÐµÑ…",warning:"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ",info:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",confirm:"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ",cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð°",save:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ",delete:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",edit:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",add:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ",close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",yes:"Ð”Ð°",no:"ÐÐµÑ‚",ok:"OK",search:"ÐŸÐ¾Ð¸ÑÐº",filter:"Ð¤Ð¸Ð»ÑŒÑ‚Ñ€",sort:"Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°",refresh:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",export:"Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚",import:"Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚",print:"ÐŸÐµÑ‡Ð°Ñ‚ÑŒ",download:"Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ",upload:"Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ",next:"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹",previous:"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¹",first:"ÐŸÐµÑ€Ð²Ñ‹Ð¹",last:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹",settings:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",activeTab:"ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ð²ÐºÐ»Ð°Ð´ÐºÐ°",count:"ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾",reports:"ÐžÐ±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ñ"},status:{empty:"ÐŸÑƒÑÑ‚Ð¾Ð¹",half:"ÐÐ°Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñƒ",warning:"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ",full:"ÐŸÐ¾Ð»Ð½Ñ‹Ð¹",online:"ÐžÐ½Ð»Ð°Ð¹Ð½",offline:"ÐžÑ„Ñ„Ð»Ð°Ð¹Ð½",active:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹",inactive:"ÐÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹",moving:"Ð’ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¸",pending:"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ",completed:"Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾",cancelled:"ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾"},messages:{searchCleared:"ÐŸÐ¾Ð¸ÑÐº Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½",dataExporting:"Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…...",dataExported:"Ð”Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹",noResults:"Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹",loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…...",error:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…",success:"Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"},time:{now:"Ð¡ÐµÐ¹Ñ‡Ð°Ñ",today:"Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ",yesterday:"Ð’Ñ‡ÐµÑ€Ð°",tomorrow:"Ð—Ð°Ð²Ñ‚Ñ€Ð°",week:"ÐÐµÐ´ÐµÐ»Ñ",month:"ÐœÐµÑÑÑ†",year:"Ð“Ð¾Ð´",minute:"Ð¼Ð¸Ð½ÑƒÑ‚Ð°",hour:"Ñ‡Ð°Ñ",day:"Ð´ÐµÐ½ÑŒ",ago:"Ð½Ð°Ð·Ð°Ð´",later:"Ð¿Ð¾Ð·Ð¶Ðµ"},liveMap:{title:"Ð–Ð¸Ð²Ð°Ñ ÐºÐ°Ñ€Ñ‚Ð°",all:"Ð’ÑÐµ",fullBins:"ÐŸÐ¾Ð»Ð½Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",warning:"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ",empty:"ÐŸÑƒÑÑ‚Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",vehicles:"ÐœÐ°ÑˆÐ¸Ð½Ñ‹",emptyLegend:"ÐŸÑƒÑÑ‚Ñ‹Ðµ (0-30%)",halfLegend:"ÐÐ°Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñƒ (30-70%)",warningLegend:"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ (70-90%)",fullLegend:"ÐŸÐ¾Ð»Ð½Ñ‹Ðµ (90-100%)",vehiclesLegend:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹",binTitle:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€",address:"ÐÐ´Ñ€ÐµÑ",status:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ",capacity:"ÐžÐ±ÑŠÐµÐ¼",driver:"Ð’Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ",speed:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",fuel:"Ð¢Ð¾Ð¿Ð»Ð¸Ð²Ð¾",full:"ÐŸÐ¾Ð»Ð½Ñ‹Ð¹",almostFull:"ÐŸÐ¾Ñ‡Ñ‚Ð¸ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹",half:"ÐÐ°Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñƒ",empty:"ÐŸÑƒÑÑ‚Ð¾Ð¹",moving:"Ð’ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¸",active:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹",inactive:"ÐÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹",zoomedIn:"ÐšÐ°Ñ€Ñ‚Ð° ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð°",zoomedOut:"ÐšÐ°Ñ€Ñ‚Ð° ÑƒÐ¼ÐµÐ½ÑŒÑˆÐµÐ½Ð°",centered:"ÐšÐ°Ñ€Ñ‚Ð° Ñ†ÐµÐ½Ñ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°",allVehiclesShown:"ÐŸÐ¾ÐºÐ°Ð·Ð°Ð½Ñ‹ Ð²ÑÐµ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹",showingFullBins:"ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð¿Ð¾Ð»Ð½Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",showingWarningBins:"ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ñ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸ÐµÐ¼",showingEmptyBins:"ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð¿ÑƒÑÑ‚Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹",showingVehicles:"ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹",showingAll:"ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð²ÑÐµ Ð¼ÐµÑ‚ÐºÐ¸"},telegram:{title:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Telegram Ð±Ð¾Ñ‚Ð¾Ð¼",subtitle:"Ð’Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸ Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ",botConfiguration:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð±Ð¾Ñ‚Ð°",botToken:"Ð¢Ð¾ÐºÐµÐ½ Ð±Ð¾Ñ‚Ð°",testConnection:"ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ",setWebhook:"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Webhook",botConnected:"Ð‘Ð¾Ñ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½",botConnectionError:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð±Ð¾Ñ‚Ð°",webhookSet:"Webhook ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½",webhookError:"ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Webhook",statistics:"Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°",messages:"Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ",feedback:"ÐžÑ‚Ð·Ñ‹Ð²Ñ‹",commands:"ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹",totalUsers:"Ð’ÑÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹",activeToday:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÐµÐ³Ð¾Ð´Ð½Ñ",messagesReceived:"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹",feedbackReceived:"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²",activityChart:"Ð“Ñ€Ð°Ñ„Ð¸Ðº Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð±Ð¾Ñ‚Ð°",chartComingSoon:"Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ° Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ",recentActivity:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ",botStarted:"Ð‘Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½",newUserJoined:"ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¿Ñ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ð»ÑÑ",messageReceived:"Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾",recentMessages:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ",active:"ÐÐºÑ‚Ð¸Ð²ÐµÐ½",inactive:"ÐÐµÐ°ÐºÑ‚Ð¸Ð²ÐµÐ½",noMessages:"ÐÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹",message:"Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",alert:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ",admin:"ÐÐ´Ð¼Ð¸Ð½",sendMessage:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",broadcastMessage:"ÐœÐ°ÑÑÐ¾Ð²Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",messagePlaceholder:"ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹...",send:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ",messageSent:"Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾",messageSendError:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ",userFeedback:"ÐžÑ‚Ð·Ñ‹Ð²Ñ‹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹",feedbackCount:"Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²",noFeedback:"ÐÐµÑ‚ Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²",feedbackStats:"Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²",averageRating:"Ð¡Ñ€ÐµÐ´Ð½ÑÑ Ð¾Ñ†ÐµÐ½ÐºÐ°",totalFeedback:"Ð’ÑÐµÐ³Ð¾ Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²",positiveRating:"ÐŸÐ¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¾Ñ†ÐµÐ½ÐºÐ¸",botCommands:"ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð±Ð¾Ñ‚Ð°",startCommand:"Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð° Ð¸ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ",helpCommand:"ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ Ð¸ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾",statusCommand:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²",nearbyCommand:"ÐŸÐ¾Ð¸ÑÐº Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²",reportCommand:"Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ðµ",feedbackCommand:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð·Ñ‹Ð² Ð¸ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ",stopBot:"ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°",startBot:"Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°",botToggled:"Ð‘Ð¾Ñ‚ {status}",activated:"Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½",deactivated:"Ð´ÐµÐ°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½",sampleMessage1:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ ÑÑ‚Ð°Ñ‚ÑƒÑÐ° ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°",sampleMessage2:"ÐŸÐ¾Ð¸ÑÐº Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²",sampleMessage3:"Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ð¾Ð¼ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ðµ",sampleFeedback1:"Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¾Ñ‡ÐµÐ½ÑŒ ÑƒÐ´Ð¾Ð±Ð½Ð°Ñ, ÑÐ¿Ð°ÑÐ¸Ð±Ð¾!",sampleFeedback2:"ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð·Ð°Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ, Ð½ÑƒÐ¶Ð½Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²",sampleFeedback3:"Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚"}},Ps={nav:{dashboard:"Dashboard",bins:"Bins",vehicles:"Vehicles",routes:"Routes",reports:"Reports",alerts:"Alerts",settings:"Settings",telegram:"Telegram Bot"},header:{title:"Toza Hudud AI",subtitle:"Smart Waste Management System",profile:"Profile",logout:"Logout",notifications:"Notifications",overview:"Overview"},dashboard:{title:"Dashboard",totalBins:"Total Bins",fullBins:"Full Bins",todayCleaned:"Cleaned Today",activeVehicles:"Active Vehicles",systemLoad:"System Load",onlineBins:"Online Bins",avgResponseTime:"Avg Response Time",successRate:"Success Rate",binStatus:"Bin Status",systemMetrics:"System Metrics",apiConnected:"Connected to Backend API",demoMode:"Demo Mode (mock data)",refresh:"Refresh",loading:"Loading data...",emptyBins:"Empty (0-30%)",halfBins:"Half (30-70%)",warningBins:"Warning (70-90%)",fullBins:"Full (90-100%)",onlineShort:"online",activeShort:"active",statisticsShowing:"statistics showing",minuteShort:"min",recentActivity:"Recent Activity",activityRefreshed:"Activity refreshed",comparedToPrevious:"+94 compared to last week"},bins:{title:"Waste Bin Management",monitoring:"bins being monitored",addNew:"Add New Bin",export:"Export",search:"Search by bin ID, address or area...",allStatuses:"All statuses",empty:"Empty (0-30%)",half:"Half (30-70%)",warning:"Warning (70-90%)",full:"Full (90-100%)",allAreas:"All areas",binId:"Bin ID",address:"Address",status:"Status",fillLevel:"Fill Level",lastUpdate:"Last Update",actions:"Actions",online:"Online",offline:"Offline",view:"View",edit:"Edit",clean:"Clean",delete:"Delete",page:"Page",emptyCount:"empty",warningCount:"warning",fullCount:"full",deleteConfirm:"Are you sure you want to delete this bin?",deleteSuccess:"Bin successfully deleted",deleteError:"Error deleting bin",deleteSuccessDemo:"Bin deleted (demo mode)",cleanSuccess:"Bin marked as cleaned",cleanError:"Error cleaning bin",cleanSuccessDemo:"Bin cleaned (demo mode)"},addBin:{title:"Add New Bin",editTitle:"Edit Bin",binId:"Bin ID",binIdPlaceholder:"BIN-XXX",binIdFormat:"Format: BIN-XXX (e.g.: BIN-121)",address:"Address",addressPlaceholder:"Address (minimum 10 characters)",addressMinLength:"Must be at least 10 characters",district:"District",selectDistrict:"Select",capacity:"Capacity (L)",wasteType:"Waste Type",general:"General",plastic:"Plastic",organic:"Organic",paper:"Paper",latitude:"Latitude",longitude:"Longitude",cancel:"Cancel",add:"Add Bin",save:"Save",saving:"Saving...",apiConnectedNote:"Connected to Backend API - data will be saved to PostgreSQL",fillAllFields:"Please fill all required fields",addressTooShort:"Address must be at least 10 characters",binAdded:"New bin successfully added",binUpdated:"Bin successfully updated",binAddedDemo:"New bin successfully added (demo mode)",binUpdatedDemo:"Bin successfully updated (demo mode)",idExists:"This ID already exists",createError:"Error creating bin",updateError:"Error updating bin",newBinAdded:"New bin added",binTitle:"Bin",addedToSystem:"added to system"},vehicles:{title:"Vehicle Management",monitoring:"vehicles being monitored",addVehicle:"Add Vehicle",all:"All",moving:"Moving",active:"Active",inactive:"Inactive",cleaned:"Cleaned",details:"Details",call:"Call"},vehicleDetail:{vehicleTitle:"Vehicle",basicInfo:"Basic Information",driver:"Driver",phone:"Phone",licensePlate:"License Plate",route:"Route",statusInfo:"Status Information",status:"Status",todayCleaned:"Cleaned Today",pieces:"pcs",technicalInfo:"Technical Information",capacity:"Capacity",lastService:"Last Service",location:"Location",currentBins:"Current Bins",showOnMap:"Show on Map",makeCall:"Make Call"},addVehicle:{title:"Add New Vehicle",vehicleId:"Vehicle ID",vehicleIdPlaceholder:"VH-XXX",driverName:"Driver Name",driverPlaceholder:"First Last",phone:"Phone",phonePlaceholder:"+998901234567",licensePlate:"License Plate",licensePlaceholder:"01A123AA",status:"Status",capacity:"Capacity (L)",fuel:"Fuel (%)",route:"Route",routeA:"Route A",routeB:"Route B",routeC:"Route C",routeD:"Route D",addButton:"Add Vehicle",fillAllFields:"Please fill all required fields",idExists:"This ID already exists",vehicleAdded:"New vehicle successfully added",newLocation:"New location"},routes:{title:"Optimal Routes",optimize:"Optimize",optimizing:"Optimizing routes...",optimized:"Routes successfully optimized!",progress:"Progress",routeA:"Route A",routeB:"Route B",routeC:"Route C",routeD:"Route D"},reports:{title:"Reports & Analytics",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly",generate:"Generate Report",generating:"Generating report...",generated:"Report successfully generated!",download:"Download",export:"Export",print:"Print",reportLoading:"report loading",cleanedBins:"Cleaned Bins",avgFillLevel:"Average Fill Level",alerts:"Alerts",vehicleUsage:"Vehicle Usage",comparedToPrevious:"compared to previous period"},alerts:{title:"System Alerts",all:"All",critical:"Critical",warning:"Warning",info:"Info",resolved:"Resolved",unread:"Unread",markResolved:"Mark as Resolved",markAllResolved:"Mark All as Resolved",clearAll:"Clear All",clearAllConfirm:"Do you want to delete all alerts?",alertResolved:"Alert marked as resolved",allAlertsResolved:"All alerts marked as resolved",allCleared:"All alerts cleared",allClearedDemo:"All alerts cleared (demo mode)",markAsRead:"Marked as read",markAsReadDemo:"Marked as read (demo mode)",markError:"Error marking alert",noAlerts:"No alerts"},settings:{title:"System Settings",general:"General",notifications:"Notifications",appearance:"Appearance",security:"Security",api:"API",systemSettings:"System Settings",autoRefresh:"Auto Refresh",autoRefreshDesc:"Refresh data every {interval} seconds",autoRefreshToggled:"Auto refresh {status}",refreshIntervalChanged:"Refresh interval changed to {interval} seconds",realtimeMonitoring:"Real-time Monitoring",realtimeMonitoringDesc:"Monitor bin status in real-time",realtimeMonitoringToggled:"Real-time monitoring {status}",autoRouting:"Auto Routing",autoRoutingDesc:"Automatically calculate optimal routes",autoRoutingToggled:"Auto routing {status}",voiceAlerts:"Voice Alerts",voiceAlertsDesc:"Audio notifications for important events",voiceAlertsToggled:"Voice alerts {status}",notificationSettings:"Notification Settings",pushNotifications:"Push Notifications",pushNotificationsDesc:"Receive notifications through browser",notificationsToggled:"Notifications {status}",emailAlerts:"Email Alerts",emailAlertsDesc:"Send emails for important events",emailAlertsToggled:"Email alerts {status}",smsAlerts:"SMS Alerts",smsAlertsDesc:"Send SMS for critical events",smsAlertsToggled:"SMS alerts {status}",appearanceSettings:"Appearance Settings",appearanceDesc:"Customize interface theme and colors",themeLight:"Light",themeDark:"Dark",themeBlue:"Blue",themeGreen:"Green",themeChanged:"Theme changed to {theme}",resetAppearance:"Reset Appearance",appearanceReset:"Appearance settings reset",accessControl:"Access Control",autoLogout:"Auto Logout",autoLogoutDesc:"Automatically logout after 30 minutes of inactivity",autoLogoutToggled:"Auto logout {status}",twoFactorAuth:"Two-Factor Authentication",twoFactorAuthDesc:"Additional security protection for login",twoFactorAuthToggled:"Two-factor authentication {status}",changePassword:"Change Password",changePasswordDesc:"Update password for account security",change:"Change",activeSessions:"Active Sessions",activeSessionsDesc:"View and manage all active login sessions",view:"View",apiSettings:"API Settings",apiDesc:"Manage API keys for external applications",generateApiKey:"Generate API Key",apiKeyGenerated:"New API key generated: {key}",apiKeyCopied:"API key copied to clipboard",documentation:"Documentation",apiDocsOpening:"Opening API documentation...",enabled:"enabled",disabled:"disabled",fillAllFields:"Please fill all fields",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters",passwordChanged:"Password successfully changed",changePasswordTitle:"Change Password",currentPassword:"Current Password",currentPasswordPlaceholder:"Enter your current password",newPassword:"New Password",newPasswordPlaceholder:"Enter your new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter your new password",changePasswordButton:"Change Password",activeSessionsTitle:"Active Sessions",activeSessionsInfo:"Below are all active login sessions. For security, terminate any unknown or suspicious sessions.",current:"Current",lastActivity:"Last Activity",tashkentUzbekistan:"Tashkent, Uzbekistan",samarkandUzbekistan:"Samarkand, Uzbekistan",hoursAgo:"{hours} hours ago",daysAgo:"{days} days ago",terminate:"Terminate",terminateAllOther:"Terminate All Other Sessions",terminateSessionConfirm:"Are you sure you want to terminate this session?",terminateAllConfirm:"Are you sure you want to terminate {count} other sessions?",sessionTerminated:"Session terminated",allSessionsTerminated:"All other sessions terminated"},activity:{binFull:"Bin #{binId} is full",binFullDesc:"95% full. Vehicle dispatched",vehicleArrived:"Vehicle #{vehicleId} arrived",binCleaned:"Bin #{binId} cleaned",binCleanedDesc:"Bin #{binId} cleaned",newBinAdded:"New bin added",binActivated:"Bin #{binId} activated",binActivatedDesc:"Bin #{binId} activated",binWarning:"Bin #{binId} warning",binWarningDesc:"85% full",sensorMalfunction:"Sensor malfunction",sensorNotWorking:"Bin #{binId} sensor not working",sensorNotWorkingDesc:"Bin #{binId} sensor not working"},binDetail:{binTitle:"Bin",basicInfo:"Basic Information",district:"District",capacity:"Capacity",wasteType:"Waste Type",statusInfo:"Status Information",online:"Online",timeInfo:"Time Information",lastCleaned:"Last Cleaned",installDate:"Install Date",technicalInfo:"Technical Information",sensorId:"Sensor ID",coordinates:"Coordinates",noData:"No data",showOnMap:"Show on Map",almostFull:"Almost Full"},common:{loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Info",confirm:"Confirm",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",add:"Add",close:"Close",yes:"Yes",no:"No",ok:"OK",search:"Search",filter:"Filter",sort:"Sort",refresh:"Refresh",export:"Export",import:"Import",print:"Print",download:"Download",upload:"Upload",next:"Next",previous:"Previous",first:"First",last:"Last",settings:"Settings",activeTab:"Active Tab",count:"Count",reports:"Reports"},status:{empty:"Empty",half:"Half",warning:"Warning",full:"Full",online:"Online",offline:"Offline",active:"Active",inactive:"Inactive",moving:"Moving",pending:"Pending",completed:"Completed",cancelled:"Cancelled"},messages:{searchCleared:"Search cleared",dataExporting:"Exporting data...",dataExported:"Data exported successfully",noResults:"No results found",loading:"Loading data...",error:"Error loading data",success:"Successfully completed"},time:{now:"Now",today:"Today",yesterday:"Yesterday",tomorrow:"Tomorrow",week:"Week",month:"Month",year:"Year",minute:"minute",hour:"hour",day:"day",ago:"ago",later:"later"},liveMap:{title:"Live Map",all:"All",fullBins:"Full Bins",warning:"Warning",empty:"Empty Bins",vehicles:"Vehicles",emptyLegend:"Empty (0-30%)",halfLegend:"Half (30-70%)",warningLegend:"Warning (70-90%)",fullLegend:"Full (90-100%)",vehiclesLegend:"Active Vehicles",binTitle:"Bin",address:"Address",status:"Status",capacity:"Capacity",driver:"Driver",speed:"Speed",fuel:"Fuel",full:"Full",almostFull:"Almost Full",half:"Half",empty:"Empty",moving:"Moving",active:"Active",inactive:"Inactive",zoomedIn:"Map zoomed in",zoomedOut:"Map zoomed out",centered:"Map centered",allVehiclesShown:"All vehicles shown",showingFullBins:"Showing full bins",showingWarningBins:"Showing warning bins",showingEmptyBins:"Showing empty bins",showingVehicles:"Showing vehicles",showingAll:"Showing all markers"},telegram:{title:"Telegram Bot Management",subtitle:"User interaction and messaging",botConfiguration:"Bot Configuration",botToken:"Bot Token",testConnection:"Test Connection",setWebhook:"Set Webhook",botConnected:"Bot successfully connected",botConnectionError:"Bot connection error",webhookSet:"Webhook successfully set",webhookError:"Webhook setup error",statistics:"Statistics",messages:"Messages",feedback:"Feedback",commands:"Commands",totalUsers:"Total Users",activeToday:"Active Today",messagesReceived:"Messages Received",feedbackReceived:"Feedback Received",activityChart:"Bot Activity Chart",chartComingSoon:"Chart data will be added soon",recentActivity:"Recent Activity",botStarted:"Bot started",newUserJoined:"New user joined",messageReceived:"Message received",recentMessages:"Recent Messages",active:"Active",inactive:"Inactive",noMessages:"No messages",message:"Message",alert:"Alert",admin:"Admin",sendMessage:"Send Message",broadcastMessage:"Broadcast Message",messagePlaceholder:"Write a message for all users...",send:"Send",messageSent:"Message sent",messageSendError:"Message send error",userFeedback:"User Feedback",feedbackCount:"feedback",noFeedback:"No feedback",feedbackStats:"Feedback Statistics",averageRating:"Average Rating",totalFeedback:"Total Feedback",positiveRating:"Positive Rating",botCommands:"Bot Commands",startCommand:"Start bot and main menu",helpCommand:"Help and guide",statusCommand:"Nearby bin status",nearbyCommand:"Find nearby bins",reportCommand:"Report a problem",feedbackCommand:"Send feedback and suggestions",stopBot:"Stop Bot",startBot:"Start Bot",botToggled:"Bot {status}",activated:"activated",deactivated:"deactivated",sampleMessage1:"View bin status",sampleMessage2:"Find nearby bins",sampleMessage3:"Bin full notification",sampleFeedback1:"System is very convenient, thank you!",sampleFeedback2:"Bins fill up quickly, need more bins",sampleFeedback3:"Works well"}},Pe={uz:Is,ru:Bs,en:Ps},te=()=>{const{language:i}=ee();return{t:(r,n={})=>{const o=r.split(".");let l=Pe[i]||Pe.uz;for(const x of o)l=l==null?void 0:l[x];if(!l&&i!=="uz"){let x=Pe.uz;for(const f of o)x=x==null?void 0:x[f];l=x}return l?typeof l=="string"&&Object.keys(n).length>0?l.replace(/\{(\w+)\}/g,(x,f)=>n[f]||x):l:(console.warn(`Translation missing for key: ${r} in language: ${i}`),r)},language:i,getLanguageName:r=>({uz:"O'zbekcha",ru:"Ð ÑƒÑÑÐºÐ¸Ð¹",en:"English"})[r]||r,getAvailableLanguages:()=>[{code:"uz",name:"O'zbekcha",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"}]}},Ds=({currentTab:i,setCurrentTab:t,collapsed:s,setCollapsed:a})=>{const{binsData:r,vehiclesData:n,alertsData:o}=ee(),{t:l}=te(),x=y.useMemo(()=>[{id:"dashboard",icon:"fa-chart-line",text:l("nav.dashboard")},{id:"bins",icon:"fa-trash-alt",text:l("nav.bins"),badge:r.filter(c=>c.status>=90).length},{id:"vehicles",icon:"fa-truck",text:l("nav.vehicles"),badge:n.filter(c=>c.status==="active"||c.status==="moving").length,badgeClass:"online"},{id:"liveMap",icon:"fa-map-marked-alt",text:"Jonli Xarita"},{id:"routes",icon:"fa-route",text:l("nav.routes")},{id:"reports",icon:"fa-chart-bar",text:l("nav.reports")},{id:"alerts",icon:"fa-bell",text:l("nav.alerts"),badge:o.filter(c=>!c.read).length,badgeClass:"alert"},{id:"sensors",icon:"fa-microchip",text:"ESP32 Sensors"},{id:"telegram",icon:"fa-paper-plane",text:l("nav.telegram")},{id:"settings",icon:"fa-cog",text:l("nav.settings")}],[r,n,o,l]),f=()=>{window.confirm(l("sidebar.logoutConfirm")||"Chiqishni tasdiqlaysizmi?")&&(localStorage.removeItem("isAuthenticated"),window.location.reload())};return e.jsxs("aside",{id:"sidebar",className:`sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"logo-icon",children:e.jsx("img",{src:"/logo.png",alt:"Toza Hudud AI",style:{width:"100%",height:"100%",objectFit:"contain"}})}),e.jsxs("div",{className:"logo-text",children:[e.jsx("h1",{className:s?"logo-text-hidden":"",children:"Toza Hudud AI"}),e.jsx("p",{className:s?"logo-text-hidden":"",children:"Smart Waste Management"})]})]}),e.jsx("button",{id:"toggleSidebar",className:"toggle-btn",onClick:()=>a(!s),children:e.jsx("i",{className:`fas fa-chevron-${s?"right":"left"}`})})]}),e.jsx("nav",{className:"sidebar-nav",children:x.map(c=>e.jsxs("button",{className:`nav-item ${i===c.id?"active":""}`,onClick:()=>t(c.id),"data-tab":c.id,children:[e.jsx("div",{className:"nav-icon",children:e.jsx("i",{className:`fas ${c.icon}`})}),e.jsx("span",{className:"nav-text",children:c.text}),c.badge!==void 0&&e.jsx("span",{className:`nav-badge ${c.badgeClass||""}`,children:c.badge}),i===c.id&&e.jsx("div",{className:"nav-indicator"})]},c.id))}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("div",{className:"user-profile",children:[e.jsx("div",{className:"user-avatar",children:e.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",alt:"Admin"})}),e.jsxs("div",{className:"user-info",children:[e.jsx("p",{className:"user-name",children:"Admin User"}),e.jsx("p",{className:"user-role",children:"Super Admin"})]})]}),e.jsx("button",{className:"logout-btn",onClick:f,children:e.jsx("i",{className:"fas fa-sign-out-alt"})})]})]})},Es=()=>{const{language:i,setLanguage:t}=ee(),{getAvailableLanguages:s}=te(),[a,r]=y.useState(!1),n=s(),o=n.find(x=>x.code===i),l=x=>{t(x),r(!1)};return e.jsxs("div",{className:"language-selector",style:{position:"relative"},children:[e.jsxs("button",{className:"language-btn",onClick:()=>r(!a),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",color:"var(--text-primary)",transition:"all 0.2s ease"},children:[e.jsx("span",{style:{fontSize:"16px"},children:o==null?void 0:o.flag}),e.jsx("span",{children:o==null?void 0:o.name}),e.jsx("i",{className:`fas fa-chevron-${a?"up":"down"}`,style:{fontSize:"12px"}})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"language-overlay",onClick:()=>r(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999}}),e.jsx("div",{className:"language-dropdown",style:{position:"absolute",top:"100%",right:0,marginTop:"4px",backgroundColor:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,minWidth:"150px",overflow:"hidden"},children:n.map(x=>e.jsxs("button",{onClick:()=>l(x.code),style:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"12px 16px",backgroundColor:i===x.code?"var(--primary-light)":"transparent",border:"none",cursor:"pointer",fontSize:"14px",color:"var(--text-primary)",transition:"background-color 0.2s ease",textAlign:"left"},onMouseEnter:f=>{i!==x.code&&(f.target.style.backgroundColor="var(--bg-hover)")},onMouseLeave:f=>{i!==x.code&&(f.target.style.backgroundColor="transparent")},children:[e.jsx("span",{style:{fontSize:"16px"},children:x.flag}),e.jsx("span",{children:x.name}),i===x.code&&e.jsx("i",{className:"fas fa-check",style:{marginLeft:"auto",color:"var(--primary)",fontSize:"12px"}})]},x.code))})]})]})},$s=({currentTab:i,onLogout:t})=>{const{theme:s,setTheme:a,showToast:r}=ee(),{t:n}=te(),[o,l]=y.useState(new Date),[x,f]=y.useState(!1);y.useEffect(()=>{const E=setInterval(()=>{l(new Date)},1e3);return()=>clearInterval(E)},[]);const c=E=>E.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),v=E=>E.toLocaleDateString("uz-UZ",{day:"numeric",month:"short",year:"numeric"}),b=()=>{const E=["light","dark","blue","green"],$=(E.indexOf(s)+1)%E.length,D=E[$];a(D),r(`Mavzu "${D}" mavzuga o'zgartirildi`,"success")},S=()=>{f(!0),setTimeout(()=>{f(!1),r("Ma'lumotlar yangilandi","success")},1500)},L={dashboard:n("nav.dashboard"),bins:n("nav.bins"),vehicles:n("nav.vehicles"),routes:n("nav.routes"),reports:n("nav.reports"),alerts:n("nav.alerts"),telegram:n("nav.telegram"),settings:n("nav.settings")},w=()=>{switch(s){case"dark":return"fa-sun";case"blue":return"fa-palette";case"green":return"fa-leaf";default:return"fa-moon"}};return y.useEffect(()=>{const E=Z=>{};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header-left",children:[e.jsxs("div",{className:"breadcrumb",children:[e.jsx("span",{className:"breadcrumb-item",children:n("nav.dashboard")}),e.jsx("i",{className:"fas fa-chevron-right"}),e.jsx("span",{className:"breadcrumb-item active",children:L[i]||n("header.overview")})]}),e.jsx("h2",{id:"pageTitle",children:L[i]||n("nav.dashboard")}),e.jsx("p",{id:"pageSubtitle",className:"header-subtitle",children:n("header.subtitle")})]}),e.jsx("div",{className:"header-right",children:e.jsxs("div",{className:"header-actions",children:[e.jsx(Es,{}),e.jsx("button",{className:"header-btn",onClick:b,title:n("common.settings"),children:e.jsx("i",{className:`fas ${w()}`})}),e.jsx("button",{className:"header-btn",onClick:S,title:n("common.refresh"),disabled:x,children:e.jsx("i",{className:`fas fa-${x?"spinner fa-spin":"sync-alt"}`})}),e.jsx("button",{className:"header-btn",onClick:t,title:"Chiqish",style:{color:"#dc3545"},children:e.jsx("i",{className:"fas fa-sign-out-alt"})}),e.jsxs("div",{className:"time-display",children:[e.jsx("div",{className:"time",children:c(o)}),e.jsx("div",{className:"date",children:v(o)})]})]})})]})},Ge=(i,t,s,a)=>{const n=(s-i)*Math.PI/180,o=(a-t)*Math.PI/180,l=Math.sin(n/2)*Math.sin(n/2)+Math.cos(i*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},et=async(i,t,s,a)=>{try{const r=`https://router.project-osrm.org/route/v1/driving/${t},${i};${a},${s}?overview=full&geometries=geojson`,o=await(await fetch(r)).json();if(o.code==="Ok"&&o.routes&&o.routes.length>0){const l=o.routes[0],f=l.geometry.coordinates.map(b=>[b[1],b[0]]),c=(l.distance/1e3).toFixed(2),v=(l.duration/60).toFixed(1);return{success:!0,path:f,distance:c,duration:v}}else return{success:!1}}catch(r){return console.error("âŒ OSRM API xatolik:",r),{success:!1}}};class Ms{constructor(t,s,a){this.updateVehicleState=t,this.setBinsData=s,this.setBinStatus=a,this.intervals={}}async buildPatrolRoute(t){if(!t.patrolWaypoints||t.patrolWaypoints.length===0){console.warn(`âš ï¸ ${t.id}: Patrol waypoints yo'q`);return}console.log(`ðŸ—ºï¸ ${t.id}: Patrol marshruti yaratilmoqda...`);const s=t.patrolWaypoints;let a=[];for(let r=0;r<s.length-1;r++){const n=s[r],o=s[r+1],l=await et(n[0],n[1],o[0],o[1]);l.success?a=[...a,...l.path]:a=[...a,n,o]}console.log(`âœ… ${t.id}: Patrol marshruti tayyor - ${a.length} nuqta`),this.updateVehicleState(t.id,{patrolRoute:a,position:a[0]||t.position})}startPatrol(t){this.intervals[t.id]&&clearInterval(this.intervals[t.id]);const s=Array.isArray(t.routePath)&&t.routePath.length>0;!t.isPatrolling||t.patrolRoute.length===0||s||(console.log(`ðŸš› ${t.id}: Patrol boshlandi`),this.intervals[t.id]=setInterval(()=>{const a=(t.patrolIndex+1)%t.patrolRoute.length;this.updateVehicleState(t.id,{position:t.patrolRoute[a],patrolIndex:a})},2e3))}async goToBin(t,s){console.log(`ðŸš› ${t.id}: Qutiga yo'nalmoqda...`);const a=await et(t.position[0],t.position[1],s.location[0],s.location[1]),r=a.success?a.path:[t.position,s.location];this.updateVehicleState(t.id,{isPatrolling:!1,routePath:r,currentPathIndex:0})}startGoingToBin(t,s){if(this.intervals[t.id]&&clearInterval(this.intervals[t.id]),!t.routePath||t.routePath.length===0)return;const a=Date.now();this.intervals[t.id]=setInterval(()=>{const r=t.currentPathIndex+1;r>=t.routePath.length?this.handleArrival(t,s,a):this.updateVehicleState(t.id,{position:t.routePath[r],currentPathIndex:r})},1500)}handleArrival(t,s,a){console.log(`âœ… ${t.id}: Qutiga yetdi!`),console.log(`â¸ï¸ ${t.id}: Qutida to'xtadi - 3 soniya kutilmoqda...`),this.intervals[t.id]&&clearInterval(this.intervals[t.id]),setTimeout(()=>{console.log(`ðŸ§¹ ${t.id}: Tozalash boshlandi!`),console.log(`ðŸŸ¢ QUTI YASHIL QILINYAPTI - ${t.id} tomonidan`),this.setBinStatus("EMPTY"),this.setBinsData(r=>r.map(n=>n.id===s.id?{...n,status:15,fillLevel:15,lastCleaned:new Date().toLocaleDateString("uz-UZ")+" "+new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),lastUpdate:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})}:n)),console.log(`âœ… ${t.id}: Tozalash tugallandi`),console.log(`ðŸš› ${t.id}: Patrolga qaytmoqda...`),this.updateVehicleState(t.id,{isPatrolling:!0,routePath:null,hasCleanedOnce:!0,currentPathIndex:0,patrolRoute:[],patrolIndex:0,cleaned:(t.cleaned||0)+1,status:"moving"})},3e3)}stopAll(){Object.keys(this.intervals).forEach(t=>{this.intervals[t]&&clearInterval(this.intervals[t])}),this.intervals={}}stopVehicle(t){this.intervals[t]&&(clearInterval(this.intervals[t]),delete this.intervals[t])}}const vt=()=>{var J,z,X,re;const{t:i}=te(),t=y.useRef(null),s=y.useRef(null),a=y.useRef([]),r=y.useRef([]),n=y.useRef([]);y.useRef({});const o=y.useRef(null),l=y.useRef(null),x=y.useRef(null),{showToast:f,binsData:c,setBinsData:v,binStatus:b,setBinStatus:S,vehiclesData:L,updateVehicleState:w,routesData:E,setRoutesData:Z,updateRoute:$}=ee(),D={north:39.7,south:39.62,east:67,west:66.92},B=(C,u)=>C>=D.south&&C<=D.north&&u>=D.west&&u<=D.east,U=(C,u)=>{const p=Math.max(D.south,Math.min(D.north,C)),N=Math.max(D.west,Math.min(D.east,u));return[p,N]},Y=c[0]||{id:"ESP32-IBN-SINO",location:[39.6742637,66.9737814],address:"Ibn Sino ko'chasi 17A, Samarqand",status:15,capacity:120},Q=C=>{if(!C)return Y;const u=C.targetBinId;return u&&c.find(p=>p.id===u||p.sensorId===u||p._backendId===u)||Y},W=C=>Array.isArray(C)&&C.length>0;y.useEffect(()=>(o.current=new Ms(w,v,S),()=>{o.current&&o.current.stopAll()}),[]);const h=L.find(C=>C.id==="VEH-001")||L[0],m=L.find(C=>C.id==="VEH-002")||L[1],K=async(C,u,p,N)=>{try{const g=`https://tozahudud-production-d73f.up.railway.app/routing/route?startLat=${C}&startLon=${u}&endLat=${p}&endLon=${N}`;console.log("ðŸ—ºï¸ Backend OSRM API: Marshrut so'ralmoqda..."),console.log(`ðŸ“ Start: [${C}, ${u}]`),console.log(`ðŸ“ End: [${p}, ${N}]`);const d=await fetch(g,{method:"GET",headers:{Accept:"application/json"}});if(!d.ok)throw new Error(`HTTP ${d.status}: ${d.statusText}`);const k=await d.json();return k.success&&k.data?(console.log("âœ… Backend OSRM marshrut topildi!"),console.log(`ðŸ“ Masofa: ${k.data.distance||"Noma'lum"}`),console.log(`â±ï¸ Vaqt: ${k.data.duration||"Noma'lum"}`),console.log(`ðŸ“Š Nuqtalar: ${k.data.path.length}`),{success:k.data.success,path:k.data.path,distance:k.data.distance,duration:k.data.duration}):(console.warn("âš ï¸ Backend OSRM: Marshrut topilmadi"),{success:!1,path:[[C,u],[p,N]]})}catch(R){console.warn("âš ï¸ Backend OSRM API xatolik:",R.message);const g=[];for(let d=0;d<=10;d++){const k=d/10,M=C+(p-C)*k,A=u+(N-u)*k;g.push([M,A])}return{success:!1,path:g}}};y.useEffect(()=>{h&&h.isPatrolling&&h.patrolRoute.length===0&&(console.log("ðŸ—ºï¸ VEH-001 Patrol marshruti yaratilmoqda (OSRM API)..."),(async()=>{const u=h.patrolWaypoints;let p=[];for(let N=0;N<u.length-1;N++){const R=u[N],g=u[N+1],d=await K(R[0],R[1],g[0],g[1]);if(d.success)p=[...p,...d.path];else for(let k=0;k<=10;k++){const M=k/10,A=R[0]+(g[0]-R[0])*M,j=R[1]+(g[1]-R[1])*M;p.push([A,j])}}console.log(`âœ… ${h.id} Patrol marshruti tayyor: ${p.length} nuqta`),w(h.id,{patrolRoute:p})})())},[h==null?void 0:h.isPatrolling,(J=h==null?void 0:h.patrolRoute)==null?void 0:J.length]),y.useEffect(()=>{m&&m.isPatrolling&&m.patrolRoute.length===0&&(console.log(`ðŸ—ºï¸ ${m.id} Patrol marshruti yaratilmoqda (Backend OSRM API)...`),(async()=>{const u=m.patrolWaypoints;let p=[];for(let N=0;N<u.length-1;N++){const R=u[N],g=u[N+1],d=await K(R[0],R[1],g[0],g[1]);if(d.success)p=[...p,...d.path];else for(let k=0;k<=10;k++){const M=k/10,A=R[0]+(g[0]-R[0])*M,j=R[1]+(g[1]-R[1])*M;p.push([A,j])}}console.log(`âœ… ${m.id} Patrol marshruti tayyor: ${p.length} nuqta`),w(m.id,{patrolRoute:p})})())},[m==null?void 0:m.isPatrolling,(z=m==null?void 0:m.patrolRoute)==null?void 0:z.length]),y.useEffect(()=>{if(h&&h.isPatrolling&&h.patrolRoute.length>0&&!W(h.routePath)){const C=setInterval(()=>{const u=h.patrolIndex+1;if(u>=h.patrolRoute.length){console.log(`ðŸ”„ ${h.id}: Marshrut oxiriga yetdi, yangi random yo'nalish qo'shilmoqda...`);const p=Y.location,N=.005;let R=p[0]+(Math.random()-.5)*N*2,g=p[1]+(Math.random()-.5)*N*2;const d=Math.sqrt(Math.pow(R-p[0],2)+Math.pow(g-p[1],2));if(d>N){const A=Math.atan2(R-p[0],g-p[1]);R=p[0]+Math.sin(A)*N,g=p[1]+Math.cos(A)*N}console.log(`ðŸ“ Bin location: [${p[0].toFixed(4)}, ${p[1].toFixed(4)}]`),console.log(`ðŸ“ New patrol position (near bin): [${R.toFixed(4)}, ${g.toFixed(4)}]`),console.log(`ðŸ“ Distance from bin: ${(d*111).toFixed(0)} meters`);const k=h.patrolRoute[h.patrolRoute.length-1];(async()=>{const A=await K(k[0],k[1],R,g);if(A.success&&A.path.length>1){console.log(`âœ… ${h.id}: Yangi yo'nalish qo'shildi (${A.path.length} nuqta)`);const j=[...h.patrolRoute,...A.path.slice(1)];w(h.id,{patrolRoute:j})}else{const j=[...h.patrolRoute,[R,g]];w(h.id,{patrolRoute:j})}})()}else{let p=h.patrolRoute[u];B(p[0],p[1])||(console.log(`âš ï¸ ${h.id}: Position outside Samarqand, constraining...`),p=U(p[0],p[1])),w(h.id,{position:p,patrolIndex:u}),fetch(`https://tozahudud-production-d73f.up.railway.app/vehicles/${h.id}/location`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:p[0],longitude:p[1]})}).catch(N=>console.error("Failed to update position:",N))}},2500);return()=>clearInterval(C)}},[h==null?void 0:h.isPatrolling,(X=h==null?void 0:h.patrolRoute)==null?void 0:X.length,h==null?void 0:h.routePath,h==null?void 0:h.patrolIndex]),y.useEffect(()=>{if(m&&m.isPatrolling&&m.patrolRoute.length>0&&!W(m.routePath)){const C=setInterval(()=>{const u=m.patrolIndex+1;if(u>=m.patrolRoute.length){console.log(`ðŸ”„ ${m.id}: Marshrut oxiriga yetdi, yangi random yo'nalish qo'shilmoqda...`);const p=Y.location,N=.005;let R=p[0]+(Math.random()-.5)*N*2,g=p[1]+(Math.random()-.5)*N*2;const d=Math.sqrt(Math.pow(R-p[0],2)+Math.pow(g-p[1],2));if(d>N){const A=Math.atan2(R-p[0],g-p[1]);R=p[0]+Math.sin(A)*N,g=p[1]+Math.cos(A)*N}console.log(`ðŸ“ Bin location: [${p[0].toFixed(4)}, ${p[1].toFixed(4)}]`),console.log(`ðŸ“ New patrol position (near bin): [${R.toFixed(4)}, ${g.toFixed(4)}]`),console.log(`ðŸ“ Distance from bin: ${(d*111).toFixed(0)} meters`);const k=m.patrolRoute[m.patrolRoute.length-1];(async()=>{const A=await K(k[0],k[1],R,g);if(A.success&&A.path.length>1){console.log(`âœ… ${m.id}: Yangi yo'nalish qo'shildi (${A.path.length} nuqta)`);const j=[...m.patrolRoute,...A.path.slice(1)];w(m.id,{patrolRoute:j})}else{const j=[...m.patrolRoute,[R,g]];w(m.id,{patrolRoute:j})}})()}else{let p=m.patrolRoute[u];B(p[0],p[1])||(console.log(`âš ï¸ ${m.id}: Position outside Samarqand, constraining...`),p=U(p[0],p[1])),w(m.id,{position:p,patrolIndex:u}),fetch(`https://tozahudud-production-d73f.up.railway.app/vehicles/${m.id}/location`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:p[0],longitude:p[1]})}).catch(N=>console.error("Failed to update position:",N))}},2500);return()=>clearInterval(C)}},[m==null?void 0:m.isPatrolling,(re=m==null?void 0:m.patrolRoute)==null?void 0:re.length,m==null?void 0:m.routePath,m==null?void 0:m.patrolIndex]),y.useEffect(()=>{if(!h)return;const C=Q(h);if(!h.isPatrolling&&W(h.routePath)){l.current&&clearInterval(l.current);const u=Date.now();l.current=setInterval(()=>{const p=h.currentPathIndex+1;if(p>=h.routePath.length){const N=Date.now(),R=Math.round((N-u)/1e3/60)||1;console.log(`âœ… ${h.id} qutiga yetdi!`),console.log("â¸ï¸ Mashina qutida to'xtadi - 3 soniya kutilmoqda..."),clearInterval(l.current);const g=E.find(d=>d.vehicle===h.id&&d.isActive);g&&$(g.id,{progress:100}),setTimeout(()=>{var j;console.log("ðŸ§¹ Tozalash boshlandi!"),console.log("â° Vaqt:",new Date().toLocaleTimeString());const d=Ge(h.routePath[0][0],h.routePath[0][1],C.location[0],C.location[1]),k=R>0?Number((d/(R/60)).toFixed(2)):0,M={binId:C.id,vehicleId:h.id,driverName:h.driver,binLocation:C.address,fillLevelBefore:95,fillLevelAfter:15,distanceTraveled:d,durationMinutes:R,notes:`Avtomatik tozalash (ESP32 signali) - ${h.id}`,status:"completed",routePath:h.routePath,startTime:new Date(u),endTime:new Date,averageSpeed:k};console.log("ðŸ“ Route:",(j=h.routePath)==null?void 0:j.length,"points"),console.log("â±ï¸ Duration:",R,"min"),console.log("ðŸš— Average speed:",k,"km/h"),V.createCleaning(M).then(T=>{T.success?console.log("âœ… Tozalash yozuvi yaratildi:",T.data):console.error("âŒ Tozalash yozuvi yaratishda xatolik:",T.error)}).catch(T=>{console.error("âŒ API xatolik:",T)}),console.log(`ðŸŸ¢ QUTI YASHIL QILINYAPTI - ${h.id} tomonidan`),console.log("â° Vaqt:",new Date().toLocaleTimeString()),S("EMPTY"),v(T=>T.map(q=>q.id===C.id||q.sensorId===C.sensorId||q._backendId===C._backendId?{...q,status:15,fillLevel:15,lastCleaned:new Date().toLocaleDateString("uz-UZ")+" "+new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),lastUpdate:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})}:q)),console.log("âœ… BIN STATUS: EMPTY (Yashil) - Tugallandi"),console.log(`ðŸš› ${h.id} patrolga qaytmoqda...`),w(h.id,{isPatrolling:!0,routePath:null,hasCleanedOnce:!0,currentPathIndex:0,patrolRoute:[],patrolIndex:0,cleaned:(h.cleaned||0)+1,status:"moving"});const A=E.find(T=>T.vehicle===h.id&&T.isActive);A&&Z(T=>T.filter(q=>q.id!==A.id))},3e3)}else{let N=h.routePath[p];B(N[0],N[1])||(console.log(`âš ï¸ ${h.id}: Position outside Samarqand (going to bin), constraining...`),N=U(N[0],N[1])),w(h.id,{position:N,currentPathIndex:p}),fetch(`https://tozahudud-production-d73f.up.railway.app/vehicles/${h.id}/location`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:N[0],longitude:N[1]})}).catch(d=>console.error(`Failed to save position for ${h.id}:`,d));const R=Math.round(p/h.routePath.length*100),g=E.find(d=>d.vehicle===h.id&&d.isActive);g&&$(g.id,{progress:R})}},2e3)}return()=>{l.current&&clearInterval(l.current)}},[h==null?void 0:h.id,h==null?void 0:h.isPatrolling,h==null?void 0:h.routePath,h==null?void 0:h.currentPathIndex]),y.useEffect(()=>{if(!m)return;const C=Q(m);if(!m.isPatrolling&&W(m.routePath)){x.current&&clearInterval(x.current);const u=Date.now();x.current=setInterval(()=>{const p=m.currentPathIndex+1;if(p>=m.routePath.length){const N=Date.now(),R=Math.round((N-u)/1e3/60)||1;console.log(`âœ… ${m.id} qutiga yetdi!`),console.log("â¸ï¸ Mashina qutida to'xtadi - 3 soniya kutilmoqda..."),clearInterval(x.current);const g=E.find(d=>d.vehicle===m.id&&d.isActive);g&&$(g.id,{progress:100}),setTimeout(()=>{var j;console.log("ðŸ§¹ Tozalash boshlandi!"),console.log("â° Vaqt:",new Date().toLocaleTimeString());const d=Ge(m.routePath[0][0],m.routePath[0][1],C.location[0],C.location[1]),k=R>0?Number((d/(R/60)).toFixed(2)):0,M={binId:C.id,vehicleId:m.id,driverName:m.driver,binLocation:C.address,fillLevelBefore:95,fillLevelAfter:15,distanceTraveled:d,durationMinutes:R,notes:`Avtomatik tozalash (ESP32 signali) - ${m.id}`,status:"completed",routePath:m.routePath,startTime:new Date(u),endTime:new Date,averageSpeed:k};console.log("ðŸ“ Route:",(j=m.routePath)==null?void 0:j.length,"points"),console.log("â±ï¸ Duration:",R,"min"),console.log("ðŸš— Average speed:",k,"km/h"),V.createCleaning(M).then(T=>{T.success?console.log("âœ… Tozalash yozuvi yaratildi:",T.data):console.error("âŒ Tozalash yozuvi yaratishda xatolik:",T.error)}).catch(T=>{console.error("âŒ API xatolik:",T)}),console.log(`ðŸŸ¢ QUTI YASHIL QILINYAPTI - ${m.id} tomonidan`),console.log("â° Vaqt:",new Date().toLocaleTimeString()),S("EMPTY"),v(T=>T.map(q=>q.id===C.id||q.sensorId===C.sensorId||q._backendId===C._backendId?{...q,status:15,fillLevel:15,lastCleaned:new Date().toLocaleDateString("uz-UZ")+" "+new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),lastUpdate:new Date().toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})}:q)),console.log("âœ… BIN STATUS: EMPTY (Yashil) - Tugallandi"),console.log(`ðŸš› ${m.id} patrolga qaytmoqda...`),w(m.id,{isPatrolling:!0,routePath:null,hasCleanedOnce:!0,currentPathIndex:0,patrolRoute:[],patrolIndex:0,cleaned:(m.cleaned||0)+1,status:"moving"});const A=E.find(T=>T.vehicle===m.id&&T.isActive);A&&Z(T=>T.filter(q=>q.id!==A.id))},3e3)}else{let N=m.routePath[p];B(N[0],N[1])||(console.log(`âš ï¸ ${m.id}: Position outside Samarqand (going to bin), constraining...`),N=U(N[0],N[1])),w(m.id,{position:N,currentPathIndex:p}),fetch(`https://tozahudud-production-d73f.up.railway.app/vehicles/${m.id}/location`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:N[0],longitude:N[1]})}).catch(d=>console.error(`Failed to save position for ${m.id}:`,d));const R=Math.round(p/m.routePath.length*100),g=E.find(d=>d.vehicle===m.id&&d.isActive);g&&$(g.id,{progress:R})}},2e3)}return()=>{x.current&&clearInterval(x.current)}},[m==null?void 0:m.id,m==null?void 0:m.isPatrolling,m==null?void 0:m.routePath,m==null?void 0:m.currentPathIndex]),y.useEffect(()=>{if(!t.current)return;const C=ue.map(t.current).setView([39.6742637,66.9737814],16);return s.current=C,ue.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors",maxZoom:19}).addTo(C),()=>{l.current&&clearInterval(l.current),x.current&&clearInterval(x.current),C.remove()}},[]),y.useEffect(()=>{if(!s.current)return;const C=s.current;a.current.forEach(u=>C.removeLayer(u)),r.current.forEach(u=>C.removeLayer(u)),n.current.forEach(u=>C.removeLayer(u)),a.current=[],r.current=[],n.current=[],c.forEach(u=>{const p=u.status>=90?"#ef4444":"#10b981",N=ue.divIcon({html:`<div style="background: ${p}; width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; box-shadow: 0 2px 6px rgba(0,0,0,0.4); border: 2px solid white;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 3V4H4V6H5V19C5 20.1 5.9 21 7 21H17C18.1 21 19 20.1 19 19V6H20V4H15V3H9M7 6H17V19H7V6M9 8V17H11V8H9M13 8V17H15V8H13Z"/>
          </svg>
        </div>`,iconSize:[32,32],iconAnchor:[16,32]}),R=ue.marker(u.location,{icon:N}).addTo(C).bindPopup(`
          <div>
            <h4>${u.id}</h4>
            <p><strong>Manzil:</strong> ${u.address||u.location}</p>
            <p><strong>Holat:</strong> ${u.status}%</p>
            <p><strong>Sig'im:</strong> ${u.capacity}L</p>
          </div>
        `);a.current.push(R)}),L.forEach((u,p)=>{const N=["#3b82f6","#f59e0b","#10b981","#ef4444","#8b5cf6","#ec4899"],R=u.isMoving?N[p%N.length]:"#6b7280",g=ue.divIcon({html:`<div style="background: ${R}; width: 44px; height: 44px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; box-shadow: 0 3px 8px rgba(0,0,0,0.4); border: 2px solid white;">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18,18.5A1.5,1.5 0 0,1 16.5,17A1.5,1.5 0 0,1 18,15.5A1.5,1.5 0 0,1 19.5,17A1.5,1.5 0 0,1 18,18.5M19.5,9.5L21.46,12H17V9.5M6,18.5A1.5,1.5 0 0,1 4.5,17A1.5,1.5 0 0,1 6,15.5A1.5,1.5 0 0,1 7.5,17A1.5,1.5 0 0,1 6,18.5M20,8H17V4H3C1.89,4 1,4.89 1,6V17H3A3,3 0 0,0 6,20A3,3 0 0,0 9,17H15A3,3 0 0,0 18,20A3,3 0 0,0 21,17H23V12L20,8Z"/>
          </svg>
        </div>`,iconSize:[44,44],iconAnchor:[22,44]}),d=ue.marker(u.position,{icon:g}).addTo(C).bindPopup(`
          <div>
            <h4>${u.id}</h4>
            <p><strong>Haydovchi:</strong> ${u.driver}</p>
            <p><strong>Holat:</strong> ${u.status==="moving"?"Harakatda":u.status==="active"?"Faol":"Nofaol"}</p>
            <p><strong>Tozalangan:</strong> ${u.cleaned||0} ta</p>
          </div>
        `);if(r.current.push(d),u.routePath&&u.routePath.length>0){const k=ue.polyline(u.routePath,{color:N[p%N.length],weight:4,opacity:.8,dashArray:"8, 4"}).addTo(C);n.current.push(k)}})},[c,L]);const le=()=>{s.current&&(s.current.setView([39.6742637,66.9737814],16),f&&f("Xarita markazlashtirildi","info"))};return e.jsxs("div",{className:"content-card map-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-map-marked-alt"})," ",i("liveMap.title")]}),e.jsx("div",{className:"card-actions",children:e.jsx("button",{className:"btn-icon",onClick:le,children:e.jsx("i",{className:"fas fa-crosshairs"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{ref:t,className:"live-map",style:{height:"400px"}}),e.jsxs("div",{className:"map-legend",children:[e.jsx("div",{style:{marginBottom:"8px",fontWeight:"600",color:"#555"},children:"Qutilar:"}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{style:{width:"16px",height:"16px",background:"#10b981",borderRadius:"4px"}}),e.jsx("span",{children:"Bo'sh (<90%)"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{style:{width:"16px",height:"16px",background:"#ef4444",borderRadius:"4px"}}),e.jsx("span",{children:"To'la (â‰¥90%)"})]}),e.jsx("div",{style:{marginTop:"12px",marginBottom:"8px",fontWeight:"600",color:"#555"},children:"Mashinalar:"}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{style:{width:"16px",height:"16px",background:"#3b82f6",borderRadius:"4px"}}),e.jsx("span",{children:"VEH-001"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{style:{width:"16px",height:"16px",background:"#f59e0b",borderRadius:"4px"}}),e.jsx("span",{children:"VEH-002"})]}),L.length>2&&e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{style:{width:"16px",height:"16px",background:"#10b981",borderRadius:"4px"}}),e.jsx("span",{children:"Boshqa mashinalar"})]})]})]})]})},qs=()=>{const{activityData:i,showToast:t,refreshData:s}=ee(),{t:a}=te(),[r,n]=at.useState(!1),o=async()=>{n(!0);try{await s(),t(a("dashboard.activityRefreshed"),"success")}catch{t("Faoliyatlarni yangilashda xatolik","error")}finally{setTimeout(()=>n(!1),800)}},l=f=>f.title.includes("to'ldi")?a("activity.binFull").replace("{binId}",f.binId||"BIN-001"):f.title.includes("yetib keldi")?a("activity.vehicleArrived").replace("{vehicleId}",f.vehicleId||"VH-001"):f.title.includes("Yangi quti")?a("activity.newBinAdded"):f.title.includes("ogohlantirish")?a("activity.binWarning").replace("{binId}",f.binId||"BIN-008"):f.title.includes("Sensor nosozligi")?a("activity.sensorMalfunction"):f.title,x=f=>f.description.includes("95% to'ldi")?a("activity.binFullDesc"):f.description.includes("tozalandi")?a("activity.binCleanedDesc").replace("{binId}",f.binId||"BIN-001"):f.description.includes("aktivlashtirildi")?a("activity.binActivatedDesc").replace("{binId}",f.binId||"BIN-011"):f.description.includes("85% to'ldi")?a("activity.binWarningDesc"):f.description.includes("ishlamayapti")?a("activity.sensorNotWorkingDesc").replace("{binId}",f.binId||"BIN-005"):f.description;return e.jsxs("div",{className:"content-card activity-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-history"})," ",a("dashboard.recentActivity")]}),e.jsx("button",{className:"btn-icon",onClick:o,disabled:r,children:e.jsx("i",{className:`fas fa-${r?"spinner fa-spin":"sync-alt"}`})})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"activity-list",children:i.slice(0,5).map((f,c)=>e.jsxs("div",{className:`activity-item ${f.type}`,children:[e.jsxs("div",{className:"activity-header",children:[e.jsx("div",{className:"activity-title",children:l(f)}),e.jsx("div",{className:"activity-time",children:f.time})]}),e.jsx("div",{className:"activity-desc",children:x(f)}),e.jsxs("div",{className:"activity-meta",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," ",f.location]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-clock"})," ",f.time]})]})]},f.id))})})]})},_s=()=>{const[i,t]=y.useState([]),[s,a]=y.useState({}),[r,n]=y.useState(!0);y.useEffect(()=>{o();const c=setInterval(o,5e3);return()=>clearInterval(c)},[]);const o=async()=>{try{console.log("ðŸ”„ Loading sensor data...");const[c,v]=await Promise.all([V.getSensorData(10),V.getSensorStats()]);console.log("ðŸ“Š Data result:",c),console.log("ðŸ“ˆ Stats result:",v),c.success?(console.log("âœ… Setting sensor data:",c.data),t(c.data)):console.error("âŒ Data result failed:",c),v.success?(console.log("âœ… Setting stats:",v.data),a(v.data)):console.error("âŒ Stats result failed:",v),n(!1)}catch(c){console.error("âŒ Sensor ma'lumotlarini yuklashda xatolik:",c),n(!1)}},l=c=>c?new Date(c).toLocaleString("uz-UZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A",x=c=>c<=10?"#ef4444":c<=20?"#f59e0b":"#10b981",f=c=>c<=10?"TO'LA":c<=20?"OGOHLANTIRISH":"NORMAL";return r?e.jsxs("div",{className:"sensor-panel",children:[e.jsx("div",{className:"sensor-header",children:e.jsx("h3",{children:"ðŸ“¡ ESP32 Sensor Ma'lumotlari"})}),e.jsx("div",{className:"loading",children:"Yuklanmoqda..."})]}):e.jsxs("div",{className:"sensor-panel",children:[e.jsxs("div",{className:"sensor-header",children:[e.jsx("h3",{children:"ðŸ“¡ ESP32 Sensor Ma'lumotlari"}),e.jsx("button",{onClick:o,className:"refresh-btn",children:"ðŸ”„ Yangilash"})]}),e.jsxs("div",{className:"sensor-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-label",children:"Jami o'lchashlar"}),e.jsx("div",{className:"stat-value",children:s.totalReadings||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-label",children:"Jami ogohlantirishlar"}),e.jsx("div",{className:"stat-value alert",children:s.totalAlerts||0})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-label",children:"O'rtacha masofa"}),e.jsx("div",{className:"stat-value",children:s.averageDistance?`${s.averageDistance.toFixed(1)} sm`:"N/A"})]})]}),e.jsx("div",{className:"sensor-data-list",children:i.length===0?e.jsxs("div",{className:"no-data",children:[e.jsx("p",{children:"Hozircha sensor ma'lumotlari yo'q"}),e.jsx("p",{className:"hint",children:"ESP32 qurilmangiz ma'lumot yuborishini kuting..."})]}):e.jsxs("table",{className:"sensor-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vaqt"}),e.jsx("th",{children:"Masofa (sm)"}),e.jsx("th",{children:"Holat"}),e.jsx("th",{children:"Quti ID"}),e.jsx("th",{children:"Joylashuv"})]})}),e.jsx("tbody",{children:i.map((c,v)=>e.jsxs("tr",{children:[e.jsx("td",{children:l(c.timestamp)}),e.jsx("td",{className:"distance-cell",children:e.jsxs("span",{className:"distance-badge",style:{backgroundColor:x(c.distance)},children:[c.distance," sm"]})}),e.jsx("td",{children:e.jsx("span",{className:"status-badge",style:{color:x(c.distance)},children:f(c.distance)})}),e.jsx("td",{children:c.binId||"N/A"}),e.jsx("td",{children:c.location||"N/A"})]},v))})]})})]})};kt.register(St,At,Tt);const tt=()=>{const{binsData:i,vehiclesData:t,activityData:s,showToast:a,apiConnected:r,loading:n,refreshData:o}=ee(),{t:l}=te(),[x,f]=y.useState("today"),c=i.length,v=i.filter(B=>B.status>=90).length,b=i.filter(B=>B.online).length,S=c>0?Math.round(b/c*100):0,L=t.length,w=t.filter(B=>B.status==="moving"||B.status==="active").length,E=t.reduce((B,U)=>B+U.cleaned,0),Z=()=>{const B=i.filter(W=>W.status<30).length,U=i.filter(W=>W.status>=30&&W.status<70).length,Y=i.filter(W=>W.status>=70&&W.status<90).length,Q=i.filter(W=>W.status>=90).length;return[B,U,Y,Q]},$={labels:[l("dashboard.emptyBins"),l("dashboard.halfBins"),l("dashboard.warningBins"),l("dashboard.fullBins")],datasets:[{data:Z(),backgroundColor:["#10b981","#eab308","#f59e0b","#ef4444"],borderWidth:2,borderColor:"var(--bg-card)",hoverOffset:20}]},D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"var(--text-primary)",padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:function(B){return`${B.label}: ${B.raw} ta`}}}},animation:{animateScale:!0,animateRotate:!0,duration:2e3}};return e.jsxs("div",{id:"dashboardTab",className:"tab-content active",children:[n&&e.jsx("div",{className:"loading-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:e.jsxs("div",{className:"loading-spinner",style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[e.jsx("i",{className:"fas fa-spinner fa-spin",style:{fontSize:"24px",marginBottom:"10px"}}),e.jsx("div",{children:l("dashboard.loading")})]})}),e.jsxs("div",{className:"api-status",style:{padding:"10px 15px",marginBottom:"20px",borderRadius:"8px",backgroundColor:r?"#d1fae5":"#fef3c7",border:`1px solid ${r?"#10b981":"#f59e0b"}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("i",{className:`fas fa-${r?"check-circle":"exclamation-triangle"}`,style:{color:r?"#10b981":"#f59e0b"}}),e.jsx("span",{style:{color:r?"#065f46":"#92400e"},children:l(r?"dashboard.apiConnected":"dashboard.demoMode")})]}),e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:o,disabled:n,children:[e.jsx("i",{className:"fas fa-sync-alt"})," ",l("dashboard.refresh")]})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card stat-card-primary",children:[e.jsxs("div",{className:"stat-header",children:[e.jsx("div",{className:"stat-icon",children:e.jsx("i",{className:"fas fa-trash"})}),e.jsxs("div",{className:"stat-trend trend-up",children:[e.jsx("i",{className:"fas fa-arrow-up"}),e.jsx("span",{children:"+5.2%"})]})]}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{className:"stat-value",children:c}),e.jsx("p",{className:"stat-label",children:l("dashboard.totalBins")})]}),e.jsxs("div",{className:"stat-progress",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${S}%`}})}),e.jsxs("span",{children:[S,"% ",l("dashboard.onlineShort")]})]})]}),e.jsxs("div",{className:"stat-card stat-card-warning",children:[e.jsx("div",{className:"stat-header",children:e.jsx("div",{className:"stat-icon",children:e.jsx("i",{className:"fas fa-exclamation-triangle"})})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{className:"stat-value",children:v}),e.jsx("p",{className:"stat-label",children:l("dashboard.fullBins")})]}),e.jsxs("div",{className:"stat-badges",children:[e.jsx("span",{className:"badge danger",children:"2"}),e.jsx("span",{className:"badge warning",children:"5"})]})]}),e.jsxs("div",{className:"stat-card stat-card-success",children:[e.jsxs("div",{className:"stat-header",children:[e.jsx("div",{className:"stat-icon",children:e.jsx("i",{className:"fas fa-check-circle"})}),e.jsxs("div",{className:"stat-trend trend-up",children:[e.jsx("i",{className:"fas fa-arrow-up"}),e.jsx("span",{children:"+12.3%"})]})]}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{className:"stat-value",children:E.toLocaleString()}),e.jsx("p",{className:"stat-label",children:l("dashboard.todayCleaned")})]}),e.jsx("div",{className:"stat-footer",children:e.jsx("span",{className:"stat-change",children:l("dashboard.comparedToPrevious")})})]}),e.jsxs("div",{className:"stat-card stat-card-info",children:[e.jsx("div",{className:"stat-header",children:e.jsx("div",{className:"stat-icon",children:e.jsx("i",{className:"fas fa-truck"})})}),e.jsxs("div",{className:"stat-content",children:[e.jsxs("h3",{className:"stat-value",children:[w,"/",L]}),e.jsx("p",{className:"stat-label",children:l("dashboard.activeVehicles")})]}),e.jsxs("div",{className:"stat-status",children:[e.jsx("div",{className:"status-indicator online"}),e.jsxs("span",{children:[w," ",l("dashboard.activeShort")]})]})]})]}),e.jsxs("div",{className:"content-row",children:[e.jsx(vt,{}),e.jsx(qs,{})]}),e.jsx(_s,{}),e.jsxs("div",{className:"content-row",children:[e.jsxs("div",{className:"content-card chart-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-chart-pie"})," ",l("dashboard.binStatus")]}),e.jsxs("select",{className:"chart-filter",value:x,onChange:B=>{f(B.target.value);const U=B.target.value==="today"?l("time.today"):B.target.value==="week"?l("time.week"):l("time.month");a(`${U} ${l("dashboard.statisticsShowing")}`,"info")},children:[e.jsx("option",{value:"today",children:l("time.today")}),e.jsx("option",{value:"week",children:l("time.week")}),e.jsx("option",{value:"month",children:l("time.month")})]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"chart-container",style:{height:"300px"},children:e.jsx(Ct,{data:$,options:D})})})]}),e.jsxs("div",{className:"content-card metrics-card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-tachometer-alt"})," ",l("dashboard.systemMetrics")]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-item",children:[e.jsxs("div",{className:"metric-label",children:[e.jsx("i",{className:"fas fa-bolt"}),e.jsx("span",{children:l("dashboard.systemLoad")})]}),e.jsxs("div",{className:"metric-value",children:[e.jsx("div",{className:"progress-bar small",children:e.jsx("div",{className:"progress-fill success",style:{width:"65%"}})}),e.jsx("span",{children:"65%"})]})]}),e.jsxs("div",{className:"metric-item",children:[e.jsxs("div",{className:"metric-label",children:[e.jsx("i",{className:"fas fa-wifi"}),e.jsx("span",{children:l("dashboard.onlineBins")})]}),e.jsxs("div",{className:"metric-value",children:[e.jsx("div",{className:"progress-bar small",children:e.jsx("div",{className:"progress-fill warning",style:{width:`${S}%`}})}),e.jsxs("span",{children:[S,"%"]})]})]}),e.jsxs("div",{className:"metric-item",children:[e.jsxs("div",{className:"metric-label",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:l("dashboard.avgResponseTime")})]}),e.jsxs("div",{className:"metric-value",children:[e.jsx("span",{className:"metric-number",children:"2.4"}),e.jsx("span",{className:"metric-unit",children:l("dashboard.minuteShort")})]})]}),e.jsxs("div",{className:"metric-item",children:[e.jsxs("div",{className:"metric-label",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:l("dashboard.successRate")})]}),e.jsxs("div",{className:"metric-value",children:[e.jsx("div",{className:"progress-bar small",children:e.jsx("div",{className:"progress-fill success",style:{width:"98%"}})}),e.jsx("span",{children:"98%"})]})]})]})})]})]})]})},Te=({isOpen:i,onClose:t,title:s,children:a,size:r="medium"})=>{if(y.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),!i)return null;const n={small:"max-w-md",medium:"max-w-2xl",large:"max-w-4xl",xl:"max-w-6xl"};return e.jsx("div",{className:"modal active",onClick:t,children:e.jsxs("div",{className:`modal-content ${n[r]}`,onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:s}),e.jsx("button",{className:"modal-close",onClick:t,children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body",children:a})]})})},Ls=({isOpen:i,onClose:t,bin:s})=>{const{t:a}=te();if(!s)return null;const r=l=>l>=90?"#ef4444":l>=70?"#f59e0b":l>=30?"#eab308":"#10b981",n=l=>l>=90?a("status.full"):l>=70?a("binDetail.almostFull"):l>=30?a("status.half"):a("status.empty"),o=r(s.status);return e.jsxs(Te,{isOpen:i,onClose:t,title:`${a("binDetail.binTitle")} #${s.id}`,size:"large",children:[e.jsxs("div",{className:"modal-grid",children:[e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-info-circle"})," ",a("binDetail.basicInfo")]}),e.jsxs("div",{className:"info-grid",children:[e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"var(--primary)"},children:e.jsx("i",{className:"fas fa-map-marker-alt"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("bins.address")}),e.jsx("p",{className:"info-value",children:s.address})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(139, 92, 246, 0.1)",color:"var(--secondary)"},children:e.jsx("i",{className:"fas fa-layer-group"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("binDetail.district")}),e.jsx("p",{className:"info-value",children:s.district})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--success)"},children:e.jsx("i",{className:"fas fa-weight"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("binDetail.capacity")}),e.jsxs("p",{className:"info-value",children:[s.capacity,"L"]})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"var(--warning)"},children:e.jsx("i",{className:"fas fa-trash"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("binDetail.wasteType")}),e.jsx("p",{className:"info-value",children:s.type})]})]})]})]}),e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-chart-line"})," ",a("binDetail.statusInfo")]}),e.jsxs("div",{className:"status-card",children:[e.jsxs("div",{className:"status-header",children:[e.jsx("span",{children:a("bins.fillLevel")}),e.jsxs("span",{className:"status-percent",style:{color:o},children:[s.status,"%"]})]}),e.jsx("div",{className:"progress-bar",style:{margin:"10px 0"},children:e.jsx("div",{className:"progress-fill",style:{width:`${s.status}%`,background:o}})}),e.jsxs("div",{className:"status-details",children:[e.jsxs("div",{className:"status-item",children:[e.jsxs("span",{children:[a("bins.status"),":"]}),e.jsx("strong",{style:{color:o},children:n(s.status)})]}),e.jsxs("div",{className:"status-item",children:[e.jsxs("span",{children:[a("binDetail.online"),":"]}),e.jsx("span",{className:s.online?"text-success":"text-danger",children:s.online?a("common.yes"):a("common.no")})]})]})]})]}),e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-clock"})," ",a("binDetail.timeInfo")]}),e.jsxs("div",{className:"info-list",children:[e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("bins.lastUpdate"),":"]}),e.jsx("span",{className:"info-value",children:s.lastUpdate})]}),e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("binDetail.lastCleaned"),":"]}),e.jsx("span",{className:"info-value",children:s.lastCleaned})]}),e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("binDetail.installDate"),":"]}),e.jsx("span",{className:"info-value",children:s.installDate})]})]})]}),e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-cog"})," ",a("binDetail.technicalInfo")]}),e.jsxs("div",{className:"info-list",children:[e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("binDetail.sensorId"),":"]}),e.jsx("span",{className:"info-value",children:s.sensorId})]}),e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("binDetail.coordinates"),":"]}),e.jsx("span",{className:"info-value",children:s.location&&Array.isArray(s.location)&&s.location.length>=2?`${parseFloat(s.location[0]).toFixed(4)}, ${parseFloat(s.location[1]).toFixed(4)}`:s.latitude&&s.longitude?`${parseFloat(s.latitude).toFixed(4)}, ${parseFloat(s.longitude).toFixed(4)}`:a("binDetail.noData")})]})]})]})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:t,children:a("common.close")}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>{t()},children:[e.jsx("i",{className:"fas fa-map"})," ",a("binDetail.showOnMap")]})]})]})},Ve=()=>{const{showToast:i}=ee(),t=y.useCallback((r,n="")=>{console.error(`ðŸš¨ Error in ${n}:`,r);let o="Noma'lum xatolik yuz berdi",l="error";return r.name==="NetworkError"||r.message.includes("fetch")?(o="Internet aloqasi bilan muammo. Iltimos, qaytadan urinib ko'ring.",l="warning"):r.message.includes("400")?o="Noto'g'ri ma'lumot yuborildi. Iltimos, tekshirib ko'ring.":r.message.includes("401")?o="Avtorizatsiya talab qilinadi. Iltimos, qaytadan kiring.":r.message.includes("403")?o="Bu amalni bajarish uchun ruxsat yo'q.":r.message.includes("404")?o="So'ralgan ma'lumot topilmadi.":r.message.includes("409")?o="Bu ma'lumot allaqachon mavjud.":r.message.includes("500")?o="Server xatosi. Iltimos, keyinroq qaytadan urinib ko'ring.":r.message&&(o=r.message),i(o,l),zs(r,n),{message:o,type:l}},[i]),s=y.useCallback(async(r,n="")=>{try{return await r()}catch(o){throw t(o,n),o}},[t]),a=y.useCallback((r,n="")=>r.catch(o=>(t(o,n),Promise.reject(o))),[t]);return{handleError:t,handleAsyncError:s,handlePromise:a}},zs=(i,t)=>{const s={message:i.message,stack:i.stack,context:t,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:localStorage.getItem("userId")||"anonymous"};console.log("ðŸ“Š Error logged to service:",s)},Os=({isOpen:i,onClose:t,binToEdit:s,apiConnected:a,onBinAdded:r})=>{const{binsData:n,setBinsData:o,showToast:l,setActivityData:x}=ee(),{handleAsyncError:f}=Ve(),{t:c}=te(),[v,b]=y.useState({id:"",address:"",district:"",capacity:120,type:"general",lat:41.311,lng:69.24}),[S,L]=y.useState(!1);y.useEffect(()=>{i&&b(s?{id:s.id,address:s.address,district:s.district,capacity:s.capacity,type:s.type,lat:s.location[0],lng:s.location[1]}:{id:(()=>{const D=Date.now().toString().slice(-4),B=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`BIN-${D}${B}`})(),address:"",district:"",capacity:120,type:"general",lat:41.311,lng:69.24})},[i,s]);const w=$=>$.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),E=$=>$.toLocaleDateString("uz-UZ",{day:"numeric",month:"short",year:"numeric"}),Z=async $=>{if($.preventDefault(),!v.id||!v.address||!v.district){l(c("addBin.fillAllFields"),"warning");return}if(v.address.length<10){l(c("addBin.addressTooShort"),"warning");return}if(!s&&n.find(D=>D.id===v.id)){l(c("addBin.idExists")||"Bu ID allaqachon mavjud","danger");return}L(!0);try{if(a){const D={code:v.id.toUpperCase(),address:v.address,district:v.district,latitude:parseFloat(v.lat),longitude:parseFloat(v.lng),capacity:parseInt(v.capacity),type:v.type,sensorId:s?s.sensorId:"SENSOR-"+Math.floor(Math.random()*1e4).toString().padStart(4,"0"),fillLevel:0};s?await f(async()=>{const B=await V.updateBin(s._backendId,D);if(B.success)l(c("addBin.binUpdated"),"success"),r&&r();else throw new Error(B.error||c("addBin.updateError")||"Qutini yangilashda xatolik")},"UpdateBin"):(console.log("ðŸ”„ Creating bin with data:",D),await f(async()=>{let B=await V.createBin(D);if(console.log("ðŸ“¦ Create bin result:",B),!B.success&&B.error&&B.error.includes("409")){console.log("âš ï¸ Code conflict detected, generating new code...");const U=Date.now().toString().slice(-4),Y=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),Q=`BIN-${U}${Y}`;D.code=Q,b(W=>({...W,id:Q})),console.log("ðŸ”„ Retrying with new code:",Q),B=await V.createBin(D),console.log("ðŸ“¦ Retry result:",B)}if(B.success)l(c("addBin.binAdded"),"success"),r&&r();else throw new Error(B.error||c("addBin.createError")||"Quti qo'shishda xatolik")},"CreateBin"))}else{const D={id:v.id.toUpperCase(),address:v.address,district:v.district,location:[parseFloat(v.lat),parseFloat(v.lng)],status:s?s.status:0,lastUpdate:w(new Date),lastCleaned:s?s.lastCleaned:E(new Date)+" "+w(new Date),capacity:parseInt(v.capacity),type:v.type,sensorId:s?s.sensorId:"SENSOR-"+Math.floor(Math.random()*1e4).toString().padStart(4,"0"),online:s?s.online:!0,installDate:s?s.installDate:E(new Date)};s?(o(B=>B.map(U=>U.id===s.id?D:U)),l(c("addBin.binUpdatedDemo"),"success")):(o(B=>[D,...B]),x(B=>[{id:`ACT-${Date.now()}`,type:"success",title:c("addBin.newBinAdded")||"Yangi quti qo'shildi",description:`${c("addBin.binTitle")} #${D.id} ${c("addBin.addedToSystem")}`||`Quti #${D.id} tizimga qo'shildi`,time:w(new Date),location:D.district,binId:D.id},...B]),l(c("addBin.binAddedDemo"),"success"))}b({id:"",address:"",district:"",capacity:120,type:"general",lat:41.311,lng:69.24}),t()}catch(D){console.error("Form submission error:",D)}finally{L(!1)}};return e.jsx(Te,{isOpen:i,onClose:t,title:c(s?"addBin.editTitle":"addBin.title"),size:"large",children:e.jsxs("form",{onSubmit:Z,children:[a&&e.jsxs("div",{className:"api-status",style:{padding:"10px 15px",marginBottom:"20px",borderRadius:"8px",backgroundColor:"#d1fae5",border:"1px solid #10b981",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("i",{className:"fas fa-check-circle",style:{color:"#10b981"}}),e.jsx("span",{style:{color:"#065f46"},children:c("addBin.apiConnectedNote")})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"binId",children:[c("addBin.binId")," *"]}),e.jsx("input",{type:"text",id:"binId",required:!0,placeholder:c("addBin.binIdPlaceholder"),pattern:"BIN-[A-Z0-9]{3,}",value:v.id,onChange:$=>b({...v,id:$.target.value}),disabled:s}),e.jsx("small",{className:"text-muted",children:c("addBin.binIdFormat")})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"binAddress",children:[c("addBin.address")," *"]}),e.jsx("input",{type:"text",id:"binAddress",required:!0,placeholder:c("addBin.addressPlaceholder"),minLength:"10",value:v.address,onChange:$=>b({...v,address:$.target.value})}),e.jsx("small",{className:"text-muted",children:c("addBin.addressMinLength")})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"binDistrict",children:[c("addBin.district")," *"]}),e.jsxs("select",{id:"binDistrict",required:!0,value:v.district,onChange:$=>b({...v,district:$.target.value}),children:[e.jsx("option",{value:"",children:c("addBin.selectDistrict")}),e.jsx("option",{value:"samarqand",children:c("districts.samarqand")})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"binCapacity",children:[c("addBin.capacity")," *"]}),e.jsx("input",{type:"number",id:"binCapacity",required:!0,min:"50",max:"500",value:v.capacity,onChange:$=>b({...v,capacity:$.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"binType",children:c("addBin.wasteType")}),e.jsxs("select",{id:"binType",value:v.type,onChange:$=>b({...v,type:$.target.value}),children:[e.jsx("option",{value:"general",children:c("addBin.general")}),e.jsx("option",{value:"plastic",children:c("addBin.plastic")}),e.jsx("option",{value:"organic",children:c("addBin.organic")}),e.jsx("option",{value:"paper",children:c("addBin.paper")})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"binLat",children:c("addBin.latitude")}),e.jsx("input",{type:"number",id:"binLat",step:"0.0001",value:v.lat,onChange:$=>b({...v,lat:$.target.value}),placeholder:"41.311"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"binLng",children:c("addBin.longitude")}),e.jsx("input",{type:"number",id:"binLng",step:"0.0001",value:v.lng,onChange:$=>b({...v,lng:$.target.value}),placeholder:"69.240"})]})]}),e.jsxs("div",{className:"form-actions",style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:S,children:c("addBin.cancel")}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:S,children:S?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," ",c("addBin.saving")]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:`fas fa-${s?"save":"plus"}`}),c(s?"addBin.save":"addBin.add")]})})]})]})})},Fs=()=>{const{binsData:i,setBinsData:t,showToast:s,apiConnected:a,refreshData:r}=ee(),{t:n}=te(),[o,l]=y.useState(1),[x,f]=y.useState(""),[c,v]=y.useState("all"),[b,S]=y.useState("all"),[L,w]=y.useState(null),[E,Z]=y.useState(!1),[$,D]=y.useState(!1),[B,U]=y.useState(null),Y=10,Q=async u=>{if(confirm(n("bins.deleteConfirm")||"Haqiqatan ham bu qutini o'chirmoqchimisiz?"))if(a)try{const p=i.find(N=>N.id===u);p&&p._backendId&&((await V.deleteBin(p._backendId)).success?(t(R=>R.filter(g=>g.id!==u)),s(n("bins.deleteSuccess")||"Quti muvaffaqiyatli o'chirildi","success"),r()):s(n("bins.deleteError")||"Qutini o'chirishda xatolik yuz berdi","error"))}catch(p){console.error("Error deleting bin:",p),s(n("bins.deleteError")||"Qutini o'chirishda xatolik yuz berdi","error")}else t(p=>p.filter(N=>N.id!==u)),s(n("bins.deleteSuccessDemo")||"Quti o'chirildi (demo rejim)","success")},W=async u=>{if(a)try{const p=i.find(N=>N.id===u);p&&p._backendId&&((await V.updateBin(p._backendId,{fillLevel:0,lastCleaned:new Date().toISOString()})).success?(t(R=>R.map(g=>g.id===u?{...g,status:0,lastCleaned:new Date().toLocaleDateString("uz-UZ")}:g)),s(n("bins.cleanSuccess")||"Quti tozalandi deb belgilandi","success"),r()):s(n("bins.cleanError")||"Qutini tozalashda xatolik yuz berdi","error"))}catch(p){console.error("Error cleaning bin:",p),s(n("bins.cleanError")||"Qutini tozalashda xatolik yuz berdi","error")}else t(p=>p.map(N=>N.id===u?{...N,status:0,lastCleaned:new Date().toLocaleDateString("uz-UZ")}:N)),s(n("bins.cleanSuccessDemo")||"Quti tozalandi (demo rejim)","success")},h=y.useMemo(()=>{let u=[...i];return x&&(u=u.filter(p=>p.id.toLowerCase().includes(x.toLowerCase())||p.address.toLowerCase().includes(x.toLowerCase())||p.district.toLowerCase().includes(x.toLowerCase()))),c!=="all"&&(u=u.filter(p=>c==="empty"?p.status<30:c==="half"?p.status>=30&&p.status<70:c==="warning"?p.status>=70&&p.status<90:c==="full"?p.status>=90:!0)),b!=="all"&&(u=u.filter(p=>p.district===b)),u},[i,x,c,b]),m=Math.ceil(h.length/Y),K=h.slice((o-1)*Y,o*Y),le=u=>u>=90?"#ef4444":u>=70?"#f59e0b":u>=30?"#eab308":"#10b981",J=u=>u>=90?e.jsx("span",{className:"badge danger",children:n("status.full")}):u>=70?e.jsx("span",{className:"badge warning",children:n("status.warning")}):u>=30?e.jsx("span",{className:"badge info",children:n("status.half")}):e.jsx("span",{className:"badge success",children:n("status.empty")}),z=()=>{f(""),s(n("messages.searchCleared"),"info")},X=()=>{s(n("messages.dataExporting"),"info");const u=JSON.stringify(i,null,2),p="data:application/json;charset=utf-8,"+encodeURIComponent(u),N=`smart-trash-bins-${new Date().toISOString().slice(0,10)}.json`,R=document.createElement("a");R.setAttribute("href",p),R.setAttribute("download",N),R.click(),s(n("messages.dataExported"),"success")},re=u=>{w(u),Z(!0)},C=u=>{U(u),D(!0)};return e.jsxs("div",{id:"binsTab",className:"tab-content active",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-trash-alt"})," ",n("bins.title")]}),e.jsxs("p",{children:[i.length," ",n("bins.monitoring"),a&&e.jsxs("span",{style:{color:"#10b981",marginLeft:"10px"},children:[e.jsx("i",{className:"fas fa-check-circle"})," API bog'langan"]}),!a&&e.jsxs("span",{style:{color:"#f59e0b",marginLeft:"10px"},children:[e.jsx("i",{className:"fas fa-exclamation-triangle"})," Demo rejim"]})]})]}),e.jsxs("div",{className:"header-right",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>{U(null),D(!0)},children:[e.jsx("i",{className:"fas fa-plus"})," ",n("bins.addNew")]}),e.jsxs("button",{className:"btn btn-secondary",onClick:X,children:[e.jsx("i",{className:"fas fa-download"})," ",n("bins.export")]}),a&&e.jsxs("button",{className:"btn btn-info",onClick:r,children:[e.jsx("i",{className:"fas fa-sync-alt"})," ",n("common.refresh")]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"search-box",children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("input",{type:"text",id:"binsSearch",placeholder:n("bins.search"),value:x,onChange:u=>{f(u.target.value),l(1)}}),x&&e.jsx("button",{className:"search-clear",onClick:z,children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{className:"filter-select",value:c,onChange:u=>{v(u.target.value),l(1)},children:[e.jsx("option",{value:"all",children:n("bins.allStatuses")}),e.jsx("option",{value:"empty",children:n("bins.empty")}),e.jsx("option",{value:"half",children:n("bins.half")}),e.jsx("option",{value:"warning",children:n("bins.warning")}),e.jsx("option",{value:"full",children:n("bins.full")})]}),e.jsxs("select",{className:"filter-select",value:b,onChange:u=>{S(u.target.value),l(1)},children:[e.jsx("option",{value:"all",children:n("bins.allAreas")}),e.jsx("option",{value:"samarqand",children:n("districts.samarqand")})]})]})]}),e.jsx("div",{className:"content-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:n("bins.binId")}),e.jsx("th",{children:n("bins.address")}),e.jsx("th",{children:n("bins.status")}),e.jsx("th",{children:n("bins.fillLevel")}),e.jsx("th",{children:n("bins.lastUpdate")}),e.jsx("th",{children:n("bins.actions")})]})}),e.jsx("tbody",{children:K.map(u=>{const p=le(u.status);return e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("strong",{style:{color:p},children:u.id}),a&&u._backendId&&e.jsxs("div",{style:{fontSize:"10px",color:"#666"},children:["Backend ID: ",u._backendId.slice(0,8),"..."]})]}),e.jsxs("td",{children:[e.jsx("div",{children:u.address}),e.jsx("small",{className:"text-muted",children:u.district})]}),e.jsxs("td",{children:[J(u.status),e.jsxs("div",{className:`status-badge ${u.online?"online":"offline"}`,children:[e.jsx("i",{className:`fas fa-${u.online?"wifi":"times-circle"}`}),u.online?n("status.online"):n("status.offline")]})]}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs("span",{children:[u.status,"%"]}),e.jsx("div",{className:"progress-bar",style:{flex:1},children:e.jsx("div",{className:"progress-fill",style:{width:`${u.status}%`,background:p}})})]})}),e.jsx("td",{children:u.lastUpdate}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-icon",onClick:()=>re(u),title:n("bins.view"),children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{className:"btn-icon",onClick:()=>C(u),title:n("bins.edit"),children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn-icon success",onClick:()=>W(u.id),title:n("bins.clean"),children:e.jsx("i",{className:"fas fa-broom"})}),e.jsx("button",{className:"btn-icon danger",onClick:()=>Q(u.id),title:n("bins.delete"),children:e.jsx("i",{className:"fas fa-trash"})})]})})]},u.id)})})]})}),e.jsxs("div",{className:"table-footer",children:[e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>l(u=>Math.max(1,u-1)),disabled:o===1,children:e.jsx("i",{className:"fas fa-chevron-left"})}),e.jsxs("span",{className:"page-info",children:[n("bins.page")," ",o,"/",m]}),e.jsx("button",{className:"pagination-btn",onClick:()=>l(u=>Math.min(m,u+1)),disabled:o===m,children:e.jsx("i",{className:"fas fa-chevron-right"})})]}),e.jsxs("div",{className:"table-summary",children:[e.jsxs("span",{className:"summary-item",children:[e.jsx("span",{className:"summary-dot success"}),e.jsxs("span",{children:[h.filter(u=>u.status<30).length," ",n("bins.emptyCount")]})]}),e.jsxs("span",{className:"summary-item",children:[e.jsx("span",{className:"summary-dot warning"}),e.jsxs("span",{children:[h.filter(u=>u.status>=70&&u.status<90).length," ",n("bins.warningCount")]})]}),e.jsxs("span",{className:"summary-item",children:[e.jsx("span",{className:"summary-dot danger"}),e.jsxs("span",{children:[h.filter(u=>u.status>=90).length," ",n("bins.fullCount")]})]})]})]})]})}),e.jsx(Ls,{isOpen:E,onClose:()=>{Z(!1),w(null)},bin:L}),e.jsx(Os,{isOpen:$,onClose:()=>{D(!1),U(null)},binToEdit:B,apiConnected:a,onBinAdded:r})]})},Us=({isOpen:i,onClose:t,vehicle:s})=>{const{t:a}=te();if(!s)return null;const r=o=>a(o==="moving"?"status.moving":o==="active"?"status.active":"vehicles.inactive"),n=o=>o==="moving"?"#3b82f6":o==="active"?"#10b981":"#94a3b8";return e.jsxs(Te,{isOpen:i,onClose:t,title:`${a("vehicleDetail.vehicleTitle")} #${s.id}`,size:"large",children:[e.jsxs("div",{className:"modal-grid",children:[e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-info-circle"})," ",a("vehicleDetail.basicInfo")]}),e.jsxs("div",{className:"info-grid",children:[e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"var(--primary)"},children:e.jsx("i",{className:"fas fa-user"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("vehicleDetail.driver")}),e.jsx("p",{className:"info-value",children:s.driver})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(139, 92, 246, 0.1)",color:"var(--secondary)"},children:e.jsx("i",{className:"fas fa-phone"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("vehicleDetail.phone")}),e.jsx("p",{className:"info-value",children:s.phone})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--success)"},children:e.jsx("i",{className:"fas fa-id-card"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("vehicleDetail.licensePlate")}),e.jsx("p",{className:"info-value",children:s.licensePlate})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"var(--warning)"},children:e.jsx("i",{className:"fas fa-route"})}),e.jsxs("div",{children:[e.jsx("p",{className:"info-label",children:a("vehicleDetail.route")}),e.jsx("p",{className:"info-value",children:s.route})]})]})]})]}),e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-chart-line"})," ",a("vehicleDetail.statusInfo")]}),e.jsxs("div",{className:"status-card",children:[e.jsxs("div",{className:"status-header",children:[e.jsx("span",{children:a("vehicleDetail.status")}),e.jsx("span",{className:"status-percent",style:{color:n(s.status)},children:r(s.status)})]}),e.jsx("div",{className:"status-details",children:e.jsxs("div",{className:"status-item",children:[e.jsxs("span",{children:[a("vehicleDetail.todayCleaned"),":"]}),e.jsxs("strong",{children:[s.cleaned," ",a("vehicleDetail.pieces")]})]})})]})]}),e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-tachometer-alt"})," ",a("vehicleDetail.technicalInfo")]}),e.jsxs("div",{className:"info-list",children:[e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("vehicleDetail.capacity"),":"]}),e.jsxs("span",{className:"info-value",children:[s.capacity.toLocaleString(),"L"]})]}),e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("vehicleDetail.lastService"),":"]}),e.jsx("span",{className:"info-value",children:s.lastService})]}),e.jsxs("div",{className:"info-row",children:[e.jsxs("span",{className:"info-label",children:[a("vehicleDetail.location"),":"]}),e.jsx("span",{className:"info-value",children:s.location})]})]})]}),s.currentBins&&s.currentBins.length>0&&e.jsxs("div",{className:"modal-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-trash"})," ",a("vehicleDetail.currentBins")]}),e.jsx("div",{className:"route-bins",children:s.currentBins.map(o=>e.jsx("span",{className:"bin-tag",children:o},o))})]})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:t,children:a("common.close")}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>{t()},children:[e.jsx("i",{className:"fas fa-map"})," ",a("vehicleDetail.showOnMap")]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>{window.open(`tel:${s.phone}`)},children:[e.jsx("i",{className:"fas fa-phone"})," ",a("vehicleDetail.makeCall")]})]})]})},Hs=({isOpen:i,onClose:t})=>{const{vehiclesData:s,setVehiclesData:a,showToast:r,refreshData:n}=ee(),{t:o}=te(),[l,x]=y.useState(!1),[f,c]=y.useState({id:"",driver:"",phone:"",licensePlate:"",status:"active",capacity:5e3,fuel:100,route:"Route A"}),v=async b=>{if(b.preventDefault(),!f.id||!f.driver||!f.phone){r(o("addVehicle.fillAllFields")||"Barcha majburiy maydonlarni to'ldiring","warning");return}if(s.find(S=>S.id===f.id)){r(o("addVehicle.idExists")||"Bu ID allaqachon mavjud","danger");return}x(!0);try{const S=await V.createVehicle({vehicleId:f.id.toUpperCase(),driver:f.driver,phone:f.phone,licensePlate:f.licensePlate,latitude:39.665,longitude:66.96});S.success?(r(o("addVehicle.vehicleAdded")||`Yangi mashina #${f.id} muvaffaqiyatli qo'shildi`,"success"),await n(),c({id:"",driver:"",phone:"",licensePlate:"",status:"active",capacity:5e3,fuel:100,route:"Route A"}),t()):r(S.error||"Mashina qo'shishda xatolik","error")}catch(S){console.error("âŒ Error creating vehicle:",S),r("Mashina qo'shishda xatolik yuz berdi","error")}finally{x(!1)}};return e.jsx(Te,{isOpen:i,onClose:t,title:o("addVehicle.title"),size:"large",children:e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"vehicleId",children:[o("addVehicle.vehicleId")," *"]}),e.jsx("input",{type:"text",id:"vehicleId",required:!0,placeholder:o("addVehicle.vehicleIdPlaceholder"),value:f.id,onChange:b=>c({...f,id:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"vehicleDriver",children:[o("addVehicle.driverName")," *"]}),e.jsx("input",{type:"text",id:"vehicleDriver",required:!0,placeholder:o("addVehicle.driverPlaceholder"),value:f.driver,onChange:b=>c({...f,driver:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"vehiclePhone",children:[o("addVehicle.phone")," *"]}),e.jsx("input",{type:"tel",id:"vehiclePhone",required:!0,placeholder:o("addVehicle.phonePlaceholder"),value:f.phone,onChange:b=>c({...f,phone:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vehicleLicense",children:o("addVehicle.licensePlate")}),e.jsx("input",{type:"text",id:"vehicleLicense",placeholder:o("addVehicle.licensePlaceholder"),value:f.licensePlate,onChange:b=>c({...f,licensePlate:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vehicleStatus",children:o("addVehicle.status")}),e.jsxs("select",{id:"vehicleStatus",value:f.status,onChange:b=>c({...f,status:b.target.value}),children:[e.jsx("option",{value:"active",children:o("vehicles.active")}),e.jsx("option",{value:"moving",children:o("vehicles.moving")}),e.jsx("option",{value:"inactive",children:o("vehicles.inactive")})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vehicleCapacity",children:o("addVehicle.capacity")}),e.jsx("input",{type:"number",id:"vehicleCapacity",min:"1000",max:"10000",value:f.capacity,onChange:b=>c({...f,capacity:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vehicleFuel",children:o("addVehicle.fuel")}),e.jsx("input",{type:"number",id:"vehicleFuel",min:"0",max:"100",value:f.fuel,onChange:b=>c({...f,fuel:b.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vehicleRoute",children:o("addVehicle.route")}),e.jsxs("select",{id:"vehicleRoute",value:f.route,onChange:b=>c({...f,route:b.target.value}),children:[e.jsx("option",{value:"Route A",children:o("addVehicle.routeA")}),e.jsx("option",{value:"Route B",children:o("addVehicle.routeB")}),e.jsx("option",{value:"Route C",children:o("addVehicle.routeC")}),e.jsx("option",{value:"Route D",children:o("addVehicle.routeD")})]})]})]}),e.jsxs("div",{className:"form-actions",style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:l,children:o("common.cancel")}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Qo'shilmoqda..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-plus"})," ",o("addVehicle.addButton")]})})]})]})})},Vs=()=>{const{vehiclesData:i,setVehiclesData:t,showToast:s,apiConnected:a,refreshData:r}=ee();Ve();const{t:n}=te(),[o,l]=y.useState("all"),[x,f]=y.useState(null),[c,v]=y.useState(!1),[b,S]=y.useState(!1),[L,w]=y.useState(!1),[E,Z]=y.useState(null),[$,D]=y.useState(null),[B,U]=y.useState(!1),Y=async m=>{if(!m._backendId){s("Bu mashinani o'chirib bo'lmaydi (backend ID yo'q)","warning");return}U(!0);try{const K=await V.deleteVehicle(m._backendId);K.success?(s(`Mashina ${m.id} muvaffaqiyatli o'chirildi`,"success"),await r(),D(null)):s(K.error||"Mashinani o'chirishda xatolik","error")}catch(K){console.error("âŒ Error deleting vehicle:",K),s("Mashinani o'chirishda xatolik yuz berdi","error")}finally{U(!1)}},Q=i.filter(m=>o==="all"?!0:m.status===o),W=m=>m==="moving"?"moving":m==="active"?"online":"offline",h=m=>n(m==="moving"?"status.moving":m==="active"?"status.active":"vehicles.inactive");return e.jsxs("div",{id:"vehiclesTab",className:"tab-content active",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-truck"})," ",n("vehicles.title")]}),e.jsxs("p",{children:[i.length," ",n("vehicles.monitoring")]})]}),e.jsx("div",{className:"header-right",children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>S(!0),children:[e.jsx("i",{className:"fas fa-plus"})," ",n("vehicles.addVehicle")]})})]}),e.jsx("div",{className:"vehicles-controls",children:e.jsxs("div",{className:"filter-buttons",children:[e.jsx("button",{className:`filter-btn ${o==="all"?"active":""}`,onClick:()=>l("all"),children:n("vehicles.all")}),e.jsx("button",{className:`filter-btn ${o==="active"?"active":""}`,onClick:()=>l("active"),children:n("vehicles.active")}),e.jsx("button",{className:`filter-btn ${o==="inactive"?"active":""}`,onClick:()=>l("inactive"),children:n("vehicles.inactive")}),e.jsx("button",{className:`filter-btn ${o==="moving"?"active":""}`,onClick:()=>l("moving"),children:n("vehicles.moving")})]})}),e.jsx("div",{className:"vehicles-grid",children:Q.map(m=>e.jsxs("div",{className:"vehicle-card",children:[e.jsxs("div",{className:"vehicle-header",children:[e.jsx("div",{className:"vehicle-icon",children:e.jsx("i",{className:"fas fa-truck"})}),e.jsxs("div",{className:"vehicle-info",children:[e.jsx("div",{className:"vehicle-title",children:m.id}),e.jsx("div",{className:"vehicle-driver",children:m.driver})]}),e.jsx("span",{className:`vehicle-status ${W(m.status)}`,children:h(m.status)})]}),e.jsx("div",{className:"vehicle-stats",children:e.jsxs("div",{className:"vehicle-stat",children:[e.jsx("div",{className:"stat-label",children:n("vehicles.cleaned")}),e.jsx("div",{className:"stat-value",children:m.cleaned})]})}),e.jsxs("div",{className:"vehicle-location",children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),e.jsx("span",{children:m.location})]}),e.jsxs("div",{className:"vehicle-actions",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>{f(m),v(!0)},children:[e.jsx("i",{className:"fas fa-info"})," ",n("vehicles.details")]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{m.phone&&m.phone!=="Noma'lum"?(Z({driver:m.driver,phone:m.phone,vehicleId:m.id}),w(!0)):s("Haydovchi telefon raqami mavjud emas","warning")},children:[e.jsx("i",{className:"fas fa-phone"})," ",n("vehicles.call")]}),e.jsxs("button",{className:"btn btn-danger",onClick:()=>D(m),style:{marginLeft:"auto"},children:[e.jsx("i",{className:"fas fa-trash"})," O'chirish"]})]})]},m.id))}),e.jsx(Us,{isOpen:c,onClose:()=>{v(!1),f(null)},vehicle:x}),e.jsx(Hs,{isOpen:b,onClose:()=>S(!1)}),L&&E&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"400px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-phone"})," Haydovchi bilan bog'lanish"]}),e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",style:{textAlign:"center",padding:"30px 20px"},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("i",{className:"fas fa-user",style:{fontSize:"48px",color:"var(--primary)",marginBottom:"15px"}}),e.jsx("h4",{style:{margin:"10px 0",color:"var(--text-primary)"},children:E.driver}),e.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:["Transport vositasi: ",E.vehicleId]})]}),e.jsxs("div",{style:{background:"var(--card-bg)",padding:"20px",borderRadius:"12px",border:"2px solid var(--primary)",marginBottom:"20px"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)",marginBottom:"5px"},children:"ðŸ“ž Telefon raqami"}),e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--text-primary)",fontFamily:"monospace",letterSpacing:"1px"},children:E.phone})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>{navigator.clipboard.writeText(E.phone).then(()=>{s("Telefon raqami nusxalandi","success")}).catch(()=>{s("Nusxalashda xatolik","error")})},children:[e.jsx("i",{className:"fas fa-copy"})," Nusxalash"]}),e.jsxs("button",{className:"btn btn-success",onClick:()=>{window.open(`tel:${E.phone}`)},children:[e.jsx("i",{className:"fas fa-phone"})," Qo'ng'iroq qilish"]})]})]})]})}),$&&e.jsx("div",{className:"modal-overlay",onClick:()=>!B&&D(null),children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"400px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-exclamation-triangle"})," Mashinani o'chirish"]}),e.jsx("button",{className:"modal-close",onClick:()=>!B&&D(null),disabled:B,children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[e.jsxs("p",{style:{marginBottom:"20px",color:"var(--text-primary)"},children:[e.jsx("strong",{children:$.id})," mashinasini o'chirishni xohlaysizmi?"]}),e.jsxs("p",{style:{marginBottom:"20px",color:"var(--text-secondary)",fontSize:"14px"},children:["Haydovchi: ",$.driver]}),e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>D(null),disabled:B,children:"Bekor qilish"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>Y($),disabled:B,children:B?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," O'chirilmoqda..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-trash"})," O'chirish"]})})]})]})]})})]})},Ys=()=>{const{showToast:i,routesData:t,updateRoute:s}=ee(),{t:a}=te(),r=()=>{i(a("routes.optimizing"),"info"),setTimeout(()=>{i(a("routes.optimized"),"success")},2e3)};return e.jsxs("div",{id:"routesTab",className:"tab-content active",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-route"})," ",a("routes.title")]}),e.jsxs("button",{className:"btn btn-primary",onClick:r,children:[e.jsx("i",{className:"fas fa-magic"})," ",a("routes.optimize")]})]}),e.jsx("div",{className:"routes-container",children:t.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666",fontSize:"16px"},children:[e.jsx("i",{className:"fas fa-route",style:{fontSize:"48px",marginBottom:"16px",opacity:.3}}),e.jsx("p",{children:"Hozircha faol marshrutlar yo'q"}),e.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:"Quti to'lganda mashina avtomatik yo'naladi va marshrut bu yerda ko'rinadi"})]}):t.map(n=>e.jsxs("div",{className:`route-card ${n.isActive?"active-route":""}`,children:[e.jsx("div",{className:"route-header",children:e.jsxs("div",{className:"route-info",children:[e.jsx("div",{className:"route-icon",children:e.jsx("i",{className:`fas ${n.isActive?"fa-truck-moving":"fa-route"}`})}),e.jsxs("div",{className:"route-details",children:[e.jsxs("div",{className:"route-title",children:[n.name,n.isActive&&e.jsx("span",{className:"active-badge",children:"Faol"})]}),e.jsxs("div",{className:"route-meta",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-truck"})," ",n.vehicle]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-road"})," ",n.distance]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-clock"})," ",n.estimatedTime]})]})]})]})}),e.jsxs("div",{className:"route-progress",children:[e.jsxs("div",{className:"progress-info",children:[e.jsx("span",{children:a("routes.progress")}),e.jsxs("span",{children:[n.progress,"%"]})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${n.progress}%`,backgroundColor:n.isActive?"#10b981":"#3b82f6"}})})]}),e.jsx("div",{className:"route-bins",children:n.bins.map(o=>e.jsx("span",{className:"bin-tag",children:o},o))})]},n.id))})]})},Ws=()=>{const{showToast:i}=ee(),{t}=te(),[s,a]=y.useState("today"),r=n=>{a(n);const o={today:t("reports.daily"),week:t("reports.weekly"),month:t("reports.monthly"),year:t("reports.yearly")}[n]||n;i(`${o} ${t("reports.reportLoading")}`,"info")};return e.jsx("div",{id:"reportsTab",className:"tab-content active",children:e.jsxs("div",{className:"reports-dashboard",children:[e.jsxs("div",{className:"reports-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-chart-bar"})," ",t("reports.title")]}),e.jsxs("div",{className:"report-period",children:[e.jsx("button",{className:`period-btn ${s==="today"?"active":""}`,onClick:()=>r("today"),children:t("reports.daily")}),e.jsx("button",{className:`period-btn ${s==="week"?"active":""}`,onClick:()=>r("week"),children:t("reports.weekly")}),e.jsx("button",{className:`period-btn ${s==="month"?"active":""}`,onClick:()=>r("month"),children:t("reports.monthly")}),e.jsx("button",{className:`period-btn ${s==="year"?"active":""}`,onClick:()=>r("year"),children:t("reports.yearly")})]})]}),e.jsxs("div",{className:"reports-grid",children:[e.jsxs("div",{className:"metric-card success",children:[e.jsx("div",{className:"metric-header",children:e.jsx("div",{className:"metric-title",children:t("reports.cleanedBins")})}),e.jsx("div",{className:"metric-value",children:"856"}),e.jsxs("div",{className:"metric-change change-up",children:["+12.3% ",t("reports.comparedToPrevious")]})]}),e.jsxs("div",{className:"metric-card warning",children:[e.jsx("div",{className:"metric-header",children:e.jsx("div",{className:"metric-title",children:t("reports.avgFillLevel")})}),e.jsx("div",{className:"metric-value",children:"65%"}),e.jsxs("div",{className:"metric-change",children:["-2.1% ",t("reports.comparedToPrevious")]})]}),e.jsxs("div",{className:"metric-card danger",children:[e.jsx("div",{className:"metric-header",children:e.jsx("div",{className:"metric-title",children:t("reports.alerts")})}),e.jsx("div",{className:"metric-value",children:"18"}),e.jsxs("div",{className:"metric-change change-up",children:["+5 ",t("reports.comparedToPrevious")]})]}),e.jsxs("div",{className:"metric-card info",children:[e.jsx("div",{className:"metric-header",children:e.jsx("div",{className:"metric-title",children:t("reports.vehicleUsage")})}),e.jsx("div",{className:"metric-value",children:"92%"}),e.jsxs("div",{className:"metric-change change-up",children:["+3.2% ",t("reports.comparedToPrevious")]})]})]})]})})},Qs=()=>{const{alertsData:i,setAlertsData:t,showToast:s,apiConnected:a,refreshData:r}=ee(),{handleAsyncError:n}=Ve(),{t:o}=te(),[l,x]=y.useState("all"),f=i.filter(S=>l==="all"?!0:l==="unread"?!S.read:S.type===l),c=async S=>{a?await n(async()=>{const L=await V.updateAlert(S,{isRead:!0});if(L.success)t(w=>w.map(E=>E.id===S?{...E,read:!0}:E)),s(o("alerts.markAsRead"),"success"),r();else throw new Error(L.error||o("alerts.markError"))},"MarkAlertAsRead"):(t(L=>L.map(w=>w.id===S?{...w,read:!0}:w)),s(o("alerts.markAsReadDemo"),"success"))},v=async()=>{window.confirm(o("alerts.clearAllConfirm"))&&(a?await n(async()=>{const S=i.map(L=>V.deleteAlert?V.deleteAlert(L.id):Promise.resolve());await Promise.all(S),t([]),s(o("alerts.allCleared"),"success"),r()},"ClearAllAlerts"):(t([]),s(o("alerts.allClearedDemo"),"success")))},b=S=>{switch(S){case"danger":return"fa-exclamation-circle";case"warning":return"fa-exclamation-triangle";case"info":return"fa-info-circle";default:return"fa-bell"}};return e.jsxs("div",{id:"alertsTab",className:"tab-content active",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-bell"})," ",o("alerts.title")]}),e.jsxs("button",{className:"btn btn-danger",onClick:v,children:[e.jsx("i",{className:"fas fa-trash"})," ",o("alerts.clearAll")]})]}),e.jsxs("div",{className:"alerts-container",children:[e.jsxs("div",{className:"alert-filters",children:[e.jsxs("button",{className:`filter-badge ${l==="all"?"active":""}`,onClick:()=>x("all"),style:{background:l==="all"?"linear-gradient(135deg, var(--primary), var(--secondary))":"var(--bg-secondary)",color:l==="all"?"white":"var(--text-secondary)",border:l==="all"?"none":"1px solid var(--border-color)"},children:[o("alerts.all")," (",i.length,")"]}),e.jsxs("button",{className:`filter-badge ${l==="unread"?"active":""}`,onClick:()=>x("unread"),style:{background:l==="unread"?"linear-gradient(135deg, var(--primary), var(--secondary))":"var(--bg-secondary)",color:l==="unread"?"white":"var(--text-secondary)",border:l==="unread"?"none":"1px solid var(--border-color)"},children:[o("alerts.unread")," (",i.filter(S=>!S.read).length,")"]}),e.jsxs("button",{className:`filter-badge filter-badge-danger ${l==="danger"?"active":""}`,onClick:()=>x("danger"),style:{background:l==="danger"?"linear-gradient(135deg, var(--danger), #f87171)":"var(--bg-secondary)",color:l==="danger"?"white":"var(--text-secondary)",border:l==="danger"?"none":"1px solid var(--border-color)"},children:[o("alerts.critical")," (",i.filter(S=>S.type==="danger").length,")"]}),e.jsxs("button",{className:`filter-badge filter-badge-warning ${l==="warning"?"active":""}`,onClick:()=>x("warning"),style:{background:l==="warning"?"linear-gradient(135deg, var(--warning), #fbbf24)":"var(--bg-secondary)",color:l==="warning"?"white":"var(--text-secondary)",border:l==="warning"?"none":"1px solid var(--border-color)"},children:[o("alerts.warning")," (",i.filter(S=>S.type==="warning").length,")"]})]}),f.length===0?e.jsxs("div",{className:"empty-state",style:{padding:"40px",textAlign:"center"},children:[e.jsx("i",{className:"fas fa-bell-slash",style:{fontSize:"48px",color:"var(--text-muted)",marginBottom:"16px"}}),e.jsx("p",{children:o("alerts.noAlerts")})]}):f.map(S=>e.jsxs("div",{className:`alert-item ${S.read?"":"unread"}`,children:[e.jsx("div",{className:`alert-icon ${S.type}`,children:e.jsx("i",{className:`fas ${b(S.type)}`})}),e.jsxs("div",{className:"alert-content",children:[e.jsx("div",{className:"alert-title",children:S.title}),e.jsx("div",{className:"alert-message",children:S.message}),e.jsxs("div",{className:"alert-meta",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," ",S.location]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-clock"})," ",S.time]})]})]}),e.jsx("div",{className:"alert-actions",children:!S.read&&e.jsx("button",{className:"btn-icon",onClick:()=>c(S.id),children:e.jsx("i",{className:"fas fa-check"})})})]},S.id))]})]})},Xs=()=>{const{theme:i,setTheme:t,showToast:s}=ee(),{t:a,language:r,setLanguage:n}=te(),[o,l]=y.useState("general"),x=b=>{t(b),s(`Mavzu "${b}" ga o'zgartirildi`,"success")},f=b=>{n(b),s(`Til ${b==="uz"?"O'zbek":b==="ru"?"Rus":"Ingliz"} tiliga o'zgartirildi`,"success")},c=[{id:"light",name:"Yorug'",icon:"fa-sun",color:"#ffffff"},{id:"dark",name:"Qorong'i",icon:"fa-moon",color:"#1a1a1a"},{id:"blue",name:"Ko'k",icon:"fa-palette",color:"#1e40af"},{id:"green",name:"Yashil",icon:"fa-leaf",color:"#059669"}],v=[{id:"uz",name:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{id:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{id:"en",name:"English",flag:"ðŸ‡¬ðŸ‡§"}];return e.jsxs("div",{className:"content-card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-cog"})," ",a("nav.settings")]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"settings-tabs",children:[e.jsxs("button",{className:`tab-btn ${o==="general"?"active":""}`,onClick:()=>l("general"),children:[e.jsx("i",{className:"fas fa-sliders-h"}),"Umumiy"]}),e.jsxs("button",{className:`tab-btn ${o==="appearance"?"active":""}`,onClick:()=>l("appearance"),children:[e.jsx("i",{className:"fas fa-palette"}),"Ko'rinish"]}),e.jsxs("button",{className:`tab-btn ${o==="notifications"?"active":""}`,onClick:()=>l("notifications"),children:[e.jsx("i",{className:"fas fa-bell"}),"Bildirishnomalar"]}),e.jsxs("button",{className:`tab-btn ${o==="system"?"active":""}`,onClick:()=>l("system"),children:[e.jsx("i",{className:"fas fa-server"}),"Tizim"]})]}),e.jsxs("div",{className:"tab-content",children:[o==="general"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h4",{children:"Umumiy sozlamalar"}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-globe"}),"Til"]}),e.jsx("div",{className:"language-options",children:v.map(b=>e.jsxs("button",{className:`language-btn ${r===b.id?"active":""}`,onClick:()=>f(b.id),children:[e.jsx("span",{className:"flag",children:b.flag}),e.jsx("span",{children:b.name})]},b.id))})]}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-sync-alt"}),"Avtomatik yangilanish"]}),e.jsx("div",{className:"setting-control",children:e.jsxs("select",{className:"form-select",children:[e.jsx("option",{value:"5",children:"5 soniya"}),e.jsx("option",{value:"10",children:"10 soniya"}),e.jsx("option",{value:"30",selected:!0,children:"30 soniya"}),e.jsx("option",{value:"60",children:"1 daqiqa"})]})})]}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-calendar"}),"Sana formati"]}),e.jsx("div",{className:"setting-control",children:e.jsxs("select",{className:"form-select",children:[e.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),e.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),e.jsx("option",{value:"yyyy-mm-dd",selected:!0,children:"YYYY-MM-DD"})]})})]})]}),o==="appearance"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h4",{children:"Ko'rinish sozlamalari"}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-palette"}),"Mavzu"]}),e.jsx("div",{className:"theme-options",children:c.map(b=>e.jsxs("button",{className:`theme-btn ${i===b.id?"active":""}`,onClick:()=>x(b.id),children:[e.jsx("div",{className:"theme-preview",style:{backgroundColor:b.color},children:e.jsx("i",{className:`fas ${b.icon}`})}),e.jsx("span",{children:b.name})]},b.id))})]}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-bars"}),"Yon panel"]}),e.jsxs("div",{className:"setting-control",children:[e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"slider"})]}),e.jsx("span",{children:"Avtomatik yashirish"})]})]}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-magic"}),"Animatsiyalar"]}),e.jsxs("div",{className:"setting-control",children:[e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"slider"})]}),e.jsx("span",{children:"Animatsiyalarni yoqish"})]})]})]}),o==="notifications"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h4",{children:"Bildirishnoma sozlamalari"}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-bell"}),"Push bildirishnomalar"]}),e.jsxs("div",{className:"setting-control",children:[e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"slider"})]}),e.jsx("span",{children:"Yoqilgan"})]})]}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-envelope"}),"Email bildirishnomalar"]}),e.jsxs("div",{className:"setting-control",children:[e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{className:"slider"})]}),e.jsx("span",{children:"O'chirilgan"})]})]}),e.jsxs("div",{className:"setting-group",children:[e.jsxs("label",{className:"setting-label",children:[e.jsx("i",{className:"fas fa-volume-up"}),"Ovozli bildirishnomalar"]}),e.jsxs("div",{className:"setting-control",children:[e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"slider"})]}),e.jsx("span",{children:"Yoqilgan"})]})]})]}),o==="system"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h4",{children:"Tizim sozlamalari"}),e.jsxs("div",{className:"system-info",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Versiya:"}),e.jsx("span",{className:"info-value",children:"3.0.0"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Oxirgi yangilanish:"}),e.jsx("span",{className:"info-value",children:"2024-01-13"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Tizim holati:"}),e.jsxs("span",{className:"info-value status-online",children:[e.jsx("i",{className:"fas fa-circle"}),"Faol"]})]})]}),e.jsxs("div",{className:"system-actions",children:[e.jsxs("button",{className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-download"}),"Ma'lumotlarni eksport qilish"]}),e.jsxs("button",{className:"btn btn-warning",children:[e.jsx("i",{className:"fas fa-broom"}),"Keshni tozalash"]}),e.jsxs("button",{className:"btn btn-danger",children:[e.jsx("i",{className:"fas fa-redo"}),"Tizimni qayta yuklash"]})]})]})]})]})]})},Ks=()=>{const{showToast:i}=ee(),{t}=te(),[s,a]=y.useState("statistics"),[r,n]=y.useState(!0),[o,l]=y.useState({totalUsers:0,totalReports:0,totalRatings:0,totalFeedbacks:0,averageRating:0}),[x,f]=y.useState([]),[c,v]=y.useState([]),[b,S]=y.useState([]),[L,w]=y.useState(0),[E,Z]=y.useState({id:123456789,is_bot:!0,first_name:"Toza Hudud Bot",username:"toza_hudud_bot"}),[$,D]=y.useState("active"),[B,U]=y.useState(""),Y=async()=>{try{n(!0);try{const J=await V.getTelegramBotInfo();J.success&&J.data&&Z(J.data)}catch{}const h=await V.getTelegramStats();h.success&&h.data&&l({totalUsers:h.data.totalUsers||0,totalReports:h.data.totalReports||0,totalRatings:h.data.totalRatings||0,totalFeedbacks:h.data.totalFeedbacks||0,averageRating:h.data.averageRating||0});const m=await V.getTelegramFeedbacks(10);if(m.success&&m.data&&m.data.length>0){const J=m.data.map(z=>({id:z.id,user:z.user_name,text:z.feedback_text,time:new Date(z.created_at).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),phone:z.user_phone,rating:Math.floor(Math.random()*2)+4,created_at:z.created_at}));if(J.length>0){const z=Math.max(...J.map(X=>X.id));L>0&&z>L&&J.filter(re=>re.id>L).forEach(re=>{i(`Yangi fikr: ${re.user} - ${re.text.substring(0,50)}...`,"success")}),w(z)}f(J)}const K=await V.getTelegramReports(15);if(K.success&&K.data&&K.data.length>0){const J=K.data.map(z=>({id:z.id,user:z.user_name,text:z.description.length>60?z.description.substring(0,60)+"...":z.description,time:new Date(z.created_at).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),type:z.status==="Kutilmoqda"?"alert":"message",phone:z.user_phone,status:z.status,location:z.latitude&&z.longitude?`${z.latitude}, ${z.longitude}`:null,created_at:z.created_at}));v(J)}const le=await V.getAllTelegramUsers(100);if(le.success&&le.data&&le.data.length>0){const z=le.data.filter(X=>X.status==="registered").map(X=>({id:X.telegram_id,name:X.name||"Noma'lum",phone:X.phone||"Noma'lum",status:X.status,joinDate:new Date(X.created_at).toLocaleDateString("uz-UZ"),lastActive:X.last_activity?new Date(X.last_activity).toLocaleDateString("uz-UZ"):"Noma'lum",reportsCount:X.reports_count||0,feedbacksCount:X.feedbacks_count||0}));S(z)}i("Database ma'lumotlari yuklandi","success")}catch{i("Ma'lumotlar yuklanmadi","error")}finally{n(!1)}};y.useEffect(()=>{Y();const h=setInterval(()=>{Y()},3e4);return()=>clearInterval(h)},[]);const Q=()=>{Y()},W=()=>{const h=$==="active"?"inactive":"active";D(h);const m=t(h==="active"?"telegram.activated":"telegram.deactivated");i(t("telegram.botToggled",{status:m}),"info")};return e.jsxs("div",{className:"content-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-paper-plane"})," ",t("telegram.title")]}),e.jsx("p",{className:"card-subtitle",children:t("telegram.subtitle")})]}),e.jsxs("div",{className:"card-actions",children:[e.jsxs("button",{className:"btn-secondary",onClick:Q,disabled:r,children:[e.jsx("i",{className:`fas fa-sync-alt ${r?"fa-spin":""}`}),t(r?"common.loading":"dashboard.refresh")]}),e.jsxs("button",{className:`btn ${$==="active"?"btn-danger":"btn-success"}`,onClick:W,children:[e.jsx("i",{className:`fas ${$==="active"?"fa-stop":"fa-play"}`}),t($==="active"?"telegram.stopBot":"telegram.startBot")]})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"bot-config",children:[e.jsx("h4",{children:t("telegram.botConfiguration")}),e.jsx("div",{className:"bot-info",children:e.jsxs("div",{className:"bot-status",children:[e.jsx("span",{className:`status-indicator ${$}`}),e.jsx("strong",{children:E.first_name})," (@",E.username,")",e.jsxs("span",{className:"bot-id",children:["ID: ",E.id]})]})})]}),e.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #ddd",marginBottom:"20px",background:"white",borderRadius:"8px 8px 0 0"},children:[e.jsxs("button",{style:{flex:1,padding:"15px 20px",background:s==="statistics"?"#007bff":"transparent",color:s==="statistics"?"white":"#666",border:"none",cursor:"pointer",fontWeight:"500",borderRadius:"8px 0 0 0"},onClick:()=>{console.log("Statistics clicked, setting activeTab to statistics"),a("statistics")},children:[e.jsx("i",{className:"fas fa-chart-bar"})," ",t("telegram.statistics")]}),e.jsxs("button",{style:{flex:1,padding:"15px 20px",background:s==="messages"?"#007bff":"transparent",color:s==="messages"?"white":"#666",border:"none",cursor:"pointer",fontWeight:"500"},onClick:()=>{console.log("Messages clicked, setting activeTab to messages"),a("messages")},children:[e.jsx("i",{className:"fas fa-comments"})," ",t("telegram.messages")," (",c.length,")"]}),e.jsxs("button",{style:{flex:1,padding:"15px 20px",background:s==="feedback"?"#007bff":"transparent",color:s==="feedback"?"white":"#666",border:"none",cursor:"pointer",fontWeight:"500"},onClick:()=>{console.log("Feedback clicked, setting activeTab to feedback"),a("feedback")},children:[e.jsx("i",{className:"fas fa-star"})," ",t("telegram.feedback")," (",Math.min(x.length,10),")"]}),e.jsxs("button",{style:{flex:1,padding:"15px 20px",background:s==="commands"?"#007bff":"transparent",color:s==="commands"?"white":"#666",border:"none",cursor:"pointer",fontWeight:"500",borderRadius:"0 8px 0 0"},onClick:()=>{console.log("Commands clicked, setting activeTab to commands"),a("commands")},children:[e.jsx("i",{className:"fas fa-terminal"})," ",t("telegram.commands")]})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"0 0 8px 8px",minHeight:"400px"},children:[e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:"ðŸ”¥ DEBUG MA'LUMOTLAR"}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsxs("strong",{children:[t("common.activeTab")||"Faol Tab",":"]})," ",e.jsx("span",{style:{color:"#007bff",fontSize:"18px"},children:s})]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsxs("strong",{children:[t("common.loading")||"Yuklanmoqda",":"]})," ",r.toString()]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsxs("strong",{children:[t("telegram.messages")," ",t("common.count")||"Soni",":"]})," ",c.length]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsxs("strong",{children:[t("telegram.feedback")," ",t("common.count")||"Soni",":"]})," ",x.length]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:"Ro'yxatdan o'tgan foydalanuvchilar:"})," ",b.length]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsxs("strong",{children:[t("telegram.statistics"),":"]})," ",t("telegram.totalUsers"),": ",o.totalUsers,", ",t("common.reports")||"Murojaatlar",": ",o.totalReports,", ",t("telegram.feedback"),": ",o.totalFeedbacks]})]}),r&&e.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[e.jsx("i",{className:"fas fa-spinner fa-spin",style:{fontSize:"2rem",color:"#007bff"}}),e.jsx("p",{children:t("common.loading")})]}),s==="statistics"&&e.jsxs("div",{style:{padding:"20px",background:"#d4edda",borderRadius:"8px",border:"2px solid #28a745"},children:[e.jsxs("h3",{style:{margin:"0 0 20px 0",color:"#155724"},children:["ðŸ“Š ",t("telegram.statistics").toUpperCase()," TAB FAOL"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",cursor:"pointer",transition:"transform 0.2s",border:"2px solid transparent"},onClick:()=>a("usersList"),onMouseEnter:h=>{h.target.style.transform="scale(1.05)",h.target.style.borderColor="#007bff"},onMouseLeave:h=>{h.target.style.transform="scale(1)",h.target.style.borderColor="transparent"},children:[e.jsx("i",{className:"fas fa-users",style:{fontSize:"2rem",color:"#007bff",marginBottom:"10px"}}),e.jsx("h4",{style:{margin:"10px 0",fontSize:"24px"},children:o.totalUsers}),e.jsx("p",{style:{margin:"0",color:"#666"},children:"Foydalanuvchilar"}),e.jsx("small",{style:{color:"#007bff",fontSize:"12px"},children:"Batafsil ko'rish uchun bosing"})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[e.jsx("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"2rem",color:"#ffc107",marginBottom:"10px"}}),e.jsx("h4",{style:{margin:"10px 0",fontSize:"24px"},children:o.totalReports}),e.jsx("p",{style:{margin:"0",color:"#666"},children:"Murojaatlar"})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[e.jsx("i",{className:"fas fa-star",style:{fontSize:"2rem",color:"#ffc107",marginBottom:"10px"}}),e.jsxs("h4",{style:{margin:"10px 0",fontSize:"24px"},children:[o.averageRating.toFixed(1),"/5"]}),e.jsx("p",{style:{margin:"0",color:"#666"},children:t("telegram.averageRating")})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[e.jsx("i",{className:"fas fa-comment-dots",style:{fontSize:"2rem",color:"#28a745",marginBottom:"10px"}}),e.jsx("h4",{style:{margin:"10px 0",fontSize:"24px"},children:o.totalFeedbacks}),e.jsx("p",{style:{margin:"0",color:"#666"},children:t("telegram.userFeedback")})]})]})]}),s==="messages"&&e.jsxs("div",{style:{padding:"20px",background:"#cce5ff",borderRadius:"8px",border:"2px solid #007bff"},children:[e.jsxs("h3",{style:{margin:"0 0 20px 0",color:"#004085"},children:["ðŸ’¬ ",t("telegram.messages").toUpperCase()," TAB FAOL (",c.length," ta)"]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:c.length===0?e.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"18px"},children:t("telegram.noMessages")}):c.slice(0,10).map(h=>e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[e.jsx("strong",{style:{color:"#007bff"},children:h.user}),e.jsx("span",{style:{fontSize:"12px",color:"#666"},children:h.time})]}),e.jsx("p",{style:{margin:"0 0 10px 0"},children:h.text}),h.status&&e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:"#e9ecef",color:"#495057"},children:h.status})]},h.id))})]}),s==="feedback"&&e.jsxs("div",{style:{padding:"20px",background:"#ffe6cc",borderRadius:"8px",border:"2px solid #fd7e14"},children:[e.jsxs("h3",{style:{margin:"0 0 20px 0",color:"#8a4100"},children:["â­ ",t("telegram.feedback").toUpperCase()," TAB FAOL (",Math.min(x.length,10)," ta)"]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:x.length===0?e.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"18px"},children:t("telegram.noFeedback")}):x.slice(0,10).map(h=>e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[e.jsx("strong",{style:{color:"#fd7e14"},children:h.user}),e.jsxs("div",{children:[[...Array(5)].map((m,K)=>e.jsx("i",{className:"fas fa-star",style:{color:K<h.rating?"#ffc107":"#e5e7eb",marginRight:"2px"}},K)),e.jsx("span",{style:{marginLeft:"10px",fontSize:"12px",color:"#666"},children:h.time})]})]}),e.jsx("p",{style:{margin:"0"},children:h.text})]},h.id))})]}),s==="usersList"&&e.jsxs("div",{style:{padding:"20px",background:"#e8f5e8",borderRadius:"8px",border:"2px solid #28a745"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("h3",{style:{margin:"0",color:"#155724"},children:["ðŸ‘¥ RO'YXATDAN O'TGAN FOYDALANUVCHILAR (",b.length," ta)"]}),e.jsx("button",{style:{padding:"8px 16px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},onClick:()=>a("statistics"),children:"â† Statistikaga qaytish"})]}),e.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"20px"},children:[e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"8px",textAlign:"center",flex:1},children:[e.jsx("h4",{style:{margin:"0",color:"#28a745"},children:b.length}),e.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"14px"},children:"To'liq ro'yxatdan o'tgan"})]}),e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"8px",textAlign:"center",flex:1},children:[e.jsx("h4",{style:{margin:"0",color:"#007bff"},children:b.reduce((h,m)=>h+m.reportsCount,0)}),e.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"14px"},children:"Jami murojaatlar"})]}),e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"8px",textAlign:"center",flex:1},children:[e.jsx("h4",{style:{margin:"0",color:"#fd7e14"},children:b.reduce((h,m)=>h+m.feedbacksCount,0)}),e.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"14px"},children:"Jami fikrlar"})]})]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:b.length===0?e.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"18px"},children:"Ro'yxatdan o'tgan foydalanuvchilar topilmadi"}):b.map(h=>e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{children:[e.jsx("strong",{style:{color:"#007bff",fontSize:"16px"},children:h.name}),e.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",background:"#d4edda",color:"#155724"},children:"âœ… Ro'yxatdan o'tgan"})]}),e.jsxs("span",{style:{fontSize:"12px",color:"#666"},children:["ID: ",h.id]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"14px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ðŸ“ž Telefon:"})," ",h.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ðŸ“… Qo'shilgan:"})," ",h.joinDate]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ðŸ“Š Murojaatlar:"})," ",h.reportsCount]}),e.jsxs("div",{children:[e.jsx("strong",{children:"â­ Fikrlar:"})," ",h.feedbacksCount]})]}),h.lastActive!=="Noma'lum"&&e.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:[e.jsx("strong",{children:"ðŸ•’ Oxirgi faollik:"})," ",h.lastActive]})]},h.id))})]}),s==="commands"&&e.jsxs("div",{style:{padding:"20px",background:"#f8f9fa",borderRadius:"8px",border:"2px solid #6c757d"},children:[e.jsxs("h3",{style:{margin:"0 0 20px 0",color:"#495057"},children:["âš¡ ",t("telegram.commands").toUpperCase()," TAB FAOL"]}),e.jsxs("div",{children:[e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx("code",{style:{background:"#e9ecef",padding:"4px 8px",borderRadius:"4px",color:"#495057"},children:"/start"}),e.jsx("span",{style:{marginLeft:"15px"},children:t("telegram.startCommand")})]}),e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx("code",{style:{background:"#e9ecef",padding:"4px 8px",borderRadius:"4px",color:"#495057"},children:"/help"}),e.jsx("span",{style:{marginLeft:"15px"},children:t("telegram.helpCommand")})]}),e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx("code",{style:{background:"#e9ecef",padding:"4px 8px",borderRadius:"4px",color:"#495057"},children:"/status"}),e.jsx("span",{style:{marginLeft:"15px"},children:t("telegram.statusCommand")})]}),e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx("code",{style:{background:"#e9ecef",padding:"4px 8px",borderRadius:"4px",color:"#495057"},children:"/report"}),e.jsx("span",{style:{marginLeft:"15px"},children:t("telegram.reportCommand")})]}),e.jsxs("div",{style:{background:"white",padding:"15px",marginBottom:"10px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx("code",{style:{background:"#e9ecef",padding:"4px 8px",borderRadius:"4px",color:"#495057"},children:"/feedback"}),e.jsx("span",{style:{marginLeft:"15px"},children:t("telegram.feedbackCommand")})]})]})]})]})]})]})},Js=()=>{const{showToast:i}=ee();te();const[t,s]=y.useState(!0),[a,r]=y.useState("realtime"),[n,o]=y.useState([]),[l,x]=y.useState([]),[f,c]=y.useState({totalReadings:0,totalAlerts:0,averageDistance:0,lastReading:null,activeAlerts:0}),v=async()=>{try{s(!0);const w=window.location.hostname==="localhost"?"http://localhost:3002":"https://tozahudud-production-d73f.up.railway.app",Z=await(await fetch(`${w}/sensors/latest?limit=20`)).json();Z.success&&o(Z.data);const D=await(await fetch(`${w}/alerts?limit=15`)).json();if(D.success){const Y=D.data.map(Q=>({id:Q.id,message:Q.message,binId:Q.binId||"N/A",location:Q.location,timestamp:Q.createdAt,status:Q.status,distance:null}));x(Y)}const U=await(await fetch(`${w}/sensors/stats`)).json();U.success&&c(U.data)}catch(w){console.error("Sensor ma'lumotlarini yuklashda xatolik:",w),i("Ma'lumotlar yuklanmadi","error")}finally{s(!1)}};y.useEffect(()=>{v();const w=setInterval(()=>{v()},5e3);return()=>clearInterval(w)},[]);const b=()=>{v()},S=w=>w<=10?"#dc3545":w<=20?"#ffc107":w<=40?"#fd7e14":"#28a745",L=w=>w<=10?"Juda to'la":w<=20?"To'la":w<=40?"Yarim to'la":"Bo'sh";return e.jsxs("div",{className:"content-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-microchip"})," ESP32 Sensor Monitoring"]}),e.jsx("p",{className:"card-subtitle",children:"Real-time chiqindi quti monitoring tizimi"})]}),e.jsx("div",{className:"card-actions",children:e.jsxs("button",{className:"btn-secondary",onClick:b,disabled:t,children:[e.jsx("i",{className:`fas fa-sync-alt ${t?"fa-spin":""}`}),t?"Yuklanmoqda...":"Yangilash"]})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[e.jsx("i",{className:"fas fa-ruler",style:{fontSize:"2rem",color:"#007bff",marginBottom:"10px"}}),e.jsx("h4",{style:{margin:"10px 0",fontSize:"24px"},children:f.lastReading?`${f.lastReading.distance} sm`:"N/A"}),e.jsx("p",{style:{margin:"0",color:"#666"},children:"Oxirgi o'lchash"}),f.lastReading&&e.jsx("small",{style:{color:S(f.lastReading.distance),fontWeight:"600"},children:L(f.lastReading.distance)})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[e.jsx("i",{className:"fas fa-chart-line",style:{fontSize:"2rem",color:"#28a745",marginBottom:"10px"}}),e.jsx("h4",{style:{margin:"10px 0",fontSize:"24px"},children:f.totalReadings}),e.jsx("p",{style:{margin:"0",color:"#666"},children:"Jami o'lchashlar"})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[e.jsx("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"2rem",color:"#ffc107",marginBottom:"10px"}}),e.jsx("h4",{style:{margin:"10px 0",fontSize:"24px"},children:f.activeAlerts}),e.jsx("p",{style:{margin:"0",color:"#666"},children:"Faol alertlar"})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[e.jsx("i",{className:"fas fa-calculator",style:{fontSize:"2rem",color:"#17a2b8",marginBottom:"10px"}}),e.jsxs("h4",{style:{margin:"10px 0",fontSize:"24px"},children:[f.averageDistance," sm"]}),e.jsx("p",{style:{margin:"0",color:"#666"},children:"O'rtacha masofa"})]})]}),e.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #ddd",marginBottom:"20px",background:"white",borderRadius:"8px 8px 0 0"},children:[e.jsxs("button",{style:{flex:1,padding:"15px 20px",background:a==="realtime"?"#007bff":"transparent",color:a==="realtime"?"white":"#666",border:"none",cursor:"pointer",fontWeight:"500",borderRadius:"8px 0 0 0"},onClick:()=>r("realtime"),children:[e.jsx("i",{className:"fas fa-broadcast-tower"})," Real-time Ma'lumotlar (",n.length,")"]}),e.jsxs("button",{style:{flex:1,padding:"15px 20px",background:a==="alerts"?"#007bff":"transparent",color:a==="alerts"?"white":"#666",border:"none",cursor:"pointer",fontWeight:"500",borderRadius:"0 8px 0 0"},onClick:()=>r("alerts"),children:[e.jsx("i",{className:"fas fa-bell"})," Alertlar (",l.length,")"]})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"0 0 8px 8px",minHeight:"400px"},children:[t&&e.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[e.jsx("i",{className:"fas fa-spinner fa-spin",style:{fontSize:"2rem",color:"#007bff"}}),e.jsx("p",{children:"Ma'lumotlar yuklanmoqda..."})]}),a==="realtime"&&!t&&e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 20px 0",color:"#333"},children:"ðŸ“¡ Oxirgi Sensor Ma'lumotlari"}),e.jsx("div",{style:{maxHeight:"500px",overflowY:"auto"},children:n.length===0?e.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"18px"},children:"Hech qanday ma'lumot topilmadi"}):n.map(w=>e.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",marginBottom:"10px",borderRadius:"8px",borderLeft:`4px solid ${S(w.distance)}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[e.jsxs("strong",{style:{fontSize:"18px",color:S(w.distance)},children:[w.distance," sm"]}),e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",background:S(w.distance),color:"white"},children:L(w.distance)}),w.isAlert&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"12px",background:"#dc3545",color:"white"},children:"ðŸš¨ ALERT"})]}),e.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[e.jsx("strong",{children:"Sensor ID:"})," ",w.binId," â€¢",e.jsx("strong",{children:" Joylashuv:"})," ",w.location]})]}),e.jsx("div",{style:{textAlign:"right",fontSize:"12px",color:"#999"},children:new Date(w.timestamp).toLocaleString("uz-UZ")})]},w.id))})]}),a==="alerts"&&!t&&e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 20px 0",color:"#333"},children:"ðŸš¨ Sensor Alertlari"}),e.jsx("div",{style:{maxHeight:"500px",overflowY:"auto"},children:l.length===0?e.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"18px"},children:"Hech qanday alert topilmadi"}):l.map(w=>e.jsxs("div",{style:{background:w.status==="active"?"#fff3cd":"#d1ecf1",padding:"15px",marginBottom:"10px",borderRadius:"8px",border:`1px solid ${w.status==="active"?"#ffeaa7":"#bee5eb"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("i",{className:"fas fa-exclamation-triangle",style:{color:"#856404"}}),e.jsxs("strong",{style:{color:"#856404"},children:["Alert #",w.id.slice(-8)]}),e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"12px",background:w.status==="active"?"#dc3545":"#28a745",color:"white"},children:w.status==="active"?"FAOL":"HAL QILINGAN"})]}),e.jsx("span",{style:{fontSize:"12px",color:"#666"},children:new Date(w.timestamp).toLocaleString("uz-UZ")})]}),e.jsx("p",{style:{margin:"0 0 10px 0",color:"#333"},children:w.message}),e.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[e.jsx("strong",{children:"Joylashuv:"})," ",w.location,w.distance&&e.jsxs(e.Fragment,{children:[" â€¢ ",e.jsx("strong",{children:"Masofa:"})," ",w.distance," sm"]})]})]},w.id))})]})]})]})]})},Zs=()=>{const{toasts:i,removeToast:t}=ee(),s=a=>{switch(a){case"success":return"fa-check-circle";case"warning":return"fa-exclamation-triangle";case"danger":return"fa-times-circle";default:return"fa-info-circle"}};return e.jsx("div",{id:"toastContainer",className:"toast-container",children:i.map(a=>e.jsxs("div",{className:`toast ${a.type}`,children:[e.jsx("div",{className:"toast-icon",children:e.jsx("i",{className:`fas ${s(a.type)}`})}),e.jsxs("div",{className:"toast-content",children:[e.jsx("div",{className:"toast-title",children:a.type.charAt(0).toUpperCase()+a.type.slice(1)}),e.jsx("div",{className:"toast-message",children:a.message})]}),e.jsx("button",{className:"toast-close",onClick:()=>t(a.id),children:e.jsx("i",{className:"fas fa-times"})})]},a.id))})};class st extends at.Component{constructor(s){super(s);xe(this,"logErrorToService",(s,a)=>{const r={message:s.message,stack:s.stack,componentStack:a?a.componentStack:"No component stack available",timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("ðŸ“Š Error logged:",r)});xe(this,"handleReload",()=>{window.location.reload()});xe(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,a){console.error("ðŸš¨ Error Boundary caught an error:",s,a),this.setState({error:s,errorInfo:a}),this.logErrorToService(s,a)}render(){return this.state.hasError?e.jsx("div",{style:{padding:"40px",textAlign:"center",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa"},children:e.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",maxWidth:"600px",width:"100%"},children:[e.jsx("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"ðŸ˜µ"}),e.jsx("h1",{style:{color:"#dc3545",marginBottom:"16px"},children:"Oops! Nimadir noto'g'ri ketdi"}),e.jsx("p",{style:{color:"#6c757d",marginBottom:"24px",fontSize:"16px"},children:"Ilovada xatolik yuz berdi. Iltimos, sahifani yangilang yoki bosh sahifaga qayting."}),!1,e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[e.jsxs("button",{onClick:this.handleReload,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-sync-alt",style:{marginRight:"8px"}}),"Sahifani Yangilash"]}),e.jsxs("button",{onClick:this.handleGoHome,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-home",style:{marginRight:"8px"}}),"Bosh Sahifa"]})]})]})}):this.props.children}}function Gs(){const[i,t]=y.useState(!0),[s,a]=y.useState(()=>localStorage.getItem("isAuthenticated")==="true"),[r,n]=y.useState("dashboard"),[o,l]=y.useState(!1);y.useEffect(()=>{setTimeout(()=>{t(!1)},1500)},[]);const x=(v,b)=>v.toLowerCase()==="admin"?(localStorage.setItem("isAuthenticated","true"),a(!0),!0):!1,f=()=>{localStorage.removeItem("isAuthenticated"),a(!1)};if(!s)return e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px"},children:e.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",width:"100%",maxWidth:"400px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("h1",{style:{color:"#333",marginBottom:"10px",fontSize:"28px",fontWeight:"600"},children:"ðŸ—‘ï¸ Toza Hudud"}),e.jsx("p",{style:{color:"#666",margin:"0",fontSize:"16px"},children:"Admin Panel"})]}),e.jsxs("form",{onSubmit:v=>{v.preventDefault();const b=new FormData(v.target),S=b.get("username");b.get("password"),x(S)||alert("Noto'g'ri login ma'lumotlari. Username: admin")},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#333",fontWeight:"500"},children:"Username"}),e.jsx("input",{type:"text",name:"username",placeholder:"admin",required:!0,style:{width:"100%",padding:"12px 16px",border:"2px solid #e1e5e9",borderRadius:"8px",fontSize:"16px",outline:"none",boxSizing:"border-box"}})]}),e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#333",fontWeight:"500"},children:"Parol"}),e.jsx("input",{type:"password",name:"password",placeholder:"Istalgan parol",required:!0,style:{width:"100%",padding:"12px 16px",border:"2px solid #e1e5e9",borderRadius:"8px",fontSize:"16px",outline:"none",boxSizing:"border-box"}})]}),e.jsx("button",{type:"submit",style:{width:"100%",padding:"14px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Kirish"})]}),e.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"8px",fontSize:"14px",color:"#666",textAlign:"center"},children:[e.jsx("strong",{children:"Username:"})," admin",e.jsx("br",{}),e.jsx("strong",{children:"Parol:"})," istalgan"]})]})});const c=()=>{switch(r){case"dashboard":return e.jsx(tt,{});case"bins":return e.jsx(Fs,{});case"vehicles":return e.jsx(Vs,{});case"liveMap":return e.jsx(vt,{});case"routes":return e.jsx(Ys,{});case"reports":return e.jsx(Ws,{});case"alerts":return e.jsx(Qs,{});case"sensors":return e.jsx(Js,{});case"telegram":return e.jsx(Ks,{});case"settings":return e.jsx(Xs,{});default:return e.jsx(tt,{})}};return i?e.jsx(It,{}):e.jsx(st,{children:e.jsxs("div",{className:"app",children:[e.jsx(Ds,{currentTab:r,setCurrentTab:n,collapsed:o,setCollapsed:l}),e.jsxs("div",{className:`main-content ${o?"sidebar-collapsed":""}`,children:[e.jsx($s,{currentTab:r,onLogout:f}),e.jsx("main",{className:"content",children:e.jsx(st,{children:c()})}),e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"footer-left",children:[e.jsx("span",{children:"Â© 2024 Smart Trash System"}),e.jsx("span",{className:"footer-divider",children:"|"}),e.jsx("span",{children:"Version 3.0.0"})]}),e.jsxs("div",{className:"footer-right",children:[e.jsxs("span",{className:"system-status",children:[e.jsx("i",{className:"fas fa-circle online"}),"Tizim faol"]}),e.jsx("span",{className:"footer-divider",children:"|"}),e.jsxs("span",{children:["So'nggi yangilanish: ",e.jsx("span",{id:"lastUpdateTime",children:"14:30"})]})]})]})]}),e.jsx(Zs,{})]})})}function ea(){return e.jsx(Gs,{})}De.createRoot(document.getElementById("root")).render(e.jsx(Rs,{children:e.jsx(ea,{})}));
